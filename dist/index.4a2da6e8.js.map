{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-38771fbce87d78f9.js","node_modules/ogl-typescript/src/math/functions/Mat4Func.ts","node_modules/ogl-typescript/src/math/Mat4.ts","node_modules/ogl-typescript/src/math/functions/Vec3Func.ts","node_modules/ogl-typescript/src/Guards.ts","node_modules/ogl-typescript/src/math/Vec3.ts","node_modules/ogl-typescript/src/math/functions/QuatFunc.ts","node_modules/ogl-typescript/src/math/functions/Vec4Func.ts","node_modules/ogl-typescript/src/math/Quat.ts","node_modules/ogl-typescript/src/math/Euler.ts","node_modules/ogl-typescript/src/math/functions/EulerFunc.ts","node_modules/ogl-typescript/src/core/Transform.ts","node_modules/ogl-typescript/src/core/Camera.ts","node_modules/ogl-typescript/src/core/Geometry.ts","node_modules/ogl-typescript/src/math/functions/Mat3Func.ts","node_modules/ogl-typescript/src/math/Mat3.ts","node_modules/ogl-typescript/src/core/Mesh.ts","node_modules/ogl-typescript/src/math/functions/Vec2Func.ts","node_modules/ogl-typescript/src/math/Vec2.ts","node_modules/ogl-typescript/src/extras/Orbit.ts","node_modules/ogl-typescript/src/core/Program.ts","node_modules/ogl-typescript/src/core/Renderer.ts","node_modules/ogl-typescript/src/core/Texture.ts","node_modules/tweakpane/dist/tweakpane.js","node_modules/@parcel/runtime-js/lib/runtime-dbbf5002ea2434b4.js","node_modules/@tweakpane/plugin-essentials/dist/tweakpane-plugin-essentials.js","src/ts/TweakPanel.ts","src/ts/App.ts","src/ts/config.ts","src/ts/index.ts","src/shaders/vert.glsl","src/shaders/frag.glsl"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"gpNS7\\\":\\\"index.4a2da6e8.js\\\",\\\"7y0Ew\\\":\\\"T_Noise_03.360d1654.png\\\"}\"));",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"/*! Tweakpane 4.0.3 (c) 2016 cocopon, licensed under the MIT license. */\nfunction forceCast(v) {\n    return v;\n}\nfunction isEmpty(value) {\n    return value === null || value === undefined;\n}\nfunction isObject$1(value) {\n    return value !== null && typeof value === 'object';\n}\nfunction isRecord(value) {\n    return value !== null && typeof value === 'object';\n}\nfunction deepEqualsArray(a1, a2) {\n    if (a1.length !== a2.length) {\n        return false;\n    }\n    for (let i = 0; i < a1.length; i++) {\n        if (a1[i] !== a2[i]) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction deepMerge(r1, r2) {\n    const keys = Array.from(new Set([...Object.keys(r1), ...Object.keys(r2)]));\n    return keys.reduce((result, key) => {\n        const v1 = r1[key];\n        const v2 = r2[key];\n        return isRecord(v1) && isRecord(v2)\n            ? Object.assign(Object.assign({}, result), { [key]: deepMerge(v1, v2) }) : Object.assign(Object.assign({}, result), { [key]: key in r2 ? v2 : v1 });\n    }, {});\n}\n\nfunction isBinding(value) {\n    if (!isObject$1(value)) {\n        return false;\n    }\n    return 'target' in value;\n}\n\nconst CREATE_MESSAGE_MAP = {\n    alreadydisposed: () => 'View has been already disposed',\n    invalidparams: (context) => `Invalid parameters for '${context.name}'`,\n    nomatchingcontroller: (context) => `No matching controller for '${context.key}'`,\n    nomatchingview: (context) => `No matching view for '${JSON.stringify(context.params)}'`,\n    notbindable: () => `Value is not bindable`,\n    notcompatible: (context) => `Not compatible with  plugin '${context.id}'`,\n    propertynotfound: (context) => `Property '${context.name}' not found`,\n    shouldneverhappen: () => 'This error should never happen',\n};\nclass TpError {\n    static alreadyDisposed() {\n        return new TpError({ type: 'alreadydisposed' });\n    }\n    static notBindable() {\n        return new TpError({\n            type: 'notbindable',\n        });\n    }\n    static notCompatible(bundleId, id) {\n        return new TpError({\n            type: 'notcompatible',\n            context: {\n                id: `${bundleId}.${id}`,\n            },\n        });\n    }\n    static propertyNotFound(name) {\n        return new TpError({\n            type: 'propertynotfound',\n            context: {\n                name: name,\n            },\n        });\n    }\n    static shouldNeverHappen() {\n        return new TpError({ type: 'shouldneverhappen' });\n    }\n    constructor(config) {\n        var _a;\n        this.message =\n            (_a = CREATE_MESSAGE_MAP[config.type](forceCast(config.context))) !== null && _a !== void 0 ? _a : 'Unexpected error';\n        this.name = this.constructor.name;\n        this.stack = new Error(this.message).stack;\n        this.type = config.type;\n    }\n    toString() {\n        return this.message;\n    }\n}\n\nclass BindingTarget {\n    constructor(obj, key) {\n        this.obj_ = obj;\n        this.key = key;\n    }\n    static isBindable(obj) {\n        if (obj === null) {\n            return false;\n        }\n        if (typeof obj !== 'object' && typeof obj !== 'function') {\n            return false;\n        }\n        return true;\n    }\n    read() {\n        return this.obj_[this.key];\n    }\n    write(value) {\n        this.obj_[this.key] = value;\n    }\n    writeProperty(name, value) {\n        const valueObj = this.read();\n        if (!BindingTarget.isBindable(valueObj)) {\n            throw TpError.notBindable();\n        }\n        if (!(name in valueObj)) {\n            throw TpError.propertyNotFound(name);\n        }\n        valueObj[name] = value;\n    }\n}\n\nclass Emitter {\n    constructor() {\n        this.observers_ = {};\n    }\n    on(eventName, handler, opt_options) {\n        var _a;\n        let observers = this.observers_[eventName];\n        if (!observers) {\n            observers = this.observers_[eventName] = [];\n        }\n        observers.push({\n            handler: handler,\n            key: (_a = opt_options === null || opt_options === void 0 ? void 0 : opt_options.key) !== null && _a !== void 0 ? _a : handler,\n        });\n        return this;\n    }\n    off(eventName, key) {\n        const observers = this.observers_[eventName];\n        if (observers) {\n            this.observers_[eventName] = observers.filter((observer) => {\n                return observer.key !== key;\n            });\n        }\n        return this;\n    }\n    emit(eventName, event) {\n        const observers = this.observers_[eventName];\n        if (!observers) {\n            return;\n        }\n        observers.forEach((observer) => {\n            observer.handler(event);\n        });\n    }\n}\n\nclass ComplexValue {\n    constructor(initialValue, config) {\n        var _a;\n        this.constraint_ = config === null || config === void 0 ? void 0 : config.constraint;\n        this.equals_ = (_a = config === null || config === void 0 ? void 0 : config.equals) !== null && _a !== void 0 ? _a : ((v1, v2) => v1 === v2);\n        this.emitter = new Emitter();\n        this.rawValue_ = initialValue;\n    }\n    get constraint() {\n        return this.constraint_;\n    }\n    get rawValue() {\n        return this.rawValue_;\n    }\n    set rawValue(rawValue) {\n        this.setRawValue(rawValue, {\n            forceEmit: false,\n            last: true,\n        });\n    }\n    setRawValue(rawValue, options) {\n        const opts = options !== null && options !== void 0 ? options : {\n            forceEmit: false,\n            last: true,\n        };\n        const constrainedValue = this.constraint_\n            ? this.constraint_.constrain(rawValue)\n            : rawValue;\n        const prevValue = this.rawValue_;\n        const changed = !this.equals_(prevValue, constrainedValue);\n        if (!changed && !opts.forceEmit) {\n            return;\n        }\n        this.emitter.emit('beforechange', {\n            sender: this,\n        });\n        this.rawValue_ = constrainedValue;\n        this.emitter.emit('change', {\n            options: opts,\n            previousRawValue: prevValue,\n            rawValue: constrainedValue,\n            sender: this,\n        });\n    }\n}\n\nclass PrimitiveValue {\n    constructor(initialValue) {\n        this.emitter = new Emitter();\n        this.value_ = initialValue;\n    }\n    get rawValue() {\n        return this.value_;\n    }\n    set rawValue(value) {\n        this.setRawValue(value, {\n            forceEmit: false,\n            last: true,\n        });\n    }\n    setRawValue(value, options) {\n        const opts = options !== null && options !== void 0 ? options : {\n            forceEmit: false,\n            last: true,\n        };\n        const prevValue = this.value_;\n        if (prevValue === value && !opts.forceEmit) {\n            return;\n        }\n        this.emitter.emit('beforechange', {\n            sender: this,\n        });\n        this.value_ = value;\n        this.emitter.emit('change', {\n            options: opts,\n            previousRawValue: prevValue,\n            rawValue: this.value_,\n            sender: this,\n        });\n    }\n}\n\nclass ReadonlyPrimitiveValue {\n    constructor(value) {\n        this.emitter = new Emitter();\n        this.onValueBeforeChange_ = this.onValueBeforeChange_.bind(this);\n        this.onValueChange_ = this.onValueChange_.bind(this);\n        this.value_ = value;\n        this.value_.emitter.on('beforechange', this.onValueBeforeChange_);\n        this.value_.emitter.on('change', this.onValueChange_);\n    }\n    get rawValue() {\n        return this.value_.rawValue;\n    }\n    onValueBeforeChange_(ev) {\n        this.emitter.emit('beforechange', Object.assign(Object.assign({}, ev), { sender: this }));\n    }\n    onValueChange_(ev) {\n        this.emitter.emit('change', Object.assign(Object.assign({}, ev), { sender: this }));\n    }\n}\n\nfunction createValue(initialValue, config) {\n    const constraint = config === null || config === void 0 ? void 0 : config.constraint;\n    const equals = config === null || config === void 0 ? void 0 : config.equals;\n    if (!constraint && !equals) {\n        return new PrimitiveValue(initialValue);\n    }\n    return new ComplexValue(initialValue, config);\n}\nfunction createReadonlyValue(value) {\n    return [\n        new ReadonlyPrimitiveValue(value),\n        (rawValue, options) => {\n            value.setRawValue(rawValue, options);\n        },\n    ];\n}\n\nclass ValueMap {\n    constructor(valueMap) {\n        this.emitter = new Emitter();\n        this.valMap_ = valueMap;\n        for (const key in this.valMap_) {\n            const v = this.valMap_[key];\n            v.emitter.on('change', () => {\n                this.emitter.emit('change', {\n                    key: key,\n                    sender: this,\n                });\n            });\n        }\n    }\n    static createCore(initialValue) {\n        const keys = Object.keys(initialValue);\n        return keys.reduce((o, key) => {\n            return Object.assign(o, {\n                [key]: createValue(initialValue[key]),\n            });\n        }, {});\n    }\n    static fromObject(initialValue) {\n        const core = this.createCore(initialValue);\n        return new ValueMap(core);\n    }\n    get(key) {\n        return this.valMap_[key].rawValue;\n    }\n    set(key, value) {\n        this.valMap_[key].rawValue = value;\n    }\n    value(key) {\n        return this.valMap_[key];\n    }\n}\n\nclass DefiniteRangeConstraint {\n    constructor(config) {\n        this.values = ValueMap.fromObject({\n            max: config.max,\n            min: config.min,\n        });\n    }\n    constrain(value) {\n        const max = this.values.get('max');\n        const min = this.values.get('min');\n        return Math.min(Math.max(value, min), max);\n    }\n}\n\nclass RangeConstraint {\n    constructor(config) {\n        this.values = ValueMap.fromObject({\n            max: config.max,\n            min: config.min,\n        });\n    }\n    constrain(value) {\n        const max = this.values.get('max');\n        const min = this.values.get('min');\n        let result = value;\n        if (!isEmpty(min)) {\n            result = Math.max(result, min);\n        }\n        if (!isEmpty(max)) {\n            result = Math.min(result, max);\n        }\n        return result;\n    }\n}\n\nclass StepConstraint {\n    constructor(step, origin = 0) {\n        this.step = step;\n        this.origin = origin;\n    }\n    constrain(value) {\n        const o = this.origin % this.step;\n        const r = Math.round((value - o) / this.step);\n        return o + r * this.step;\n    }\n}\n\nclass NumberLiteralNode {\n    constructor(text) {\n        this.text = text;\n    }\n    evaluate() {\n        return Number(this.text);\n    }\n    toString() {\n        return this.text;\n    }\n}\nconst BINARY_OPERATION_MAP = {\n    '**': (v1, v2) => Math.pow(v1, v2),\n    '*': (v1, v2) => v1 * v2,\n    '/': (v1, v2) => v1 / v2,\n    '%': (v1, v2) => v1 % v2,\n    '+': (v1, v2) => v1 + v2,\n    '-': (v1, v2) => v1 - v2,\n    '<<': (v1, v2) => v1 << v2,\n    '>>': (v1, v2) => v1 >> v2,\n    '>>>': (v1, v2) => v1 >>> v2,\n    '&': (v1, v2) => v1 & v2,\n    '^': (v1, v2) => v1 ^ v2,\n    '|': (v1, v2) => v1 | v2,\n};\nclass BinaryOperationNode {\n    constructor(operator, left, right) {\n        this.left = left;\n        this.operator = operator;\n        this.right = right;\n    }\n    evaluate() {\n        const op = BINARY_OPERATION_MAP[this.operator];\n        if (!op) {\n            throw new Error(`unexpected binary operator: '${this.operator}`);\n        }\n        return op(this.left.evaluate(), this.right.evaluate());\n    }\n    toString() {\n        return [\n            'b(',\n            this.left.toString(),\n            this.operator,\n            this.right.toString(),\n            ')',\n        ].join(' ');\n    }\n}\nconst UNARY_OPERATION_MAP = {\n    '+': (v) => v,\n    '-': (v) => -v,\n    '~': (v) => ~v,\n};\nclass UnaryOperationNode {\n    constructor(operator, expr) {\n        this.operator = operator;\n        this.expression = expr;\n    }\n    evaluate() {\n        const op = UNARY_OPERATION_MAP[this.operator];\n        if (!op) {\n            throw new Error(`unexpected unary operator: '${this.operator}`);\n        }\n        return op(this.expression.evaluate());\n    }\n    toString() {\n        return ['u(', this.operator, this.expression.toString(), ')'].join(' ');\n    }\n}\n\nfunction combineReader(parsers) {\n    return (text, cursor) => {\n        for (let i = 0; i < parsers.length; i++) {\n            const result = parsers[i](text, cursor);\n            if (result !== '') {\n                return result;\n            }\n        }\n        return '';\n    };\n}\nfunction readWhitespace(text, cursor) {\n    var _a;\n    const m = text.substr(cursor).match(/^\\s+/);\n    return (_a = (m && m[0])) !== null && _a !== void 0 ? _a : '';\n}\nfunction readNonZeroDigit(text, cursor) {\n    const ch = text.substr(cursor, 1);\n    return ch.match(/^[1-9]$/) ? ch : '';\n}\nfunction readDecimalDigits(text, cursor) {\n    var _a;\n    const m = text.substr(cursor).match(/^[0-9]+/);\n    return (_a = (m && m[0])) !== null && _a !== void 0 ? _a : '';\n}\nfunction readSignedInteger(text, cursor) {\n    const ds = readDecimalDigits(text, cursor);\n    if (ds !== '') {\n        return ds;\n    }\n    const sign = text.substr(cursor, 1);\n    cursor += 1;\n    if (sign !== '-' && sign !== '+') {\n        return '';\n    }\n    const sds = readDecimalDigits(text, cursor);\n    if (sds === '') {\n        return '';\n    }\n    return sign + sds;\n}\nfunction readExponentPart(text, cursor) {\n    const e = text.substr(cursor, 1);\n    cursor += 1;\n    if (e.toLowerCase() !== 'e') {\n        return '';\n    }\n    const si = readSignedInteger(text, cursor);\n    if (si === '') {\n        return '';\n    }\n    return e + si;\n}\nfunction readDecimalIntegerLiteral(text, cursor) {\n    const ch = text.substr(cursor, 1);\n    if (ch === '0') {\n        return ch;\n    }\n    const nzd = readNonZeroDigit(text, cursor);\n    cursor += nzd.length;\n    if (nzd === '') {\n        return '';\n    }\n    return nzd + readDecimalDigits(text, cursor);\n}\nfunction readDecimalLiteral1(text, cursor) {\n    const dil = readDecimalIntegerLiteral(text, cursor);\n    cursor += dil.length;\n    if (dil === '') {\n        return '';\n    }\n    const dot = text.substr(cursor, 1);\n    cursor += dot.length;\n    if (dot !== '.') {\n        return '';\n    }\n    const dds = readDecimalDigits(text, cursor);\n    cursor += dds.length;\n    return dil + dot + dds + readExponentPart(text, cursor);\n}\nfunction readDecimalLiteral2(text, cursor) {\n    const dot = text.substr(cursor, 1);\n    cursor += dot.length;\n    if (dot !== '.') {\n        return '';\n    }\n    const dds = readDecimalDigits(text, cursor);\n    cursor += dds.length;\n    if (dds === '') {\n        return '';\n    }\n    return dot + dds + readExponentPart(text, cursor);\n}\nfunction readDecimalLiteral3(text, cursor) {\n    const dil = readDecimalIntegerLiteral(text, cursor);\n    cursor += dil.length;\n    if (dil === '') {\n        return '';\n    }\n    return dil + readExponentPart(text, cursor);\n}\nconst readDecimalLiteral = combineReader([\n    readDecimalLiteral1,\n    readDecimalLiteral2,\n    readDecimalLiteral3,\n]);\nfunction parseBinaryDigits(text, cursor) {\n    var _a;\n    const m = text.substr(cursor).match(/^[01]+/);\n    return (_a = (m && m[0])) !== null && _a !== void 0 ? _a : '';\n}\nfunction readBinaryIntegerLiteral(text, cursor) {\n    const prefix = text.substr(cursor, 2);\n    cursor += prefix.length;\n    if (prefix.toLowerCase() !== '0b') {\n        return '';\n    }\n    const bds = parseBinaryDigits(text, cursor);\n    if (bds === '') {\n        return '';\n    }\n    return prefix + bds;\n}\nfunction readOctalDigits(text, cursor) {\n    var _a;\n    const m = text.substr(cursor).match(/^[0-7]+/);\n    return (_a = (m && m[0])) !== null && _a !== void 0 ? _a : '';\n}\nfunction readOctalIntegerLiteral(text, cursor) {\n    const prefix = text.substr(cursor, 2);\n    cursor += prefix.length;\n    if (prefix.toLowerCase() !== '0o') {\n        return '';\n    }\n    const ods = readOctalDigits(text, cursor);\n    if (ods === '') {\n        return '';\n    }\n    return prefix + ods;\n}\nfunction readHexDigits(text, cursor) {\n    var _a;\n    const m = text.substr(cursor).match(/^[0-9a-f]+/i);\n    return (_a = (m && m[0])) !== null && _a !== void 0 ? _a : '';\n}\nfunction readHexIntegerLiteral(text, cursor) {\n    const prefix = text.substr(cursor, 2);\n    cursor += prefix.length;\n    if (prefix.toLowerCase() !== '0x') {\n        return '';\n    }\n    const hds = readHexDigits(text, cursor);\n    if (hds === '') {\n        return '';\n    }\n    return prefix + hds;\n}\nconst readNonDecimalIntegerLiteral = combineReader([\n    readBinaryIntegerLiteral,\n    readOctalIntegerLiteral,\n    readHexIntegerLiteral,\n]);\nconst readNumericLiteral = combineReader([\n    readNonDecimalIntegerLiteral,\n    readDecimalLiteral,\n]);\n\nfunction parseLiteral(text, cursor) {\n    const num = readNumericLiteral(text, cursor);\n    cursor += num.length;\n    if (num === '') {\n        return null;\n    }\n    return {\n        evaluable: new NumberLiteralNode(num),\n        cursor: cursor,\n    };\n}\nfunction parseParenthesizedExpression(text, cursor) {\n    const op = text.substr(cursor, 1);\n    cursor += op.length;\n    if (op !== '(') {\n        return null;\n    }\n    const expr = parseExpression(text, cursor);\n    if (!expr) {\n        return null;\n    }\n    cursor = expr.cursor;\n    cursor += readWhitespace(text, cursor).length;\n    const cl = text.substr(cursor, 1);\n    cursor += cl.length;\n    if (cl !== ')') {\n        return null;\n    }\n    return {\n        evaluable: expr.evaluable,\n        cursor: cursor,\n    };\n}\nfunction parsePrimaryExpression(text, cursor) {\n    var _a;\n    return ((_a = parseLiteral(text, cursor)) !== null && _a !== void 0 ? _a : parseParenthesizedExpression(text, cursor));\n}\nfunction parseUnaryExpression(text, cursor) {\n    const expr = parsePrimaryExpression(text, cursor);\n    if (expr) {\n        return expr;\n    }\n    const op = text.substr(cursor, 1);\n    cursor += op.length;\n    if (op !== '+' && op !== '-' && op !== '~') {\n        return null;\n    }\n    const num = parseUnaryExpression(text, cursor);\n    if (!num) {\n        return null;\n    }\n    cursor = num.cursor;\n    return {\n        cursor: cursor,\n        evaluable: new UnaryOperationNode(op, num.evaluable),\n    };\n}\nfunction readBinaryOperator(ops, text, cursor) {\n    cursor += readWhitespace(text, cursor).length;\n    const op = ops.filter((op) => text.startsWith(op, cursor))[0];\n    if (!op) {\n        return null;\n    }\n    cursor += op.length;\n    cursor += readWhitespace(text, cursor).length;\n    return {\n        cursor: cursor,\n        operator: op,\n    };\n}\nfunction createBinaryOperationExpressionParser(exprParser, ops) {\n    return (text, cursor) => {\n        const firstExpr = exprParser(text, cursor);\n        if (!firstExpr) {\n            return null;\n        }\n        cursor = firstExpr.cursor;\n        let expr = firstExpr.evaluable;\n        for (;;) {\n            const op = readBinaryOperator(ops, text, cursor);\n            if (!op) {\n                break;\n            }\n            cursor = op.cursor;\n            const nextExpr = exprParser(text, cursor);\n            if (!nextExpr) {\n                return null;\n            }\n            cursor = nextExpr.cursor;\n            expr = new BinaryOperationNode(op.operator, expr, nextExpr.evaluable);\n        }\n        return expr\n            ? {\n                cursor: cursor,\n                evaluable: expr,\n            }\n            : null;\n    };\n}\nconst parseBinaryOperationExpression = [\n    ['**'],\n    ['*', '/', '%'],\n    ['+', '-'],\n    ['<<', '>>>', '>>'],\n    ['&'],\n    ['^'],\n    ['|'],\n].reduce((parser, ops) => {\n    return createBinaryOperationExpressionParser(parser, ops);\n}, parseUnaryExpression);\nfunction parseExpression(text, cursor) {\n    cursor += readWhitespace(text, cursor).length;\n    return parseBinaryOperationExpression(text, cursor);\n}\nfunction parseEcmaNumberExpression(text) {\n    const expr = parseExpression(text, 0);\n    if (!expr) {\n        return null;\n    }\n    const cursor = expr.cursor + readWhitespace(text, expr.cursor).length;\n    if (cursor !== text.length) {\n        return null;\n    }\n    return expr.evaluable;\n}\n\nfunction parseNumber(text) {\n    var _a;\n    const r = parseEcmaNumberExpression(text);\n    return (_a = r === null || r === void 0 ? void 0 : r.evaluate()) !== null && _a !== void 0 ? _a : null;\n}\nfunction numberFromUnknown(value) {\n    if (typeof value === 'number') {\n        return value;\n    }\n    if (typeof value === 'string') {\n        const pv = parseNumber(value);\n        if (!isEmpty(pv)) {\n            return pv;\n        }\n    }\n    return 0;\n}\nfunction numberToString(value) {\n    return String(value);\n}\nfunction createNumberFormatter(digits) {\n    return (value) => {\n        return value.toFixed(Math.max(Math.min(digits, 20), 0));\n    };\n}\n\nfunction mapRange(value, start1, end1, start2, end2) {\n    const p = (value - start1) / (end1 - start1);\n    return start2 + p * (end2 - start2);\n}\nfunction getDecimalDigits(value) {\n    const text = String(value.toFixed(10));\n    const frac = text.split('.')[1];\n    return frac.replace(/0+$/, '').length;\n}\nfunction constrainRange(value, min, max) {\n    return Math.min(Math.max(value, min), max);\n}\nfunction loopRange(value, max) {\n    return ((value % max) + max) % max;\n}\nfunction getSuitableDecimalDigits(params, rawValue) {\n    return !isEmpty(params.step)\n        ? getDecimalDigits(params.step)\n        : Math.max(getDecimalDigits(rawValue), 2);\n}\nfunction getSuitableKeyScale(params) {\n    var _a;\n    return (_a = params.step) !== null && _a !== void 0 ? _a : 1;\n}\nfunction getSuitablePointerScale(params, rawValue) {\n    var _a;\n    const base = Math.abs((_a = params.step) !== null && _a !== void 0 ? _a : rawValue);\n    return base === 0 ? 0.1 : Math.pow(10, Math.floor(Math.log10(base)) - 1);\n}\nfunction createStepConstraint(params, initialValue) {\n    if (!isEmpty(params.step)) {\n        return new StepConstraint(params.step, initialValue);\n    }\n    return null;\n}\nfunction createRangeConstraint(params) {\n    if (!isEmpty(params.max) && !isEmpty(params.min)) {\n        return new DefiniteRangeConstraint({\n            max: params.max,\n            min: params.min,\n        });\n    }\n    if (!isEmpty(params.max) || !isEmpty(params.min)) {\n        return new RangeConstraint({\n            max: params.max,\n            min: params.min,\n        });\n    }\n    return null;\n}\nfunction createNumberTextPropsObject(params, initialValue) {\n    var _a, _b, _c;\n    return {\n        formatter: (_a = params.format) !== null && _a !== void 0 ? _a : createNumberFormatter(getSuitableDecimalDigits(params, initialValue)),\n        keyScale: (_b = params.keyScale) !== null && _b !== void 0 ? _b : getSuitableKeyScale(params),\n        pointerScale: (_c = params.pointerScale) !== null && _c !== void 0 ? _c : getSuitablePointerScale(params, initialValue),\n    };\n}\nfunction createNumberTextInputParamsParser(p) {\n    return {\n        format: p.optional.function,\n        keyScale: p.optional.number,\n        max: p.optional.number,\n        min: p.optional.number,\n        pointerScale: p.optional.number,\n        step: p.optional.number,\n    };\n}\n\nfunction createPointAxis(config) {\n    return {\n        constraint: config.constraint,\n        textProps: ValueMap.fromObject(createNumberTextPropsObject(config.params, config.initialValue)),\n    };\n}\n\nclass BladeApi {\n    constructor(controller) {\n        this.controller = controller;\n    }\n    get element() {\n        return this.controller.view.element;\n    }\n    get disabled() {\n        return this.controller.viewProps.get('disabled');\n    }\n    set disabled(disabled) {\n        this.controller.viewProps.set('disabled', disabled);\n    }\n    get hidden() {\n        return this.controller.viewProps.get('hidden');\n    }\n    set hidden(hidden) {\n        this.controller.viewProps.set('hidden', hidden);\n    }\n    dispose() {\n        this.controller.viewProps.set('disposed', true);\n    }\n    importState(state) {\n        return this.controller.importState(state);\n    }\n    exportState() {\n        return this.controller.exportState();\n    }\n}\n\nclass TpEvent {\n    constructor(target) {\n        this.target = target;\n    }\n}\nclass TpChangeEvent extends TpEvent {\n    constructor(target, value, last) {\n        super(target);\n        this.value = value;\n        this.last = last !== null && last !== void 0 ? last : true;\n    }\n}\nclass TpFoldEvent extends TpEvent {\n    constructor(target, expanded) {\n        super(target);\n        this.expanded = expanded;\n    }\n}\nclass TpTabSelectEvent extends TpEvent {\n    constructor(target, index) {\n        super(target);\n        this.index = index;\n    }\n}\nclass TpMouseEvent extends TpEvent {\n    constructor(target, nativeEvent) {\n        super(target);\n        this.native = nativeEvent;\n    }\n}\n\nclass BindingApi extends BladeApi {\n    constructor(controller) {\n        super(controller);\n        this.onValueChange_ = this.onValueChange_.bind(this);\n        this.emitter_ = new Emitter();\n        this.controller.value.emitter.on('change', this.onValueChange_);\n    }\n    get label() {\n        return this.controller.labelController.props.get('label');\n    }\n    set label(label) {\n        this.controller.labelController.props.set('label', label);\n    }\n    get key() {\n        return this.controller.value.binding.target.key;\n    }\n    get tag() {\n        return this.controller.tag;\n    }\n    set tag(tag) {\n        this.controller.tag = tag;\n    }\n    on(eventName, handler) {\n        const bh = handler.bind(this);\n        this.emitter_.on(eventName, (ev) => {\n            bh(ev);\n        }, {\n            key: handler,\n        });\n        return this;\n    }\n    off(eventName, handler) {\n        this.emitter_.off(eventName, handler);\n        return this;\n    }\n    refresh() {\n        this.controller.value.fetch();\n    }\n    onValueChange_(ev) {\n        const value = this.controller.value;\n        this.emitter_.emit('change', new TpChangeEvent(this, forceCast(value.binding.target.read()), ev.options.last));\n    }\n}\n\nclass InputBindingValue {\n    constructor(value, binding) {\n        this.onValueBeforeChange_ = this.onValueBeforeChange_.bind(this);\n        this.onValueChange_ = this.onValueChange_.bind(this);\n        this.binding = binding;\n        this.value_ = value;\n        this.value_.emitter.on('beforechange', this.onValueBeforeChange_);\n        this.value_.emitter.on('change', this.onValueChange_);\n        this.emitter = new Emitter();\n    }\n    get rawValue() {\n        return this.value_.rawValue;\n    }\n    set rawValue(rawValue) {\n        this.value_.rawValue = rawValue;\n    }\n    setRawValue(rawValue, options) {\n        this.value_.setRawValue(rawValue, options);\n    }\n    fetch() {\n        this.value_.rawValue = this.binding.read();\n    }\n    push() {\n        this.binding.write(this.value_.rawValue);\n    }\n    onValueBeforeChange_(ev) {\n        this.emitter.emit('beforechange', Object.assign(Object.assign({}, ev), { sender: this }));\n    }\n    onValueChange_(ev) {\n        this.push();\n        this.emitter.emit('change', Object.assign(Object.assign({}, ev), { sender: this }));\n    }\n}\nfunction isInputBindingValue(v) {\n    if (!('binding' in v)) {\n        return false;\n    }\n    const b = v['binding'];\n    return isBinding(b) && 'read' in b && 'write' in b;\n}\n\nfunction parseObject(value, keyToParserMap) {\n    const keys = Object.keys(keyToParserMap);\n    const result = keys.reduce((tmp, key) => {\n        if (tmp === undefined) {\n            return undefined;\n        }\n        const parser = keyToParserMap[key];\n        const result = parser(value[key]);\n        return result.succeeded\n            ? Object.assign(Object.assign({}, tmp), { [key]: result.value }) : undefined;\n    }, {});\n    return forceCast(result);\n}\nfunction parseArray(value, parseItem) {\n    return value.reduce((tmp, item) => {\n        if (tmp === undefined) {\n            return undefined;\n        }\n        const result = parseItem(item);\n        if (!result.succeeded || result.value === undefined) {\n            return undefined;\n        }\n        return [...tmp, result.value];\n    }, []);\n}\nfunction isObject(value) {\n    if (value === null) {\n        return false;\n    }\n    return typeof value === 'object';\n}\nfunction createMicroParserBuilder(parse) {\n    return (optional) => (v) => {\n        if (!optional && v === undefined) {\n            return {\n                succeeded: false,\n                value: undefined,\n            };\n        }\n        if (optional && v === undefined) {\n            return {\n                succeeded: true,\n                value: undefined,\n            };\n        }\n        const result = parse(v);\n        return result !== undefined\n            ? {\n                succeeded: true,\n                value: result,\n            }\n            : {\n                succeeded: false,\n                value: undefined,\n            };\n    };\n}\nfunction createMicroParserBuilders(optional) {\n    return {\n        custom: (parse) => createMicroParserBuilder(parse)(optional),\n        boolean: createMicroParserBuilder((v) => typeof v === 'boolean' ? v : undefined)(optional),\n        number: createMicroParserBuilder((v) => typeof v === 'number' ? v : undefined)(optional),\n        string: createMicroParserBuilder((v) => typeof v === 'string' ? v : undefined)(optional),\n        function: createMicroParserBuilder((v) =>\n        typeof v === 'function' ? v : undefined)(optional),\n        constant: (value) => createMicroParserBuilder((v) => (v === value ? value : undefined))(optional),\n        raw: createMicroParserBuilder((v) => v)(optional),\n        object: (keyToParserMap) => createMicroParserBuilder((v) => {\n            if (!isObject(v)) {\n                return undefined;\n            }\n            return parseObject(v, keyToParserMap);\n        })(optional),\n        array: (itemParser) => createMicroParserBuilder((v) => {\n            if (!Array.isArray(v)) {\n                return undefined;\n            }\n            return parseArray(v, itemParser);\n        })(optional),\n    };\n}\nconst MicroParsers = {\n    optional: createMicroParserBuilders(true),\n    required: createMicroParserBuilders(false),\n};\nfunction parseRecord(value, keyToParserMap) {\n    const map = keyToParserMap(MicroParsers);\n    const result = MicroParsers.required.object(map)(value);\n    return result.succeeded ? result.value : undefined;\n}\n\nfunction importBladeState(state, superImport, parser, callback) {\n    if (superImport && !superImport(state)) {\n        return false;\n    }\n    const result = parseRecord(state, parser);\n    return result ? callback(result) : false;\n}\nfunction exportBladeState(superExport, thisState) {\n    var _a;\n    return deepMerge((_a = superExport === null || superExport === void 0 ? void 0 : superExport()) !== null && _a !== void 0 ? _a : {}, thisState);\n}\n\nfunction isValueBladeController(bc) {\n    return 'value' in bc;\n}\n\nfunction isBindingValue(v) {\n    if (!isObject$1(v) || !('binding' in v)) {\n        return false;\n    }\n    const b = v.binding;\n    return isBinding(b);\n}\n\nconst SVG_NS = 'http://www.w3.org/2000/svg';\nfunction forceReflow(element) {\n    element.offsetHeight;\n}\nfunction disableTransitionTemporarily(element, callback) {\n    const t = element.style.transition;\n    element.style.transition = 'none';\n    callback();\n    element.style.transition = t;\n}\nfunction supportsTouch(doc) {\n    return doc.ontouchstart !== undefined;\n}\nfunction getGlobalObject() {\n    return globalThis;\n}\nfunction getWindowDocument() {\n    const globalObj = forceCast(getGlobalObject());\n    return globalObj.document;\n}\nfunction getCanvasContext(canvasElement) {\n    const win = canvasElement.ownerDocument.defaultView;\n    if (!win) {\n        return null;\n    }\n    const isBrowser = 'document' in win;\n    return isBrowser\n        ? canvasElement.getContext('2d', {\n            willReadFrequently: true,\n        })\n        : null;\n}\nconst ICON_ID_TO_INNER_HTML_MAP = {\n    check: '<path d=\"M2 8l4 4l8 -8\"/>',\n    dropdown: '<path d=\"M5 7h6l-3 3 z\"/>',\n    p2dpad: '<path d=\"M8 4v8\"/><path d=\"M4 8h8\"/><circle cx=\"12\" cy=\"12\" r=\"1.2\"/>',\n};\nfunction createSvgIconElement(document, iconId) {\n    const elem = document.createElementNS(SVG_NS, 'svg');\n    elem.innerHTML = ICON_ID_TO_INNER_HTML_MAP[iconId];\n    return elem;\n}\nfunction insertElementAt(parentElement, element, index) {\n    parentElement.insertBefore(element, parentElement.children[index]);\n}\nfunction removeElement(element) {\n    if (element.parentElement) {\n        element.parentElement.removeChild(element);\n    }\n}\nfunction removeChildElements(element) {\n    while (element.children.length > 0) {\n        element.removeChild(element.children[0]);\n    }\n}\nfunction removeChildNodes(element) {\n    while (element.childNodes.length > 0) {\n        element.removeChild(element.childNodes[0]);\n    }\n}\nfunction findNextTarget(ev) {\n    if (ev.relatedTarget) {\n        return forceCast(ev.relatedTarget);\n    }\n    if ('explicitOriginalTarget' in ev) {\n        return ev.explicitOriginalTarget;\n    }\n    return null;\n}\n\nfunction bindValue(value, applyValue) {\n    value.emitter.on('change', (ev) => {\n        applyValue(ev.rawValue);\n    });\n    applyValue(value.rawValue);\n}\nfunction bindValueMap(valueMap, key, applyValue) {\n    bindValue(valueMap.value(key), applyValue);\n}\n\nconst PREFIX = 'tp';\nfunction ClassName(viewName) {\n    const fn = (opt_elementName, opt_modifier) => {\n        return [\n            PREFIX,\n            '-',\n            viewName,\n            'v',\n            opt_elementName ? `_${opt_elementName}` : '',\n            opt_modifier ? `-${opt_modifier}` : '',\n        ].join('');\n    };\n    return fn;\n}\n\nconst cn$r = ClassName('lbl');\nfunction createLabelNode(doc, label) {\n    const frag = doc.createDocumentFragment();\n    const lineNodes = label.split('\\n').map((line) => {\n        return doc.createTextNode(line);\n    });\n    lineNodes.forEach((lineNode, index) => {\n        if (index > 0) {\n            frag.appendChild(doc.createElement('br'));\n        }\n        frag.appendChild(lineNode);\n    });\n    return frag;\n}\nclass LabelView {\n    constructor(doc, config) {\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$r());\n        config.viewProps.bindClassModifiers(this.element);\n        const labelElem = doc.createElement('div');\n        labelElem.classList.add(cn$r('l'));\n        bindValueMap(config.props, 'label', (value) => {\n            if (isEmpty(value)) {\n                this.element.classList.add(cn$r(undefined, 'nol'));\n            }\n            else {\n                this.element.classList.remove(cn$r(undefined, 'nol'));\n                removeChildNodes(labelElem);\n                labelElem.appendChild(createLabelNode(doc, value));\n            }\n        });\n        this.element.appendChild(labelElem);\n        this.labelElement = labelElem;\n        const valueElem = doc.createElement('div');\n        valueElem.classList.add(cn$r('v'));\n        this.element.appendChild(valueElem);\n        this.valueElement = valueElem;\n    }\n}\n\nclass LabelController {\n    constructor(doc, config) {\n        this.props = config.props;\n        this.valueController = config.valueController;\n        this.viewProps = config.valueController.viewProps;\n        this.view = new LabelView(doc, {\n            props: config.props,\n            viewProps: this.viewProps,\n        });\n        this.view.valueElement.appendChild(this.valueController.view.element);\n    }\n    importProps(state) {\n        return importBladeState(state, null, (p) => ({\n            label: p.optional.string,\n        }), (result) => {\n            this.props.set('label', result.label);\n            return true;\n        });\n    }\n    exportProps() {\n        return exportBladeState(null, {\n            label: this.props.get('label'),\n        });\n    }\n}\n\nfunction getAllBladePositions() {\n    return ['veryfirst', 'first', 'last', 'verylast'];\n}\n\nconst cn$q = ClassName('');\nconst POS_TO_CLASS_NAME_MAP = {\n    veryfirst: 'vfst',\n    first: 'fst',\n    last: 'lst',\n    verylast: 'vlst',\n};\nclass BladeController {\n    constructor(config) {\n        this.parent_ = null;\n        this.blade = config.blade;\n        this.view = config.view;\n        this.viewProps = config.viewProps;\n        const elem = this.view.element;\n        this.blade.value('positions').emitter.on('change', () => {\n            getAllBladePositions().forEach((pos) => {\n                elem.classList.remove(cn$q(undefined, POS_TO_CLASS_NAME_MAP[pos]));\n            });\n            this.blade.get('positions').forEach((pos) => {\n                elem.classList.add(cn$q(undefined, POS_TO_CLASS_NAME_MAP[pos]));\n            });\n        });\n        this.viewProps.handleDispose(() => {\n            removeElement(elem);\n        });\n    }\n    get parent() {\n        return this.parent_;\n    }\n    set parent(parent) {\n        this.parent_ = parent;\n        this.viewProps.set('parent', this.parent_ ? this.parent_.viewProps : null);\n    }\n    importState(state) {\n        return importBladeState(state, null, (p) => ({\n            disabled: p.required.boolean,\n            hidden: p.required.boolean,\n        }), (result) => {\n            this.viewProps.importState(result);\n            return true;\n        });\n    }\n    exportState() {\n        return exportBladeState(null, Object.assign({}, this.viewProps.exportState()));\n    }\n}\n\nclass LabeledValueBladeController extends BladeController {\n    constructor(doc, config) {\n        if (config.value !== config.valueController.value) {\n            throw TpError.shouldNeverHappen();\n        }\n        const viewProps = config.valueController.viewProps;\n        const lc = new LabelController(doc, {\n            blade: config.blade,\n            props: config.props,\n            valueController: config.valueController,\n        });\n        super(Object.assign(Object.assign({}, config), { view: new LabelView(doc, {\n                props: config.props,\n                viewProps: viewProps,\n            }), viewProps: viewProps }));\n        this.labelController = lc;\n        this.value = config.value;\n        this.valueController = config.valueController;\n        this.view.valueElement.appendChild(this.valueController.view.element);\n    }\n    importState(state) {\n        return importBladeState(state, (s) => {\n            var _a, _b, _c;\n            return super.importState(s) &&\n                this.labelController.importProps(s) &&\n                ((_c = (_b = (_a = this.valueController).importProps) === null || _b === void 0 ? void 0 : _b.call(_a, state)) !== null && _c !== void 0 ? _c : true);\n        }, (p) => ({\n            value: p.optional.raw,\n        }), (result) => {\n            if (result.value) {\n                this.value.rawValue = result.value;\n            }\n            return true;\n        });\n    }\n    exportState() {\n        var _a, _b, _c;\n        return exportBladeState(() => super.exportState(), Object.assign(Object.assign({ value: this.value.rawValue }, this.labelController.exportProps()), ((_c = (_b = (_a = this.valueController).exportProps) === null || _b === void 0 ? void 0 : _b.call(_a)) !== null && _c !== void 0 ? _c : {})));\n    }\n}\n\nfunction excludeValue(state) {\n    const result = Object.assign({}, state);\n    delete result.value;\n    return result;\n}\nclass BindingController extends LabeledValueBladeController {\n    constructor(doc, config) {\n        super(doc, config);\n        this.tag = config.tag;\n    }\n    importState(state) {\n        return importBladeState(state,\n        (_s) => super.importState(excludeValue(state)), (p) => ({\n            tag: p.optional.string,\n        }), (result) => {\n            this.tag = result.tag;\n            return true;\n        });\n    }\n    exportState() {\n        return exportBladeState(() => excludeValue(super.exportState()), {\n            binding: {\n                key: this.value.binding.target.key,\n                value: this.value.binding.target.read(),\n            },\n            tag: this.tag,\n        });\n    }\n}\nfunction isBindingController(bc) {\n    return isValueBladeController(bc) && isBindingValue(bc.value);\n}\n\nclass InputBindingController extends BindingController {\n    importState(state) {\n        return importBladeState(state, (s) => super.importState(s), (p) => ({\n            binding: p.required.object({\n                value: p.required.raw,\n            }),\n        }), (result) => {\n            this.value.binding.inject(result.binding.value);\n            this.value.fetch();\n            return true;\n        });\n    }\n}\nfunction isInputBindingController(bc) {\n    return isValueBladeController(bc) && isInputBindingValue(bc.value);\n}\n\nfunction fillBuffer(buffer, bufferSize) {\n    while (buffer.length < bufferSize) {\n        buffer.push(undefined);\n    }\n}\nfunction initializeBuffer(bufferSize) {\n    const buffer = [];\n    fillBuffer(buffer, bufferSize);\n    return buffer;\n}\nfunction createTrimmedBuffer(buffer) {\n    const index = buffer.indexOf(undefined);\n    return forceCast(index < 0 ? buffer : buffer.slice(0, index));\n}\nfunction createPushedBuffer(buffer, newValue) {\n    const newBuffer = [...createTrimmedBuffer(buffer), newValue];\n    if (newBuffer.length > buffer.length) {\n        newBuffer.splice(0, newBuffer.length - buffer.length);\n    }\n    else {\n        fillBuffer(newBuffer, buffer.length);\n    }\n    return newBuffer;\n}\n\nclass MonitorBindingValue {\n    constructor(config) {\n        this.emitter = new Emitter();\n        this.onTick_ = this.onTick_.bind(this);\n        this.onValueBeforeChange_ = this.onValueBeforeChange_.bind(this);\n        this.onValueChange_ = this.onValueChange_.bind(this);\n        this.binding = config.binding;\n        this.value_ = createValue(initializeBuffer(config.bufferSize));\n        this.value_.emitter.on('beforechange', this.onValueBeforeChange_);\n        this.value_.emitter.on('change', this.onValueChange_);\n        this.ticker = config.ticker;\n        this.ticker.emitter.on('tick', this.onTick_);\n        this.fetch();\n    }\n    get rawValue() {\n        return this.value_.rawValue;\n    }\n    set rawValue(rawValue) {\n        this.value_.rawValue = rawValue;\n    }\n    setRawValue(rawValue, options) {\n        this.value_.setRawValue(rawValue, options);\n    }\n    fetch() {\n        this.value_.rawValue = createPushedBuffer(this.value_.rawValue, this.binding.read());\n    }\n    onTick_() {\n        this.fetch();\n    }\n    onValueBeforeChange_(ev) {\n        this.emitter.emit('beforechange', Object.assign(Object.assign({}, ev), { sender: this }));\n    }\n    onValueChange_(ev) {\n        this.emitter.emit('change', Object.assign(Object.assign({}, ev), { sender: this }));\n    }\n}\nfunction isMonitorBindingValue(v) {\n    if (!('binding' in v)) {\n        return false;\n    }\n    const b = v['binding'];\n    return isBinding(b) && 'read' in b && !('write' in b);\n}\n\nclass MonitorBindingController extends BindingController {\n    exportState() {\n        return exportBladeState(() => super.exportState(), {\n            binding: {\n                readonly: true,\n            },\n        });\n    }\n}\nfunction isMonitorBindingController(bc) {\n    return (isValueBladeController(bc) &&\n        isMonitorBindingValue(bc.value));\n}\n\nclass ButtonApi extends BladeApi {\n    get label() {\n        return this.controller.labelController.props.get('label');\n    }\n    set label(label) {\n        this.controller.labelController.props.set('label', label);\n    }\n    get title() {\n        var _a;\n        return (_a = this.controller.buttonController.props.get('title')) !== null && _a !== void 0 ? _a : '';\n    }\n    set title(title) {\n        this.controller.buttonController.props.set('title', title);\n    }\n    on(eventName, handler) {\n        const bh = handler.bind(this);\n        const emitter = this.controller.buttonController.emitter;\n        emitter.on(eventName, (ev) => {\n            bh(new TpMouseEvent(this, ev.nativeEvent));\n        });\n        return this;\n    }\n    off(eventName, handler) {\n        const emitter = this.controller.buttonController.emitter;\n        emitter.off(eventName, handler);\n        return this;\n    }\n}\n\nfunction applyClass(elem, className, active) {\n    if (active) {\n        elem.classList.add(className);\n    }\n    else {\n        elem.classList.remove(className);\n    }\n}\nfunction valueToClassName(elem, className) {\n    return (value) => {\n        applyClass(elem, className, value);\n    };\n}\nfunction bindValueToTextContent(value, elem) {\n    bindValue(value, (text) => {\n        elem.textContent = text !== null && text !== void 0 ? text : '';\n    });\n}\n\nconst cn$p = ClassName('btn');\nclass ButtonView {\n    constructor(doc, config) {\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$p());\n        config.viewProps.bindClassModifiers(this.element);\n        const buttonElem = doc.createElement('button');\n        buttonElem.classList.add(cn$p('b'));\n        config.viewProps.bindDisabled(buttonElem);\n        this.element.appendChild(buttonElem);\n        this.buttonElement = buttonElem;\n        const titleElem = doc.createElement('div');\n        titleElem.classList.add(cn$p('t'));\n        bindValueToTextContent(config.props.value('title'), titleElem);\n        this.buttonElement.appendChild(titleElem);\n    }\n}\n\nclass ButtonController {\n    constructor(doc, config) {\n        this.emitter = new Emitter();\n        this.onClick_ = this.onClick_.bind(this);\n        this.props = config.props;\n        this.viewProps = config.viewProps;\n        this.view = new ButtonView(doc, {\n            props: this.props,\n            viewProps: this.viewProps,\n        });\n        this.view.buttonElement.addEventListener('click', this.onClick_);\n    }\n    importProps(state) {\n        return importBladeState(state, null, (p) => ({\n            title: p.optional.string,\n        }), (result) => {\n            this.props.set('title', result.title);\n            return true;\n        });\n    }\n    exportProps() {\n        return exportBladeState(null, {\n            title: this.props.get('title'),\n        });\n    }\n    onClick_(ev) {\n        this.emitter.emit('click', {\n            nativeEvent: ev,\n            sender: this,\n        });\n    }\n}\n\nclass ButtonBladeController extends BladeController {\n    constructor(doc, config) {\n        const bc = new ButtonController(doc, {\n            props: config.buttonProps,\n            viewProps: config.viewProps,\n        });\n        const lc = new LabelController(doc, {\n            blade: config.blade,\n            props: config.labelProps,\n            valueController: bc,\n        });\n        super({\n            blade: config.blade,\n            view: lc.view,\n            viewProps: config.viewProps,\n        });\n        this.buttonController = bc;\n        this.labelController = lc;\n    }\n    importState(state) {\n        return importBladeState(state, (s) => super.importState(s) &&\n            this.buttonController.importProps(s) &&\n            this.labelController.importProps(s), () => ({}), () => true);\n    }\n    exportState() {\n        return exportBladeState(() => super.exportState(), Object.assign(Object.assign({}, this.buttonController.exportProps()), this.labelController.exportProps()));\n    }\n}\n\nclass Semver {\n    constructor(text) {\n        const [core, prerelease] = text.split('-');\n        const coreComps = core.split('.');\n        this.major = parseInt(coreComps[0], 10);\n        this.minor = parseInt(coreComps[1], 10);\n        this.patch = parseInt(coreComps[2], 10);\n        this.prerelease = prerelease !== null && prerelease !== void 0 ? prerelease : null;\n    }\n    toString() {\n        const core = [this.major, this.minor, this.patch].join('.');\n        return this.prerelease !== null ? [core, this.prerelease].join('-') : core;\n    }\n}\n\nconst VERSION$1 = new Semver('2.0.3');\n\nfunction createPlugin(plugin) {\n    return Object.assign({ core: VERSION$1 }, plugin);\n}\n\nconst ButtonBladePlugin = createPlugin({\n    id: 'button',\n    type: 'blade',\n    accept(params) {\n        const result = parseRecord(params, (p) => ({\n            title: p.required.string,\n            view: p.required.constant('button'),\n            label: p.optional.string,\n        }));\n        return result ? { params: result } : null;\n    },\n    controller(args) {\n        return new ButtonBladeController(args.document, {\n            blade: args.blade,\n            buttonProps: ValueMap.fromObject({\n                title: args.params.title,\n            }),\n            labelProps: ValueMap.fromObject({\n                label: args.params.label,\n            }),\n            viewProps: args.viewProps,\n        });\n    },\n    api(args) {\n        if (args.controller instanceof ButtonBladeController) {\n            return new ButtonApi(args.controller);\n        }\n        return null;\n    },\n});\n\nfunction addButtonAsBlade(api, params) {\n    return api.addBlade(Object.assign(Object.assign({}, params), { view: 'button' }));\n}\nfunction addFolderAsBlade(api, params) {\n    return api.addBlade(Object.assign(Object.assign({}, params), { view: 'folder' }));\n}\nfunction addTabAsBlade(api, params) {\n    return api.addBlade(Object.assign(Object.assign({}, params), { view: 'tab' }));\n}\n\nfunction isRefreshable(value) {\n    if (!isObject$1(value)) {\n        return false;\n    }\n    return 'refresh' in value && typeof value.refresh === 'function';\n}\n\nfunction createBindingTarget(obj, key) {\n    if (!BindingTarget.isBindable(obj)) {\n        throw TpError.notBindable();\n    }\n    return new BindingTarget(obj, key);\n}\nclass RackApi {\n    constructor(controller, pool) {\n        this.onRackValueChange_ = this.onRackValueChange_.bind(this);\n        this.controller_ = controller;\n        this.emitter_ = new Emitter();\n        this.pool_ = pool;\n        const rack = this.controller_.rack;\n        rack.emitter.on('valuechange', this.onRackValueChange_);\n    }\n    get children() {\n        return this.controller_.rack.children.map((bc) => this.pool_.createApi(bc));\n    }\n    addBinding(object, key, opt_params) {\n        const params = opt_params !== null && opt_params !== void 0 ? opt_params : {};\n        const doc = this.controller_.element.ownerDocument;\n        const bc = this.pool_.createBinding(doc, createBindingTarget(object, key), params);\n        const api = this.pool_.createBindingApi(bc);\n        return this.add(api, params.index);\n    }\n    addFolder(params) {\n        return addFolderAsBlade(this, params);\n    }\n    addButton(params) {\n        return addButtonAsBlade(this, params);\n    }\n    addTab(params) {\n        return addTabAsBlade(this, params);\n    }\n    add(api, opt_index) {\n        const bc = api.controller;\n        this.controller_.rack.add(bc, opt_index);\n        return api;\n    }\n    remove(api) {\n        this.controller_.rack.remove(api.controller);\n    }\n    addBlade(params) {\n        const doc = this.controller_.element.ownerDocument;\n        const bc = this.pool_.createBlade(doc, params);\n        const api = this.pool_.createApi(bc);\n        return this.add(api, params.index);\n    }\n    on(eventName, handler) {\n        const bh = handler.bind(this);\n        this.emitter_.on(eventName, (ev) => {\n            bh(ev);\n        }, {\n            key: handler,\n        });\n        return this;\n    }\n    off(eventName, handler) {\n        this.emitter_.off(eventName, handler);\n        return this;\n    }\n    refresh() {\n        this.children.forEach((c) => {\n            if (isRefreshable(c)) {\n                c.refresh();\n            }\n        });\n    }\n    onRackValueChange_(ev) {\n        const bc = ev.bladeController;\n        const api = this.pool_.createApi(bc);\n        const binding = isBindingValue(bc.value) ? bc.value.binding : null;\n        this.emitter_.emit('change', new TpChangeEvent(api, binding ? binding.target.read() : bc.value.rawValue, ev.options.last));\n    }\n}\n\nclass ContainerBladeApi extends BladeApi {\n    constructor(controller, pool) {\n        super(controller);\n        this.rackApi_ = new RackApi(controller.rackController, pool);\n    }\n    refresh() {\n        this.rackApi_.refresh();\n    }\n}\n\nclass ContainerBladeController extends BladeController {\n    constructor(config) {\n        super({\n            blade: config.blade,\n            view: config.view,\n            viewProps: config.rackController.viewProps,\n        });\n        this.rackController = config.rackController;\n    }\n    importState(state) {\n        return importBladeState(state, (s) => super.importState(s), (p) => ({\n            children: p.required.array(p.required.raw),\n        }), (result) => {\n            return this.rackController.rack.children.every((c, index) => {\n                return c.importState(result.children[index]);\n            });\n        });\n    }\n    exportState() {\n        return exportBladeState(() => super.exportState(), {\n            children: this.rackController.rack.children.map((c) => c.exportState()),\n        });\n    }\n}\nfunction isContainerBladeController(bc) {\n    return 'rackController' in bc;\n}\n\nclass NestedOrderedSet {\n    constructor(extract) {\n        this.emitter = new Emitter();\n        this.items_ = [];\n        this.cache_ = new Set();\n        this.onSubListAdd_ = this.onSubListAdd_.bind(this);\n        this.onSubListRemove_ = this.onSubListRemove_.bind(this);\n        this.extract_ = extract;\n    }\n    get items() {\n        return this.items_;\n    }\n    allItems() {\n        return Array.from(this.cache_);\n    }\n    find(callback) {\n        for (const item of this.allItems()) {\n            if (callback(item)) {\n                return item;\n            }\n        }\n        return null;\n    }\n    includes(item) {\n        return this.cache_.has(item);\n    }\n    add(item, opt_index) {\n        if (this.includes(item)) {\n            throw TpError.shouldNeverHappen();\n        }\n        const index = opt_index !== undefined ? opt_index : this.items_.length;\n        this.items_.splice(index, 0, item);\n        this.cache_.add(item);\n        const subList = this.extract_(item);\n        if (subList) {\n            subList.emitter.on('add', this.onSubListAdd_);\n            subList.emitter.on('remove', this.onSubListRemove_);\n            subList.allItems().forEach((i) => {\n                this.cache_.add(i);\n            });\n        }\n        this.emitter.emit('add', {\n            index: index,\n            item: item,\n            root: this,\n            target: this,\n        });\n    }\n    remove(item) {\n        const index = this.items_.indexOf(item);\n        if (index < 0) {\n            return;\n        }\n        this.items_.splice(index, 1);\n        this.cache_.delete(item);\n        const subList = this.extract_(item);\n        if (subList) {\n            subList.allItems().forEach((i) => {\n                this.cache_.delete(i);\n            });\n            subList.emitter.off('add', this.onSubListAdd_);\n            subList.emitter.off('remove', this.onSubListRemove_);\n        }\n        this.emitter.emit('remove', {\n            index: index,\n            item: item,\n            root: this,\n            target: this,\n        });\n    }\n    onSubListAdd_(ev) {\n        this.cache_.add(ev.item);\n        this.emitter.emit('add', {\n            index: ev.index,\n            item: ev.item,\n            root: this,\n            target: ev.target,\n        });\n    }\n    onSubListRemove_(ev) {\n        this.cache_.delete(ev.item);\n        this.emitter.emit('remove', {\n            index: ev.index,\n            item: ev.item,\n            root: this,\n            target: ev.target,\n        });\n    }\n}\n\nfunction findValueBladeController(bcs, v) {\n    for (let i = 0; i < bcs.length; i++) {\n        const bc = bcs[i];\n        if (isValueBladeController(bc) && bc.value === v) {\n            return bc;\n        }\n    }\n    return null;\n}\nfunction findSubBladeControllerSet(bc) {\n    return isContainerBladeController(bc)\n        ? bc.rackController.rack['bcSet_']\n        : null;\n}\nclass Rack {\n    constructor(config) {\n        var _a, _b;\n        this.emitter = new Emitter();\n        this.onBladePositionsChange_ = this.onBladePositionsChange_.bind(this);\n        this.onSetAdd_ = this.onSetAdd_.bind(this);\n        this.onSetRemove_ = this.onSetRemove_.bind(this);\n        this.onChildDispose_ = this.onChildDispose_.bind(this);\n        this.onChildPositionsChange_ = this.onChildPositionsChange_.bind(this);\n        this.onChildValueChange_ = this.onChildValueChange_.bind(this);\n        this.onChildViewPropsChange_ = this.onChildViewPropsChange_.bind(this);\n        this.onRackLayout_ = this.onRackLayout_.bind(this);\n        this.onRackValueChange_ = this.onRackValueChange_.bind(this);\n        this.blade_ = (_a = config.blade) !== null && _a !== void 0 ? _a : null;\n        (_b = this.blade_) === null || _b === void 0 ? void 0 : _b.value('positions').emitter.on('change', this.onBladePositionsChange_);\n        this.viewProps = config.viewProps;\n        this.bcSet_ = new NestedOrderedSet(findSubBladeControllerSet);\n        this.bcSet_.emitter.on('add', this.onSetAdd_);\n        this.bcSet_.emitter.on('remove', this.onSetRemove_);\n    }\n    get children() {\n        return this.bcSet_.items;\n    }\n    add(bc, opt_index) {\n        var _a;\n        (_a = bc.parent) === null || _a === void 0 ? void 0 : _a.remove(bc);\n        bc.parent = this;\n        this.bcSet_.add(bc, opt_index);\n    }\n    remove(bc) {\n        bc.parent = null;\n        this.bcSet_.remove(bc);\n    }\n    find(finder) {\n        return this.bcSet_.allItems().filter(finder);\n    }\n    onSetAdd_(ev) {\n        this.updatePositions_();\n        const root = ev.target === ev.root;\n        this.emitter.emit('add', {\n            bladeController: ev.item,\n            index: ev.index,\n            root: root,\n            sender: this,\n        });\n        if (!root) {\n            return;\n        }\n        const bc = ev.item;\n        bc.viewProps.emitter.on('change', this.onChildViewPropsChange_);\n        bc.blade\n            .value('positions')\n            .emitter.on('change', this.onChildPositionsChange_);\n        bc.viewProps.handleDispose(this.onChildDispose_);\n        if (isValueBladeController(bc)) {\n            bc.value.emitter.on('change', this.onChildValueChange_);\n        }\n        else if (isContainerBladeController(bc)) {\n            const rack = bc.rackController.rack;\n            if (rack) {\n                const emitter = rack.emitter;\n                emitter.on('layout', this.onRackLayout_);\n                emitter.on('valuechange', this.onRackValueChange_);\n            }\n        }\n    }\n    onSetRemove_(ev) {\n        this.updatePositions_();\n        const root = ev.target === ev.root;\n        this.emitter.emit('remove', {\n            bladeController: ev.item,\n            root: root,\n            sender: this,\n        });\n        if (!root) {\n            return;\n        }\n        const bc = ev.item;\n        if (isValueBladeController(bc)) {\n            bc.value.emitter.off('change', this.onChildValueChange_);\n        }\n        else if (isContainerBladeController(bc)) {\n            const rack = bc.rackController.rack;\n            if (rack) {\n                const emitter = rack.emitter;\n                emitter.off('layout', this.onRackLayout_);\n                emitter.off('valuechange', this.onRackValueChange_);\n            }\n        }\n    }\n    updatePositions_() {\n        const visibleItems = this.bcSet_.items.filter((bc) => !bc.viewProps.get('hidden'));\n        const firstVisibleItem = visibleItems[0];\n        const lastVisibleItem = visibleItems[visibleItems.length - 1];\n        this.bcSet_.items.forEach((bc) => {\n            const ps = [];\n            if (bc === firstVisibleItem) {\n                ps.push('first');\n                if (!this.blade_ ||\n                    this.blade_.get('positions').includes('veryfirst')) {\n                    ps.push('veryfirst');\n                }\n            }\n            if (bc === lastVisibleItem) {\n                ps.push('last');\n                if (!this.blade_ || this.blade_.get('positions').includes('verylast')) {\n                    ps.push('verylast');\n                }\n            }\n            bc.blade.set('positions', ps);\n        });\n    }\n    onChildPositionsChange_() {\n        this.updatePositions_();\n        this.emitter.emit('layout', {\n            sender: this,\n        });\n    }\n    onChildViewPropsChange_(_ev) {\n        this.updatePositions_();\n        this.emitter.emit('layout', {\n            sender: this,\n        });\n    }\n    onChildDispose_() {\n        const disposedUcs = this.bcSet_.items.filter((bc) => {\n            return bc.viewProps.get('disposed');\n        });\n        disposedUcs.forEach((bc) => {\n            this.bcSet_.remove(bc);\n        });\n    }\n    onChildValueChange_(ev) {\n        const bc = findValueBladeController(this.find(isValueBladeController), ev.sender);\n        if (!bc) {\n            throw TpError.alreadyDisposed();\n        }\n        this.emitter.emit('valuechange', {\n            bladeController: bc,\n            options: ev.options,\n            sender: this,\n        });\n    }\n    onRackLayout_(_) {\n        this.updatePositions_();\n        this.emitter.emit('layout', {\n            sender: this,\n        });\n    }\n    onRackValueChange_(ev) {\n        this.emitter.emit('valuechange', {\n            bladeController: ev.bladeController,\n            options: ev.options,\n            sender: this,\n        });\n    }\n    onBladePositionsChange_() {\n        this.updatePositions_();\n    }\n}\n\nclass RackController {\n    constructor(config) {\n        this.onRackAdd_ = this.onRackAdd_.bind(this);\n        this.onRackRemove_ = this.onRackRemove_.bind(this);\n        this.element = config.element;\n        this.viewProps = config.viewProps;\n        const rack = new Rack({\n            blade: config.root ? undefined : config.blade,\n            viewProps: config.viewProps,\n        });\n        rack.emitter.on('add', this.onRackAdd_);\n        rack.emitter.on('remove', this.onRackRemove_);\n        this.rack = rack;\n        this.viewProps.handleDispose(() => {\n            for (let i = this.rack.children.length - 1; i >= 0; i--) {\n                const bc = this.rack.children[i];\n                bc.viewProps.set('disposed', true);\n            }\n        });\n    }\n    onRackAdd_(ev) {\n        if (!ev.root) {\n            return;\n        }\n        insertElementAt(this.element, ev.bladeController.view.element, ev.index);\n    }\n    onRackRemove_(ev) {\n        if (!ev.root) {\n            return;\n        }\n        removeElement(ev.bladeController.view.element);\n    }\n}\n\nfunction createBlade() {\n    return new ValueMap({\n        positions: createValue([], {\n            equals: deepEqualsArray,\n        }),\n    });\n}\n\nclass Foldable extends ValueMap {\n    constructor(valueMap) {\n        super(valueMap);\n    }\n    static create(expanded) {\n        const coreObj = {\n            completed: true,\n            expanded: expanded,\n            expandedHeight: null,\n            shouldFixHeight: false,\n            temporaryExpanded: null,\n        };\n        const core = ValueMap.createCore(coreObj);\n        return new Foldable(core);\n    }\n    get styleExpanded() {\n        var _a;\n        return (_a = this.get('temporaryExpanded')) !== null && _a !== void 0 ? _a : this.get('expanded');\n    }\n    get styleHeight() {\n        if (!this.styleExpanded) {\n            return '0';\n        }\n        const exHeight = this.get('expandedHeight');\n        if (this.get('shouldFixHeight') && !isEmpty(exHeight)) {\n            return `${exHeight}px`;\n        }\n        return 'auto';\n    }\n    bindExpandedClass(elem, expandedClassName) {\n        const onExpand = () => {\n            const expanded = this.styleExpanded;\n            if (expanded) {\n                elem.classList.add(expandedClassName);\n            }\n            else {\n                elem.classList.remove(expandedClassName);\n            }\n        };\n        bindValueMap(this, 'expanded', onExpand);\n        bindValueMap(this, 'temporaryExpanded', onExpand);\n    }\n    cleanUpTransition() {\n        this.set('shouldFixHeight', false);\n        this.set('expandedHeight', null);\n        this.set('completed', true);\n    }\n}\nfunction computeExpandedFolderHeight(folder, containerElement) {\n    let height = 0;\n    disableTransitionTemporarily(containerElement, () => {\n        folder.set('expandedHeight', null);\n        folder.set('temporaryExpanded', true);\n        forceReflow(containerElement);\n        height = containerElement.clientHeight;\n        folder.set('temporaryExpanded', null);\n        forceReflow(containerElement);\n    });\n    return height;\n}\nfunction applyHeight(foldable, elem) {\n    elem.style.height = foldable.styleHeight;\n}\nfunction bindFoldable(foldable, elem) {\n    foldable.value('expanded').emitter.on('beforechange', () => {\n        foldable.set('completed', false);\n        if (isEmpty(foldable.get('expandedHeight'))) {\n            const h = computeExpandedFolderHeight(foldable, elem);\n            if (h > 0) {\n                foldable.set('expandedHeight', h);\n            }\n        }\n        foldable.set('shouldFixHeight', true);\n        forceReflow(elem);\n    });\n    foldable.emitter.on('change', () => {\n        applyHeight(foldable, elem);\n    });\n    applyHeight(foldable, elem);\n    elem.addEventListener('transitionend', (ev) => {\n        if (ev.propertyName !== 'height') {\n            return;\n        }\n        foldable.cleanUpTransition();\n    });\n}\n\nclass FolderApi extends ContainerBladeApi {\n    constructor(controller, pool) {\n        super(controller, pool);\n        this.emitter_ = new Emitter();\n        this.controller.foldable\n            .value('expanded')\n            .emitter.on('change', (ev) => {\n            this.emitter_.emit('fold', new TpFoldEvent(this, ev.sender.rawValue));\n        });\n        this.rackApi_.on('change', (ev) => {\n            this.emitter_.emit('change', ev);\n        });\n    }\n    get expanded() {\n        return this.controller.foldable.get('expanded');\n    }\n    set expanded(expanded) {\n        this.controller.foldable.set('expanded', expanded);\n    }\n    get title() {\n        return this.controller.props.get('title');\n    }\n    set title(title) {\n        this.controller.props.set('title', title);\n    }\n    get children() {\n        return this.rackApi_.children;\n    }\n    addBinding(object, key, opt_params) {\n        return this.rackApi_.addBinding(object, key, opt_params);\n    }\n    addFolder(params) {\n        return this.rackApi_.addFolder(params);\n    }\n    addButton(params) {\n        return this.rackApi_.addButton(params);\n    }\n    addTab(params) {\n        return this.rackApi_.addTab(params);\n    }\n    add(api, opt_index) {\n        return this.rackApi_.add(api, opt_index);\n    }\n    remove(api) {\n        this.rackApi_.remove(api);\n    }\n    addBlade(params) {\n        return this.rackApi_.addBlade(params);\n    }\n    on(eventName, handler) {\n        const bh = handler.bind(this);\n        this.emitter_.on(eventName, (ev) => {\n            bh(ev);\n        }, {\n            key: handler,\n        });\n        return this;\n    }\n    off(eventName, handler) {\n        this.emitter_.off(eventName, handler);\n        return this;\n    }\n}\n\nconst bladeContainerClassName = ClassName('cnt');\n\nclass FolderView {\n    constructor(doc, config) {\n        var _a;\n        this.className_ = ClassName((_a = config.viewName) !== null && _a !== void 0 ? _a : 'fld');\n        this.element = doc.createElement('div');\n        this.element.classList.add(this.className_(), bladeContainerClassName());\n        config.viewProps.bindClassModifiers(this.element);\n        this.foldable_ = config.foldable;\n        this.foldable_.bindExpandedClass(this.element, this.className_(undefined, 'expanded'));\n        bindValueMap(this.foldable_, 'completed', valueToClassName(this.element, this.className_(undefined, 'cpl')));\n        const buttonElem = doc.createElement('button');\n        buttonElem.classList.add(this.className_('b'));\n        bindValueMap(config.props, 'title', (title) => {\n            if (isEmpty(title)) {\n                this.element.classList.add(this.className_(undefined, 'not'));\n            }\n            else {\n                this.element.classList.remove(this.className_(undefined, 'not'));\n            }\n        });\n        config.viewProps.bindDisabled(buttonElem);\n        this.element.appendChild(buttonElem);\n        this.buttonElement = buttonElem;\n        const indentElem = doc.createElement('div');\n        indentElem.classList.add(this.className_('i'));\n        this.element.appendChild(indentElem);\n        const titleElem = doc.createElement('div');\n        titleElem.classList.add(this.className_('t'));\n        bindValueToTextContent(config.props.value('title'), titleElem);\n        this.buttonElement.appendChild(titleElem);\n        this.titleElement = titleElem;\n        const markElem = doc.createElement('div');\n        markElem.classList.add(this.className_('m'));\n        this.buttonElement.appendChild(markElem);\n        const containerElem = doc.createElement('div');\n        containerElem.classList.add(this.className_('c'));\n        this.element.appendChild(containerElem);\n        this.containerElement = containerElem;\n    }\n}\n\nclass FolderController extends ContainerBladeController {\n    constructor(doc, config) {\n        var _a;\n        const foldable = Foldable.create((_a = config.expanded) !== null && _a !== void 0 ? _a : true);\n        const view = new FolderView(doc, {\n            foldable: foldable,\n            props: config.props,\n            viewName: config.root ? 'rot' : undefined,\n            viewProps: config.viewProps,\n        });\n        super(Object.assign(Object.assign({}, config), { rackController: new RackController({\n                blade: config.blade,\n                element: view.containerElement,\n                root: config.root,\n                viewProps: config.viewProps,\n            }), view: view }));\n        this.onTitleClick_ = this.onTitleClick_.bind(this);\n        this.props = config.props;\n        this.foldable = foldable;\n        bindFoldable(this.foldable, this.view.containerElement);\n        this.rackController.rack.emitter.on('add', () => {\n            this.foldable.cleanUpTransition();\n        });\n        this.rackController.rack.emitter.on('remove', () => {\n            this.foldable.cleanUpTransition();\n        });\n        this.view.buttonElement.addEventListener('click', this.onTitleClick_);\n    }\n    get document() {\n        return this.view.element.ownerDocument;\n    }\n    importState(state) {\n        return importBladeState(state, (s) => super.importState(s), (p) => ({\n            expanded: p.required.boolean,\n            title: p.optional.string,\n        }), (result) => {\n            this.foldable.set('expanded', result.expanded);\n            this.props.set('title', result.title);\n            return true;\n        });\n    }\n    exportState() {\n        return exportBladeState(() => super.exportState(), {\n            expanded: this.foldable.get('expanded'),\n            title: this.props.get('title'),\n        });\n    }\n    onTitleClick_() {\n        this.foldable.set('expanded', !this.foldable.get('expanded'));\n    }\n}\n\nconst FolderBladePlugin = createPlugin({\n    id: 'folder',\n    type: 'blade',\n    accept(params) {\n        const result = parseRecord(params, (p) => ({\n            title: p.required.string,\n            view: p.required.constant('folder'),\n            expanded: p.optional.boolean,\n        }));\n        return result ? { params: result } : null;\n    },\n    controller(args) {\n        return new FolderController(args.document, {\n            blade: args.blade,\n            expanded: args.params.expanded,\n            props: ValueMap.fromObject({\n                title: args.params.title,\n            }),\n            viewProps: args.viewProps,\n        });\n    },\n    api(args) {\n        if (!(args.controller instanceof FolderController)) {\n            return null;\n        }\n        return new FolderApi(args.controller, args.pool);\n    },\n});\n\nconst cn$o = ClassName('');\nfunction valueToModifier(elem, modifier) {\n    return valueToClassName(elem, cn$o(undefined, modifier));\n}\nclass ViewProps extends ValueMap {\n    constructor(valueMap) {\n        var _a;\n        super(valueMap);\n        this.onDisabledChange_ = this.onDisabledChange_.bind(this);\n        this.onParentChange_ = this.onParentChange_.bind(this);\n        this.onParentGlobalDisabledChange_ =\n            this.onParentGlobalDisabledChange_.bind(this);\n        [this.globalDisabled_, this.setGlobalDisabled_] = createReadonlyValue(createValue(this.getGlobalDisabled_()));\n        this.value('disabled').emitter.on('change', this.onDisabledChange_);\n        this.value('parent').emitter.on('change', this.onParentChange_);\n        (_a = this.get('parent')) === null || _a === void 0 ? void 0 : _a.globalDisabled.emitter.on('change', this.onParentGlobalDisabledChange_);\n    }\n    static create(opt_initialValue) {\n        var _a, _b, _c;\n        const initialValue = opt_initialValue !== null && opt_initialValue !== void 0 ? opt_initialValue : {};\n        return new ViewProps(ValueMap.createCore({\n            disabled: (_a = initialValue.disabled) !== null && _a !== void 0 ? _a : false,\n            disposed: false,\n            hidden: (_b = initialValue.hidden) !== null && _b !== void 0 ? _b : false,\n            parent: (_c = initialValue.parent) !== null && _c !== void 0 ? _c : null,\n        }));\n    }\n    get globalDisabled() {\n        return this.globalDisabled_;\n    }\n    bindClassModifiers(elem) {\n        bindValue(this.globalDisabled_, valueToModifier(elem, 'disabled'));\n        bindValueMap(this, 'hidden', valueToModifier(elem, 'hidden'));\n    }\n    bindDisabled(target) {\n        bindValue(this.globalDisabled_, (disabled) => {\n            target.disabled = disabled;\n        });\n    }\n    bindTabIndex(elem) {\n        bindValue(this.globalDisabled_, (disabled) => {\n            elem.tabIndex = disabled ? -1 : 0;\n        });\n    }\n    handleDispose(callback) {\n        this.value('disposed').emitter.on('change', (disposed) => {\n            if (disposed) {\n                callback();\n            }\n        });\n    }\n    importState(state) {\n        this.set('disabled', state.disabled);\n        this.set('hidden', state.hidden);\n    }\n    exportState() {\n        return {\n            disabled: this.get('disabled'),\n            hidden: this.get('hidden'),\n        };\n    }\n    getGlobalDisabled_() {\n        const parent = this.get('parent');\n        const parentDisabled = parent ? parent.globalDisabled.rawValue : false;\n        return parentDisabled || this.get('disabled');\n    }\n    updateGlobalDisabled_() {\n        this.setGlobalDisabled_(this.getGlobalDisabled_());\n    }\n    onDisabledChange_() {\n        this.updateGlobalDisabled_();\n    }\n    onParentGlobalDisabledChange_() {\n        this.updateGlobalDisabled_();\n    }\n    onParentChange_(ev) {\n        var _a;\n        const prevParent = ev.previousRawValue;\n        prevParent === null || prevParent === void 0 ? void 0 : prevParent.globalDisabled.emitter.off('change', this.onParentGlobalDisabledChange_);\n        (_a = this.get('parent')) === null || _a === void 0 ? void 0 : _a.globalDisabled.emitter.on('change', this.onParentGlobalDisabledChange_);\n        this.updateGlobalDisabled_();\n    }\n}\n\nconst cn$n = ClassName('tbp');\nclass TabPageView {\n    constructor(doc, config) {\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$n());\n        config.viewProps.bindClassModifiers(this.element);\n        const containerElem = doc.createElement('div');\n        containerElem.classList.add(cn$n('c'));\n        this.element.appendChild(containerElem);\n        this.containerElement = containerElem;\n    }\n}\n\nconst cn$m = ClassName('tbi');\nclass TabItemView {\n    constructor(doc, config) {\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$m());\n        config.viewProps.bindClassModifiers(this.element);\n        bindValueMap(config.props, 'selected', (selected) => {\n            if (selected) {\n                this.element.classList.add(cn$m(undefined, 'sel'));\n            }\n            else {\n                this.element.classList.remove(cn$m(undefined, 'sel'));\n            }\n        });\n        const buttonElem = doc.createElement('button');\n        buttonElem.classList.add(cn$m('b'));\n        config.viewProps.bindDisabled(buttonElem);\n        this.element.appendChild(buttonElem);\n        this.buttonElement = buttonElem;\n        const titleElem = doc.createElement('div');\n        titleElem.classList.add(cn$m('t'));\n        bindValueToTextContent(config.props.value('title'), titleElem);\n        this.buttonElement.appendChild(titleElem);\n        this.titleElement = titleElem;\n    }\n}\n\nclass TabItemController {\n    constructor(doc, config) {\n        this.emitter = new Emitter();\n        this.onClick_ = this.onClick_.bind(this);\n        this.props = config.props;\n        this.viewProps = config.viewProps;\n        this.view = new TabItemView(doc, {\n            props: config.props,\n            viewProps: config.viewProps,\n        });\n        this.view.buttonElement.addEventListener('click', this.onClick_);\n    }\n    onClick_() {\n        this.emitter.emit('click', {\n            sender: this,\n        });\n    }\n}\n\nclass TabPageController extends ContainerBladeController {\n    constructor(doc, config) {\n        const view = new TabPageView(doc, {\n            viewProps: config.viewProps,\n        });\n        super(Object.assign(Object.assign({}, config), { rackController: new RackController({\n                blade: config.blade,\n                element: view.containerElement,\n                viewProps: config.viewProps,\n            }), view: view }));\n        this.onItemClick_ = this.onItemClick_.bind(this);\n        this.ic_ = new TabItemController(doc, {\n            props: config.itemProps,\n            viewProps: ViewProps.create(),\n        });\n        this.ic_.emitter.on('click', this.onItemClick_);\n        this.props = config.props;\n        bindValueMap(this.props, 'selected', (selected) => {\n            this.itemController.props.set('selected', selected);\n            this.viewProps.set('hidden', !selected);\n        });\n    }\n    get itemController() {\n        return this.ic_;\n    }\n    importState(state) {\n        return importBladeState(state, (s) => super.importState(s), (p) => ({\n            selected: p.required.boolean,\n            title: p.required.string,\n        }), (result) => {\n            this.ic_.props.set('selected', result.selected);\n            this.ic_.props.set('title', result.title);\n            return true;\n        });\n    }\n    exportState() {\n        return exportBladeState(() => super.exportState(), {\n            selected: this.ic_.props.get('selected'),\n            title: this.ic_.props.get('title'),\n        });\n    }\n    onItemClick_() {\n        this.props.set('selected', true);\n    }\n}\n\nclass TabApi extends ContainerBladeApi {\n    constructor(controller, pool) {\n        super(controller, pool);\n        this.emitter_ = new Emitter();\n        this.onSelect_ = this.onSelect_.bind(this);\n        this.pool_ = pool;\n        this.rackApi_.on('change', (ev) => {\n            this.emitter_.emit('change', ev);\n        });\n        this.controller.tab.selectedIndex.emitter.on('change', this.onSelect_);\n    }\n    get pages() {\n        return this.rackApi_.children;\n    }\n    addPage(params) {\n        const doc = this.controller.view.element.ownerDocument;\n        const pc = new TabPageController(doc, {\n            blade: createBlade(),\n            itemProps: ValueMap.fromObject({\n                selected: false,\n                title: params.title,\n            }),\n            props: ValueMap.fromObject({\n                selected: false,\n            }),\n            viewProps: ViewProps.create(),\n        });\n        const papi = this.pool_.createApi(pc);\n        return this.rackApi_.add(papi, params.index);\n    }\n    removePage(index) {\n        this.rackApi_.remove(this.rackApi_.children[index]);\n    }\n    on(eventName, handler) {\n        const bh = handler.bind(this);\n        this.emitter_.on(eventName, (ev) => {\n            bh(ev);\n        }, {\n            key: handler,\n        });\n        return this;\n    }\n    off(eventName, handler) {\n        this.emitter_.off(eventName, handler);\n        return this;\n    }\n    onSelect_(ev) {\n        this.emitter_.emit('select', new TpTabSelectEvent(this, ev.rawValue));\n    }\n}\n\nclass TabPageApi extends ContainerBladeApi {\n    get title() {\n        var _a;\n        return (_a = this.controller.itemController.props.get('title')) !== null && _a !== void 0 ? _a : '';\n    }\n    set title(title) {\n        this.controller.itemController.props.set('title', title);\n    }\n    get selected() {\n        return this.controller.props.get('selected');\n    }\n    set selected(selected) {\n        this.controller.props.set('selected', selected);\n    }\n    get children() {\n        return this.rackApi_.children;\n    }\n    addButton(params) {\n        return this.rackApi_.addButton(params);\n    }\n    addFolder(params) {\n        return this.rackApi_.addFolder(params);\n    }\n    addTab(params) {\n        return this.rackApi_.addTab(params);\n    }\n    add(api, opt_index) {\n        this.rackApi_.add(api, opt_index);\n    }\n    remove(api) {\n        this.rackApi_.remove(api);\n    }\n    addBinding(object, key, opt_params) {\n        return this.rackApi_.addBinding(object, key, opt_params);\n    }\n    addBlade(params) {\n        return this.rackApi_.addBlade(params);\n    }\n}\n\nconst INDEX_NOT_SELECTED = -1;\nclass Tab {\n    constructor() {\n        this.onItemSelectedChange_ = this.onItemSelectedChange_.bind(this);\n        this.empty = createValue(true);\n        this.selectedIndex = createValue(INDEX_NOT_SELECTED);\n        this.items_ = [];\n    }\n    add(item, opt_index) {\n        const index = opt_index !== null && opt_index !== void 0 ? opt_index : this.items_.length;\n        this.items_.splice(index, 0, item);\n        item.emitter.on('change', this.onItemSelectedChange_);\n        this.keepSelection_();\n    }\n    remove(item) {\n        const index = this.items_.indexOf(item);\n        if (index < 0) {\n            return;\n        }\n        this.items_.splice(index, 1);\n        item.emitter.off('change', this.onItemSelectedChange_);\n        this.keepSelection_();\n    }\n    keepSelection_() {\n        if (this.items_.length === 0) {\n            this.selectedIndex.rawValue = INDEX_NOT_SELECTED;\n            this.empty.rawValue = true;\n            return;\n        }\n        const firstSelIndex = this.items_.findIndex((s) => s.rawValue);\n        if (firstSelIndex < 0) {\n            this.items_.forEach((s, i) => {\n                s.rawValue = i === 0;\n            });\n            this.selectedIndex.rawValue = 0;\n        }\n        else {\n            this.items_.forEach((s, i) => {\n                s.rawValue = i === firstSelIndex;\n            });\n            this.selectedIndex.rawValue = firstSelIndex;\n        }\n        this.empty.rawValue = false;\n    }\n    onItemSelectedChange_(ev) {\n        if (ev.rawValue) {\n            const index = this.items_.findIndex((s) => s === ev.sender);\n            this.items_.forEach((s, i) => {\n                s.rawValue = i === index;\n            });\n            this.selectedIndex.rawValue = index;\n        }\n        else {\n            this.keepSelection_();\n        }\n    }\n}\n\nconst cn$l = ClassName('tab');\nclass TabView {\n    constructor(doc, config) {\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$l(), bladeContainerClassName());\n        config.viewProps.bindClassModifiers(this.element);\n        bindValue(config.empty, valueToClassName(this.element, cn$l(undefined, 'nop')));\n        const titleElem = doc.createElement('div');\n        titleElem.classList.add(cn$l('t'));\n        this.element.appendChild(titleElem);\n        this.itemsElement = titleElem;\n        const indentElem = doc.createElement('div');\n        indentElem.classList.add(cn$l('i'));\n        this.element.appendChild(indentElem);\n        const contentsElem = doc.createElement('div');\n        contentsElem.classList.add(cn$l('c'));\n        this.element.appendChild(contentsElem);\n        this.contentsElement = contentsElem;\n    }\n}\n\nclass TabController extends ContainerBladeController {\n    constructor(doc, config) {\n        const tab = new Tab();\n        const view = new TabView(doc, {\n            empty: tab.empty,\n            viewProps: config.viewProps,\n        });\n        super({\n            blade: config.blade,\n            rackController: new RackController({\n                blade: config.blade,\n                element: view.contentsElement,\n                viewProps: config.viewProps,\n            }),\n            view: view,\n        });\n        this.onRackAdd_ = this.onRackAdd_.bind(this);\n        this.onRackRemove_ = this.onRackRemove_.bind(this);\n        const rack = this.rackController.rack;\n        rack.emitter.on('add', this.onRackAdd_);\n        rack.emitter.on('remove', this.onRackRemove_);\n        this.tab = tab;\n    }\n    add(pc, opt_index) {\n        this.rackController.rack.add(pc, opt_index);\n    }\n    remove(index) {\n        this.rackController.rack.remove(this.rackController.rack.children[index]);\n    }\n    onRackAdd_(ev) {\n        if (!ev.root) {\n            return;\n        }\n        const pc = ev.bladeController;\n        insertElementAt(this.view.itemsElement, pc.itemController.view.element, ev.index);\n        pc.itemController.viewProps.set('parent', this.viewProps);\n        this.tab.add(pc.props.value('selected'));\n    }\n    onRackRemove_(ev) {\n        if (!ev.root) {\n            return;\n        }\n        const pc = ev.bladeController;\n        removeElement(pc.itemController.view.element);\n        pc.itemController.viewProps.set('parent', null);\n        this.tab.remove(pc.props.value('selected'));\n    }\n}\n\nconst TabBladePlugin = createPlugin({\n    id: 'tab',\n    type: 'blade',\n    accept(params) {\n        const result = parseRecord(params, (p) => ({\n            pages: p.required.array(p.required.object({ title: p.required.string })),\n            view: p.required.constant('tab'),\n        }));\n        if (!result || result.pages.length === 0) {\n            return null;\n        }\n        return { params: result };\n    },\n    controller(args) {\n        const c = new TabController(args.document, {\n            blade: args.blade,\n            viewProps: args.viewProps,\n        });\n        args.params.pages.forEach((p) => {\n            const pc = new TabPageController(args.document, {\n                blade: createBlade(),\n                itemProps: ValueMap.fromObject({\n                    selected: false,\n                    title: p.title,\n                }),\n                props: ValueMap.fromObject({\n                    selected: false,\n                }),\n                viewProps: ViewProps.create(),\n            });\n            c.add(pc);\n        });\n        return c;\n    },\n    api(args) {\n        if (args.controller instanceof TabController) {\n            return new TabApi(args.controller, args.pool);\n        }\n        if (args.controller instanceof TabPageController) {\n            return new TabPageApi(args.controller, args.pool);\n        }\n        return null;\n    },\n});\n\nfunction createBladeController(plugin, args) {\n    const ac = plugin.accept(args.params);\n    if (!ac) {\n        return null;\n    }\n    const params = parseRecord(args.params, (p) => ({\n        disabled: p.optional.boolean,\n        hidden: p.optional.boolean,\n    }));\n    return plugin.controller({\n        blade: createBlade(),\n        document: args.document,\n        params: forceCast(Object.assign(Object.assign({}, ac.params), { disabled: params === null || params === void 0 ? void 0 : params.disabled, hidden: params === null || params === void 0 ? void 0 : params.hidden })),\n        viewProps: ViewProps.create({\n            disabled: params === null || params === void 0 ? void 0 : params.disabled,\n            hidden: params === null || params === void 0 ? void 0 : params.hidden,\n        }),\n    });\n}\n\nclass ListInputBindingApi extends BindingApi {\n    get options() {\n        return this.controller.valueController.props.get('options');\n    }\n    set options(options) {\n        this.controller.valueController.props.set('options', options);\n    }\n}\n\nclass ManualTicker {\n    constructor() {\n        this.disabled = false;\n        this.emitter = new Emitter();\n    }\n    dispose() { }\n    tick() {\n        if (this.disabled) {\n            return;\n        }\n        this.emitter.emit('tick', {\n            sender: this,\n        });\n    }\n}\n\nclass IntervalTicker {\n    constructor(doc, interval) {\n        this.disabled_ = false;\n        this.timerId_ = null;\n        this.onTick_ = this.onTick_.bind(this);\n        this.doc_ = doc;\n        this.emitter = new Emitter();\n        this.interval_ = interval;\n        this.setTimer_();\n    }\n    get disabled() {\n        return this.disabled_;\n    }\n    set disabled(inactive) {\n        this.disabled_ = inactive;\n        if (this.disabled_) {\n            this.clearTimer_();\n        }\n        else {\n            this.setTimer_();\n        }\n    }\n    dispose() {\n        this.clearTimer_();\n    }\n    clearTimer_() {\n        if (this.timerId_ === null) {\n            return;\n        }\n        const win = this.doc_.defaultView;\n        if (win) {\n            win.clearInterval(this.timerId_);\n        }\n        this.timerId_ = null;\n    }\n    setTimer_() {\n        this.clearTimer_();\n        if (this.interval_ <= 0) {\n            return;\n        }\n        const win = this.doc_.defaultView;\n        if (win) {\n            this.timerId_ = win.setInterval(this.onTick_, this.interval_);\n        }\n    }\n    onTick_() {\n        if (this.disabled_) {\n            return;\n        }\n        this.emitter.emit('tick', {\n            sender: this,\n        });\n    }\n}\n\nclass CompositeConstraint {\n    constructor(constraints) {\n        this.constraints = constraints;\n    }\n    constrain(value) {\n        return this.constraints.reduce((result, c) => {\n            return c.constrain(result);\n        }, value);\n    }\n}\nfunction findConstraint(c, constraintClass) {\n    if (c instanceof constraintClass) {\n        return c;\n    }\n    if (c instanceof CompositeConstraint) {\n        const result = c.constraints.reduce((tmpResult, sc) => {\n            if (tmpResult) {\n                return tmpResult;\n            }\n            return sc instanceof constraintClass ? sc : null;\n        }, null);\n        if (result) {\n            return result;\n        }\n    }\n    return null;\n}\n\nclass ListConstraint {\n    constructor(options) {\n        this.values = ValueMap.fromObject({\n            options: options,\n        });\n    }\n    constrain(value) {\n        const opts = this.values.get('options');\n        if (opts.length === 0) {\n            return value;\n        }\n        const matched = opts.filter((item) => {\n            return item.value === value;\n        }).length > 0;\n        return matched ? value : opts[0].value;\n    }\n}\n\nfunction parseListOptions(value) {\n    var _a;\n    const p = MicroParsers;\n    if (Array.isArray(value)) {\n        return (_a = parseRecord({ items: value }, (p) => ({\n            items: p.required.array(p.required.object({\n                text: p.required.string,\n                value: p.required.raw,\n            })),\n        }))) === null || _a === void 0 ? void 0 : _a.items;\n    }\n    if (typeof value === 'object') {\n        return p.required.raw(value)\n            .value;\n    }\n    return undefined;\n}\nfunction normalizeListOptions(options) {\n    if (Array.isArray(options)) {\n        return options;\n    }\n    const items = [];\n    Object.keys(options).forEach((text) => {\n        items.push({ text: text, value: options[text] });\n    });\n    return items;\n}\nfunction createListConstraint(options) {\n    return !isEmpty(options)\n        ? new ListConstraint(normalizeListOptions(forceCast(options)))\n        : null;\n}\n\nconst cn$k = ClassName('lst');\nclass ListView {\n    constructor(doc, config) {\n        this.onValueChange_ = this.onValueChange_.bind(this);\n        this.props_ = config.props;\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$k());\n        config.viewProps.bindClassModifiers(this.element);\n        const selectElem = doc.createElement('select');\n        selectElem.classList.add(cn$k('s'));\n        config.viewProps.bindDisabled(selectElem);\n        this.element.appendChild(selectElem);\n        this.selectElement = selectElem;\n        const markElem = doc.createElement('div');\n        markElem.classList.add(cn$k('m'));\n        markElem.appendChild(createSvgIconElement(doc, 'dropdown'));\n        this.element.appendChild(markElem);\n        config.value.emitter.on('change', this.onValueChange_);\n        this.value_ = config.value;\n        bindValueMap(this.props_, 'options', (opts) => {\n            removeChildElements(this.selectElement);\n            opts.forEach((item) => {\n                const optionElem = doc.createElement('option');\n                optionElem.textContent = item.text;\n                this.selectElement.appendChild(optionElem);\n            });\n            this.update_();\n        });\n    }\n    update_() {\n        const values = this.props_.get('options').map((o) => o.value);\n        this.selectElement.selectedIndex = values.indexOf(this.value_.rawValue);\n    }\n    onValueChange_() {\n        this.update_();\n    }\n}\n\nclass ListController {\n    constructor(doc, config) {\n        this.onSelectChange_ = this.onSelectChange_.bind(this);\n        this.props = config.props;\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.view = new ListView(doc, {\n            props: this.props,\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        this.view.selectElement.addEventListener('change', this.onSelectChange_);\n    }\n    onSelectChange_(e) {\n        const selectElem = forceCast(e.currentTarget);\n        this.value.rawValue =\n            this.props.get('options')[selectElem.selectedIndex].value;\n    }\n    importProps(state) {\n        return importBladeState(state, null, (p) => ({\n            options: p.required.custom(parseListOptions),\n        }), (result) => {\n            this.props.set('options', normalizeListOptions(result.options));\n            return true;\n        });\n    }\n    exportProps() {\n        return exportBladeState(null, {\n            options: this.props.get('options'),\n        });\n    }\n}\n\nconst cn$j = ClassName('pop');\nclass PopupView {\n    constructor(doc, config) {\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$j());\n        config.viewProps.bindClassModifiers(this.element);\n        bindValue(config.shows, valueToClassName(this.element, cn$j(undefined, 'v')));\n    }\n}\n\nclass PopupController {\n    constructor(doc, config) {\n        this.shows = createValue(false);\n        this.viewProps = config.viewProps;\n        this.view = new PopupView(doc, {\n            shows: this.shows,\n            viewProps: this.viewProps,\n        });\n    }\n}\n\nconst cn$i = ClassName('txt');\nclass TextView {\n    constructor(doc, config) {\n        this.onChange_ = this.onChange_.bind(this);\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$i());\n        config.viewProps.bindClassModifiers(this.element);\n        this.props_ = config.props;\n        this.props_.emitter.on('change', this.onChange_);\n        const inputElem = doc.createElement('input');\n        inputElem.classList.add(cn$i('i'));\n        inputElem.type = 'text';\n        config.viewProps.bindDisabled(inputElem);\n        this.element.appendChild(inputElem);\n        this.inputElement = inputElem;\n        config.value.emitter.on('change', this.onChange_);\n        this.value_ = config.value;\n        this.refresh();\n    }\n    refresh() {\n        const formatter = this.props_.get('formatter');\n        this.inputElement.value = formatter(this.value_.rawValue);\n    }\n    onChange_() {\n        this.refresh();\n    }\n}\n\nclass TextController {\n    constructor(doc, config) {\n        this.onInputChange_ = this.onInputChange_.bind(this);\n        this.parser_ = config.parser;\n        this.props = config.props;\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.view = new TextView(doc, {\n            props: config.props,\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        this.view.inputElement.addEventListener('change', this.onInputChange_);\n    }\n    onInputChange_(e) {\n        const inputElem = forceCast(e.currentTarget);\n        const value = inputElem.value;\n        const parsedValue = this.parser_(value);\n        if (!isEmpty(parsedValue)) {\n            this.value.rawValue = parsedValue;\n        }\n        this.view.refresh();\n    }\n}\n\nfunction boolToString(value) {\n    return String(value);\n}\nfunction boolFromUnknown(value) {\n    if (value === 'false') {\n        return false;\n    }\n    return !!value;\n}\nfunction BooleanFormatter(value) {\n    return boolToString(value);\n}\n\nfunction composeParsers(parsers) {\n    return (text) => {\n        return parsers.reduce((result, parser) => {\n            if (result !== null) {\n                return result;\n            }\n            return parser(text);\n        }, null);\n    };\n}\n\nconst innerFormatter = createNumberFormatter(0);\nfunction formatPercentage(value) {\n    return innerFormatter(value) + '%';\n}\n\nfunction stringFromUnknown(value) {\n    return String(value);\n}\nfunction formatString(value) {\n    return value;\n}\n\nfunction connectValues({ primary, secondary, forward, backward, }) {\n    let changing = false;\n    function preventFeedback(callback) {\n        if (changing) {\n            return;\n        }\n        changing = true;\n        callback();\n        changing = false;\n    }\n    primary.emitter.on('change', (ev) => {\n        preventFeedback(() => {\n            secondary.setRawValue(forward(primary.rawValue, secondary.rawValue), ev.options);\n        });\n    });\n    secondary.emitter.on('change', (ev) => {\n        preventFeedback(() => {\n            primary.setRawValue(backward(primary.rawValue, secondary.rawValue), ev.options);\n        });\n        preventFeedback(() => {\n            secondary.setRawValue(forward(primary.rawValue, secondary.rawValue), ev.options);\n        });\n    });\n    preventFeedback(() => {\n        secondary.setRawValue(forward(primary.rawValue, secondary.rawValue), {\n            forceEmit: false,\n            last: true,\n        });\n    });\n}\n\nfunction getStepForKey(keyScale, keys) {\n    const step = keyScale * (keys.altKey ? 0.1 : 1) * (keys.shiftKey ? 10 : 1);\n    if (keys.upKey) {\n        return +step;\n    }\n    else if (keys.downKey) {\n        return -step;\n    }\n    return 0;\n}\nfunction getVerticalStepKeys(ev) {\n    return {\n        altKey: ev.altKey,\n        downKey: ev.key === 'ArrowDown',\n        shiftKey: ev.shiftKey,\n        upKey: ev.key === 'ArrowUp',\n    };\n}\nfunction getHorizontalStepKeys(ev) {\n    return {\n        altKey: ev.altKey,\n        downKey: ev.key === 'ArrowLeft',\n        shiftKey: ev.shiftKey,\n        upKey: ev.key === 'ArrowRight',\n    };\n}\nfunction isVerticalArrowKey(key) {\n    return key === 'ArrowUp' || key === 'ArrowDown';\n}\nfunction isArrowKey(key) {\n    return isVerticalArrowKey(key) || key === 'ArrowLeft' || key === 'ArrowRight';\n}\n\nfunction computeOffset$1(ev, elem) {\n    var _a, _b;\n    const win = elem.ownerDocument.defaultView;\n    const rect = elem.getBoundingClientRect();\n    return {\n        x: ev.pageX - (((_a = (win && win.scrollX)) !== null && _a !== void 0 ? _a : 0) + rect.left),\n        y: ev.pageY - (((_b = (win && win.scrollY)) !== null && _b !== void 0 ? _b : 0) + rect.top),\n    };\n}\nclass PointerHandler {\n    constructor(element) {\n        this.lastTouch_ = null;\n        this.onDocumentMouseMove_ = this.onDocumentMouseMove_.bind(this);\n        this.onDocumentMouseUp_ = this.onDocumentMouseUp_.bind(this);\n        this.onMouseDown_ = this.onMouseDown_.bind(this);\n        this.onTouchEnd_ = this.onTouchEnd_.bind(this);\n        this.onTouchMove_ = this.onTouchMove_.bind(this);\n        this.onTouchStart_ = this.onTouchStart_.bind(this);\n        this.elem_ = element;\n        this.emitter = new Emitter();\n        element.addEventListener('touchstart', this.onTouchStart_, {\n            passive: false,\n        });\n        element.addEventListener('touchmove', this.onTouchMove_, {\n            passive: true,\n        });\n        element.addEventListener('touchend', this.onTouchEnd_);\n        element.addEventListener('mousedown', this.onMouseDown_);\n    }\n    computePosition_(offset) {\n        const rect = this.elem_.getBoundingClientRect();\n        return {\n            bounds: {\n                width: rect.width,\n                height: rect.height,\n            },\n            point: offset\n                ? {\n                    x: offset.x,\n                    y: offset.y,\n                }\n                : null,\n        };\n    }\n    onMouseDown_(ev) {\n        var _a;\n        ev.preventDefault();\n        (_a = ev.currentTarget) === null || _a === void 0 ? void 0 : _a.focus();\n        const doc = this.elem_.ownerDocument;\n        doc.addEventListener('mousemove', this.onDocumentMouseMove_);\n        doc.addEventListener('mouseup', this.onDocumentMouseUp_);\n        this.emitter.emit('down', {\n            altKey: ev.altKey,\n            data: this.computePosition_(computeOffset$1(ev, this.elem_)),\n            sender: this,\n            shiftKey: ev.shiftKey,\n        });\n    }\n    onDocumentMouseMove_(ev) {\n        this.emitter.emit('move', {\n            altKey: ev.altKey,\n            data: this.computePosition_(computeOffset$1(ev, this.elem_)),\n            sender: this,\n            shiftKey: ev.shiftKey,\n        });\n    }\n    onDocumentMouseUp_(ev) {\n        const doc = this.elem_.ownerDocument;\n        doc.removeEventListener('mousemove', this.onDocumentMouseMove_);\n        doc.removeEventListener('mouseup', this.onDocumentMouseUp_);\n        this.emitter.emit('up', {\n            altKey: ev.altKey,\n            data: this.computePosition_(computeOffset$1(ev, this.elem_)),\n            sender: this,\n            shiftKey: ev.shiftKey,\n        });\n    }\n    onTouchStart_(ev) {\n        ev.preventDefault();\n        const touch = ev.targetTouches.item(0);\n        const rect = this.elem_.getBoundingClientRect();\n        this.emitter.emit('down', {\n            altKey: ev.altKey,\n            data: this.computePosition_(touch\n                ? {\n                    x: touch.clientX - rect.left,\n                    y: touch.clientY - rect.top,\n                }\n                : undefined),\n            sender: this,\n            shiftKey: ev.shiftKey,\n        });\n        this.lastTouch_ = touch;\n    }\n    onTouchMove_(ev) {\n        const touch = ev.targetTouches.item(0);\n        const rect = this.elem_.getBoundingClientRect();\n        this.emitter.emit('move', {\n            altKey: ev.altKey,\n            data: this.computePosition_(touch\n                ? {\n                    x: touch.clientX - rect.left,\n                    y: touch.clientY - rect.top,\n                }\n                : undefined),\n            sender: this,\n            shiftKey: ev.shiftKey,\n        });\n        this.lastTouch_ = touch;\n    }\n    onTouchEnd_(ev) {\n        var _a;\n        const touch = (_a = ev.targetTouches.item(0)) !== null && _a !== void 0 ? _a : this.lastTouch_;\n        const rect = this.elem_.getBoundingClientRect();\n        this.emitter.emit('up', {\n            altKey: ev.altKey,\n            data: this.computePosition_(touch\n                ? {\n                    x: touch.clientX - rect.left,\n                    y: touch.clientY - rect.top,\n                }\n                : undefined),\n            sender: this,\n            shiftKey: ev.shiftKey,\n        });\n    }\n}\n\nconst cn$h = ClassName('txt');\nclass NumberTextView {\n    constructor(doc, config) {\n        this.onChange_ = this.onChange_.bind(this);\n        this.props_ = config.props;\n        this.props_.emitter.on('change', this.onChange_);\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$h(), cn$h(undefined, 'num'));\n        if (config.arrayPosition) {\n            this.element.classList.add(cn$h(undefined, config.arrayPosition));\n        }\n        config.viewProps.bindClassModifiers(this.element);\n        const inputElem = doc.createElement('input');\n        inputElem.classList.add(cn$h('i'));\n        inputElem.type = 'text';\n        config.viewProps.bindDisabled(inputElem);\n        this.element.appendChild(inputElem);\n        this.inputElement = inputElem;\n        this.onDraggingChange_ = this.onDraggingChange_.bind(this);\n        this.dragging_ = config.dragging;\n        this.dragging_.emitter.on('change', this.onDraggingChange_);\n        this.element.classList.add(cn$h());\n        this.inputElement.classList.add(cn$h('i'));\n        const knobElem = doc.createElement('div');\n        knobElem.classList.add(cn$h('k'));\n        this.element.appendChild(knobElem);\n        this.knobElement = knobElem;\n        const guideElem = doc.createElementNS(SVG_NS, 'svg');\n        guideElem.classList.add(cn$h('g'));\n        this.knobElement.appendChild(guideElem);\n        const bodyElem = doc.createElementNS(SVG_NS, 'path');\n        bodyElem.classList.add(cn$h('gb'));\n        guideElem.appendChild(bodyElem);\n        this.guideBodyElem_ = bodyElem;\n        const headElem = doc.createElementNS(SVG_NS, 'path');\n        headElem.classList.add(cn$h('gh'));\n        guideElem.appendChild(headElem);\n        this.guideHeadElem_ = headElem;\n        const tooltipElem = doc.createElement('div');\n        tooltipElem.classList.add(ClassName('tt')());\n        this.knobElement.appendChild(tooltipElem);\n        this.tooltipElem_ = tooltipElem;\n        config.value.emitter.on('change', this.onChange_);\n        this.value = config.value;\n        this.refresh();\n    }\n    onDraggingChange_(ev) {\n        if (ev.rawValue === null) {\n            this.element.classList.remove(cn$h(undefined, 'drg'));\n            return;\n        }\n        this.element.classList.add(cn$h(undefined, 'drg'));\n        const x = ev.rawValue / this.props_.get('pointerScale');\n        const aox = x + (x > 0 ? -1 : x < 0 ? +1 : 0);\n        const adx = constrainRange(-aox, -4, +4);\n        this.guideHeadElem_.setAttributeNS(null, 'd', [`M ${aox + adx},0 L${aox},4 L${aox + adx},8`, `M ${x},-1 L${x},9`].join(' '));\n        this.guideBodyElem_.setAttributeNS(null, 'd', `M 0,4 L${x},4`);\n        const formatter = this.props_.get('formatter');\n        this.tooltipElem_.textContent = formatter(this.value.rawValue);\n        this.tooltipElem_.style.left = `${x}px`;\n    }\n    refresh() {\n        const formatter = this.props_.get('formatter');\n        this.inputElement.value = formatter(this.value.rawValue);\n    }\n    onChange_() {\n        this.refresh();\n    }\n}\n\nclass NumberTextController {\n    constructor(doc, config) {\n        var _a;\n        this.originRawValue_ = 0;\n        this.onInputChange_ = this.onInputChange_.bind(this);\n        this.onInputKeyDown_ = this.onInputKeyDown_.bind(this);\n        this.onInputKeyUp_ = this.onInputKeyUp_.bind(this);\n        this.onPointerDown_ = this.onPointerDown_.bind(this);\n        this.onPointerMove_ = this.onPointerMove_.bind(this);\n        this.onPointerUp_ = this.onPointerUp_.bind(this);\n        this.parser_ = config.parser;\n        this.props = config.props;\n        this.sliderProps_ = (_a = config.sliderProps) !== null && _a !== void 0 ? _a : null;\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.dragging_ = createValue(null);\n        this.view = new NumberTextView(doc, {\n            arrayPosition: config.arrayPosition,\n            dragging: this.dragging_,\n            props: this.props,\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        this.view.inputElement.addEventListener('change', this.onInputChange_);\n        this.view.inputElement.addEventListener('keydown', this.onInputKeyDown_);\n        this.view.inputElement.addEventListener('keyup', this.onInputKeyUp_);\n        const ph = new PointerHandler(this.view.knobElement);\n        ph.emitter.on('down', this.onPointerDown_);\n        ph.emitter.on('move', this.onPointerMove_);\n        ph.emitter.on('up', this.onPointerUp_);\n    }\n    constrainValue_(value) {\n        var _a, _b;\n        const min = (_a = this.sliderProps_) === null || _a === void 0 ? void 0 : _a.get('min');\n        const max = (_b = this.sliderProps_) === null || _b === void 0 ? void 0 : _b.get('max');\n        let v = value;\n        if (min !== undefined) {\n            v = Math.max(v, min);\n        }\n        if (max !== undefined) {\n            v = Math.min(v, max);\n        }\n        return v;\n    }\n    onInputChange_(e) {\n        const inputElem = forceCast(e.currentTarget);\n        const value = inputElem.value;\n        const parsedValue = this.parser_(value);\n        if (!isEmpty(parsedValue)) {\n            this.value.rawValue = this.constrainValue_(parsedValue);\n        }\n        this.view.refresh();\n    }\n    onInputKeyDown_(ev) {\n        const step = getStepForKey(this.props.get('keyScale'), getVerticalStepKeys(ev));\n        if (step === 0) {\n            return;\n        }\n        this.value.setRawValue(this.constrainValue_(this.value.rawValue + step), {\n            forceEmit: false,\n            last: false,\n        });\n    }\n    onInputKeyUp_(ev) {\n        const step = getStepForKey(this.props.get('keyScale'), getVerticalStepKeys(ev));\n        if (step === 0) {\n            return;\n        }\n        this.value.setRawValue(this.value.rawValue, {\n            forceEmit: true,\n            last: true,\n        });\n    }\n    onPointerDown_() {\n        this.originRawValue_ = this.value.rawValue;\n        this.dragging_.rawValue = 0;\n    }\n    computeDraggingValue_(data) {\n        if (!data.point) {\n            return null;\n        }\n        const dx = data.point.x - data.bounds.width / 2;\n        return this.constrainValue_(this.originRawValue_ + dx * this.props.get('pointerScale'));\n    }\n    onPointerMove_(ev) {\n        const v = this.computeDraggingValue_(ev.data);\n        if (v === null) {\n            return;\n        }\n        this.value.setRawValue(v, {\n            forceEmit: false,\n            last: false,\n        });\n        this.dragging_.rawValue = this.value.rawValue - this.originRawValue_;\n    }\n    onPointerUp_(ev) {\n        const v = this.computeDraggingValue_(ev.data);\n        if (v === null) {\n            return;\n        }\n        this.value.setRawValue(v, {\n            forceEmit: true,\n            last: true,\n        });\n        this.dragging_.rawValue = null;\n    }\n}\n\nconst cn$g = ClassName('sld');\nclass SliderView {\n    constructor(doc, config) {\n        this.onChange_ = this.onChange_.bind(this);\n        this.props_ = config.props;\n        this.props_.emitter.on('change', this.onChange_);\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$g());\n        config.viewProps.bindClassModifiers(this.element);\n        const trackElem = doc.createElement('div');\n        trackElem.classList.add(cn$g('t'));\n        config.viewProps.bindTabIndex(trackElem);\n        this.element.appendChild(trackElem);\n        this.trackElement = trackElem;\n        const knobElem = doc.createElement('div');\n        knobElem.classList.add(cn$g('k'));\n        this.trackElement.appendChild(knobElem);\n        this.knobElement = knobElem;\n        config.value.emitter.on('change', this.onChange_);\n        this.value = config.value;\n        this.update_();\n    }\n    update_() {\n        const p = constrainRange(mapRange(this.value.rawValue, this.props_.get('min'), this.props_.get('max'), 0, 100), 0, 100);\n        this.knobElement.style.width = `${p}%`;\n    }\n    onChange_() {\n        this.update_();\n    }\n}\n\nclass SliderController {\n    constructor(doc, config) {\n        this.onKeyDown_ = this.onKeyDown_.bind(this);\n        this.onKeyUp_ = this.onKeyUp_.bind(this);\n        this.onPointerDownOrMove_ = this.onPointerDownOrMove_.bind(this);\n        this.onPointerUp_ = this.onPointerUp_.bind(this);\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.props = config.props;\n        this.view = new SliderView(doc, {\n            props: this.props,\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        this.ptHandler_ = new PointerHandler(this.view.trackElement);\n        this.ptHandler_.emitter.on('down', this.onPointerDownOrMove_);\n        this.ptHandler_.emitter.on('move', this.onPointerDownOrMove_);\n        this.ptHandler_.emitter.on('up', this.onPointerUp_);\n        this.view.trackElement.addEventListener('keydown', this.onKeyDown_);\n        this.view.trackElement.addEventListener('keyup', this.onKeyUp_);\n    }\n    handlePointerEvent_(d, opts) {\n        if (!d.point) {\n            return;\n        }\n        this.value.setRawValue(mapRange(constrainRange(d.point.x, 0, d.bounds.width), 0, d.bounds.width, this.props.get('min'), this.props.get('max')), opts);\n    }\n    onPointerDownOrMove_(ev) {\n        this.handlePointerEvent_(ev.data, {\n            forceEmit: false,\n            last: false,\n        });\n    }\n    onPointerUp_(ev) {\n        this.handlePointerEvent_(ev.data, {\n            forceEmit: true,\n            last: true,\n        });\n    }\n    onKeyDown_(ev) {\n        const step = getStepForKey(this.props.get('keyScale'), getHorizontalStepKeys(ev));\n        if (step === 0) {\n            return;\n        }\n        this.value.setRawValue(this.value.rawValue + step, {\n            forceEmit: false,\n            last: false,\n        });\n    }\n    onKeyUp_(ev) {\n        const step = getStepForKey(this.props.get('keyScale'), getHorizontalStepKeys(ev));\n        if (step === 0) {\n            return;\n        }\n        this.value.setRawValue(this.value.rawValue, {\n            forceEmit: true,\n            last: true,\n        });\n    }\n}\n\nconst cn$f = ClassName('sldtxt');\nclass SliderTextView {\n    constructor(doc, config) {\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$f());\n        const sliderElem = doc.createElement('div');\n        sliderElem.classList.add(cn$f('s'));\n        this.sliderView_ = config.sliderView;\n        sliderElem.appendChild(this.sliderView_.element);\n        this.element.appendChild(sliderElem);\n        const textElem = doc.createElement('div');\n        textElem.classList.add(cn$f('t'));\n        this.textView_ = config.textView;\n        textElem.appendChild(this.textView_.element);\n        this.element.appendChild(textElem);\n    }\n}\n\nclass SliderTextController {\n    constructor(doc, config) {\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.sliderC_ = new SliderController(doc, {\n            props: config.sliderProps,\n            value: config.value,\n            viewProps: this.viewProps,\n        });\n        this.textC_ = new NumberTextController(doc, {\n            parser: config.parser,\n            props: config.textProps,\n            sliderProps: config.sliderProps,\n            value: config.value,\n            viewProps: config.viewProps,\n        });\n        this.view = new SliderTextView(doc, {\n            sliderView: this.sliderC_.view,\n            textView: this.textC_.view,\n        });\n    }\n    get sliderController() {\n        return this.sliderC_;\n    }\n    get textController() {\n        return this.textC_;\n    }\n    importProps(state) {\n        return importBladeState(state, null, (p) => ({\n            max: p.required.number,\n            min: p.required.number,\n        }), (result) => {\n            const sliderProps = this.sliderC_.props;\n            sliderProps.set('max', result.max);\n            sliderProps.set('min', result.min);\n            return true;\n        });\n    }\n    exportProps() {\n        const sliderProps = this.sliderC_.props;\n        return exportBladeState(null, {\n            max: sliderProps.get('max'),\n            min: sliderProps.get('min'),\n        });\n    }\n}\nfunction createSliderTextProps(config) {\n    return {\n        sliderProps: new ValueMap({\n            keyScale: config.keyScale,\n            max: config.max,\n            min: config.min,\n        }),\n        textProps: new ValueMap({\n            formatter: createValue(config.formatter),\n            keyScale: config.keyScale,\n            pointerScale: createValue(config.pointerScale),\n        }),\n    };\n}\n\nconst CSS_VAR_MAP = {\n    containerUnitSize: 'cnt-usz',\n};\nfunction getCssVar(key) {\n    return `--${CSS_VAR_MAP[key]}`;\n}\n\nfunction createPointDimensionParser(p) {\n    return createNumberTextInputParamsParser(p);\n}\nfunction parsePointDimensionParams(value) {\n    if (!isRecord(value)) {\n        return undefined;\n    }\n    return parseRecord(value, createPointDimensionParser);\n}\nfunction createDimensionConstraint(params, initialValue) {\n    if (!params) {\n        return undefined;\n    }\n    const constraints = [];\n    const cs = createStepConstraint(params, initialValue);\n    if (cs) {\n        constraints.push(cs);\n    }\n    const rs = createRangeConstraint(params);\n    if (rs) {\n        constraints.push(rs);\n    }\n    return new CompositeConstraint(constraints);\n}\n\nfunction isCompatible(ver) {\n    if (!ver) {\n        return false;\n    }\n    return ver.major === VERSION$1.major;\n}\n\nfunction parsePickerLayout(value) {\n    if (value === 'inline' || value === 'popup') {\n        return value;\n    }\n    return undefined;\n}\n\nfunction writePrimitive(target, value) {\n    target.write(value);\n}\n\nconst cn$e = ClassName('ckb');\nclass CheckboxView {\n    constructor(doc, config) {\n        this.onValueChange_ = this.onValueChange_.bind(this);\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$e());\n        config.viewProps.bindClassModifiers(this.element);\n        const labelElem = doc.createElement('label');\n        labelElem.classList.add(cn$e('l'));\n        this.element.appendChild(labelElem);\n        this.labelElement = labelElem;\n        const inputElem = doc.createElement('input');\n        inputElem.classList.add(cn$e('i'));\n        inputElem.type = 'checkbox';\n        this.labelElement.appendChild(inputElem);\n        this.inputElement = inputElem;\n        config.viewProps.bindDisabled(this.inputElement);\n        const wrapperElem = doc.createElement('div');\n        wrapperElem.classList.add(cn$e('w'));\n        this.labelElement.appendChild(wrapperElem);\n        const markElem = createSvgIconElement(doc, 'check');\n        wrapperElem.appendChild(markElem);\n        config.value.emitter.on('change', this.onValueChange_);\n        this.value = config.value;\n        this.update_();\n    }\n    update_() {\n        this.inputElement.checked = this.value.rawValue;\n    }\n    onValueChange_() {\n        this.update_();\n    }\n}\n\nclass CheckboxController {\n    constructor(doc, config) {\n        this.onInputChange_ = this.onInputChange_.bind(this);\n        this.onLabelMouseDown_ = this.onLabelMouseDown_.bind(this);\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.view = new CheckboxView(doc, {\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        this.view.inputElement.addEventListener('change', this.onInputChange_);\n        this.view.labelElement.addEventListener('mousedown', this.onLabelMouseDown_);\n    }\n    onInputChange_(ev) {\n        const inputElem = forceCast(ev.currentTarget);\n        this.value.rawValue = inputElem.checked;\n        ev.preventDefault();\n        ev.stopPropagation();\n    }\n    onLabelMouseDown_(ev) {\n        ev.preventDefault();\n    }\n}\n\nfunction createConstraint$6(params) {\n    const constraints = [];\n    const lc = createListConstraint(params.options);\n    if (lc) {\n        constraints.push(lc);\n    }\n    return new CompositeConstraint(constraints);\n}\nconst BooleanInputPlugin = createPlugin({\n    id: 'input-bool',\n    type: 'input',\n    accept: (value, params) => {\n        if (typeof value !== 'boolean') {\n            return null;\n        }\n        const result = parseRecord(params, (p) => ({\n            options: p.optional.custom(parseListOptions),\n            readonly: p.optional.constant(false),\n        }));\n        return result\n            ? {\n                initialValue: value,\n                params: result,\n            }\n            : null;\n    },\n    binding: {\n        reader: (_args) => boolFromUnknown,\n        constraint: (args) => createConstraint$6(args.params),\n        writer: (_args) => writePrimitive,\n    },\n    controller: (args) => {\n        const doc = args.document;\n        const value = args.value;\n        const c = args.constraint;\n        const lc = c && findConstraint(c, ListConstraint);\n        if (lc) {\n            return new ListController(doc, {\n                props: new ValueMap({\n                    options: lc.values.value('options'),\n                }),\n                value: value,\n                viewProps: args.viewProps,\n            });\n        }\n        return new CheckboxController(doc, {\n            value: value,\n            viewProps: args.viewProps,\n        });\n    },\n    api(args) {\n        if (typeof args.controller.value.rawValue !== 'boolean') {\n            return null;\n        }\n        if (args.controller.valueController instanceof ListController) {\n            return new ListInputBindingApi(args.controller);\n        }\n        return null;\n    },\n});\n\nconst cn$d = ClassName('col');\nclass ColorView {\n    constructor(doc, config) {\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$d());\n        config.foldable.bindExpandedClass(this.element, cn$d(undefined, 'expanded'));\n        bindValueMap(config.foldable, 'completed', valueToClassName(this.element, cn$d(undefined, 'cpl')));\n        const headElem = doc.createElement('div');\n        headElem.classList.add(cn$d('h'));\n        this.element.appendChild(headElem);\n        const swatchElem = doc.createElement('div');\n        swatchElem.classList.add(cn$d('s'));\n        headElem.appendChild(swatchElem);\n        this.swatchElement = swatchElem;\n        const textElem = doc.createElement('div');\n        textElem.classList.add(cn$d('t'));\n        headElem.appendChild(textElem);\n        this.textElement = textElem;\n        if (config.pickerLayout === 'inline') {\n            const pickerElem = doc.createElement('div');\n            pickerElem.classList.add(cn$d('p'));\n            this.element.appendChild(pickerElem);\n            this.pickerElement = pickerElem;\n        }\n        else {\n            this.pickerElement = null;\n        }\n    }\n}\n\nfunction rgbToHslInt(r, g, b) {\n    const rp = constrainRange(r / 255, 0, 1);\n    const gp = constrainRange(g / 255, 0, 1);\n    const bp = constrainRange(b / 255, 0, 1);\n    const cmax = Math.max(rp, gp, bp);\n    const cmin = Math.min(rp, gp, bp);\n    const c = cmax - cmin;\n    let h = 0;\n    let s = 0;\n    const l = (cmin + cmax) / 2;\n    if (c !== 0) {\n        s = c / (1 - Math.abs(cmax + cmin - 1));\n        if (rp === cmax) {\n            h = (gp - bp) / c;\n        }\n        else if (gp === cmax) {\n            h = 2 + (bp - rp) / c;\n        }\n        else {\n            h = 4 + (rp - gp) / c;\n        }\n        h = h / 6 + (h < 0 ? 1 : 0);\n    }\n    return [h * 360, s * 100, l * 100];\n}\nfunction hslToRgbInt(h, s, l) {\n    const hp = ((h % 360) + 360) % 360;\n    const sp = constrainRange(s / 100, 0, 1);\n    const lp = constrainRange(l / 100, 0, 1);\n    const c = (1 - Math.abs(2 * lp - 1)) * sp;\n    const x = c * (1 - Math.abs(((hp / 60) % 2) - 1));\n    const m = lp - c / 2;\n    let rp, gp, bp;\n    if (hp >= 0 && hp < 60) {\n        [rp, gp, bp] = [c, x, 0];\n    }\n    else if (hp >= 60 && hp < 120) {\n        [rp, gp, bp] = [x, c, 0];\n    }\n    else if (hp >= 120 && hp < 180) {\n        [rp, gp, bp] = [0, c, x];\n    }\n    else if (hp >= 180 && hp < 240) {\n        [rp, gp, bp] = [0, x, c];\n    }\n    else if (hp >= 240 && hp < 300) {\n        [rp, gp, bp] = [x, 0, c];\n    }\n    else {\n        [rp, gp, bp] = [c, 0, x];\n    }\n    return [(rp + m) * 255, (gp + m) * 255, (bp + m) * 255];\n}\nfunction rgbToHsvInt(r, g, b) {\n    const rp = constrainRange(r / 255, 0, 1);\n    const gp = constrainRange(g / 255, 0, 1);\n    const bp = constrainRange(b / 255, 0, 1);\n    const cmax = Math.max(rp, gp, bp);\n    const cmin = Math.min(rp, gp, bp);\n    const d = cmax - cmin;\n    let h;\n    if (d === 0) {\n        h = 0;\n    }\n    else if (cmax === rp) {\n        h = 60 * (((((gp - bp) / d) % 6) + 6) % 6);\n    }\n    else if (cmax === gp) {\n        h = 60 * ((bp - rp) / d + 2);\n    }\n    else {\n        h = 60 * ((rp - gp) / d + 4);\n    }\n    const s = cmax === 0 ? 0 : d / cmax;\n    const v = cmax;\n    return [h, s * 100, v * 100];\n}\nfunction hsvToRgbInt(h, s, v) {\n    const hp = loopRange(h, 360);\n    const sp = constrainRange(s / 100, 0, 1);\n    const vp = constrainRange(v / 100, 0, 1);\n    const c = vp * sp;\n    const x = c * (1 - Math.abs(((hp / 60) % 2) - 1));\n    const m = vp - c;\n    let rp, gp, bp;\n    if (hp >= 0 && hp < 60) {\n        [rp, gp, bp] = [c, x, 0];\n    }\n    else if (hp >= 60 && hp < 120) {\n        [rp, gp, bp] = [x, c, 0];\n    }\n    else if (hp >= 120 && hp < 180) {\n        [rp, gp, bp] = [0, c, x];\n    }\n    else if (hp >= 180 && hp < 240) {\n        [rp, gp, bp] = [0, x, c];\n    }\n    else if (hp >= 240 && hp < 300) {\n        [rp, gp, bp] = [x, 0, c];\n    }\n    else {\n        [rp, gp, bp] = [c, 0, x];\n    }\n    return [(rp + m) * 255, (gp + m) * 255, (bp + m) * 255];\n}\nfunction hslToHsvInt(h, s, l) {\n    const sd = l + (s * (100 - Math.abs(2 * l - 100))) / (2 * 100);\n    return [\n        h,\n        sd !== 0 ? (s * (100 - Math.abs(2 * l - 100))) / sd : 0,\n        l + (s * (100 - Math.abs(2 * l - 100))) / (2 * 100),\n    ];\n}\nfunction hsvToHslInt(h, s, v) {\n    const sd = 100 - Math.abs((v * (200 - s)) / 100 - 100);\n    return [h, sd !== 0 ? (s * v) / sd : 0, (v * (200 - s)) / (2 * 100)];\n}\nfunction removeAlphaComponent(comps) {\n    return [comps[0], comps[1], comps[2]];\n}\nfunction appendAlphaComponent(comps, alpha) {\n    return [comps[0], comps[1], comps[2], alpha];\n}\nconst MODE_CONVERTER_MAP = {\n    hsl: {\n        hsl: (h, s, l) => [h, s, l],\n        hsv: hslToHsvInt,\n        rgb: hslToRgbInt,\n    },\n    hsv: {\n        hsl: hsvToHslInt,\n        hsv: (h, s, v) => [h, s, v],\n        rgb: hsvToRgbInt,\n    },\n    rgb: {\n        hsl: rgbToHslInt,\n        hsv: rgbToHsvInt,\n        rgb: (r, g, b) => [r, g, b],\n    },\n};\nfunction getColorMaxComponents(mode, type) {\n    return [\n        type === 'float' ? 1 : mode === 'rgb' ? 255 : 360,\n        type === 'float' ? 1 : mode === 'rgb' ? 255 : 100,\n        type === 'float' ? 1 : mode === 'rgb' ? 255 : 100,\n    ];\n}\nfunction loopHueRange(hue, max) {\n    return hue === max ? max : loopRange(hue, max);\n}\nfunction constrainColorComponents(components, mode, type) {\n    var _a;\n    const ms = getColorMaxComponents(mode, type);\n    return [\n        mode === 'rgb'\n            ? constrainRange(components[0], 0, ms[0])\n            : loopHueRange(components[0], ms[0]),\n        constrainRange(components[1], 0, ms[1]),\n        constrainRange(components[2], 0, ms[2]),\n        constrainRange((_a = components[3]) !== null && _a !== void 0 ? _a : 1, 0, 1),\n    ];\n}\nfunction convertColorType(comps, mode, from, to) {\n    const fms = getColorMaxComponents(mode, from);\n    const tms = getColorMaxComponents(mode, to);\n    return comps.map((c, index) => (c / fms[index]) * tms[index]);\n}\nfunction convertColor(components, from, to) {\n    const intComps = convertColorType(components, from.mode, from.type, 'int');\n    const result = MODE_CONVERTER_MAP[from.mode][to.mode](...intComps);\n    return convertColorType(result, to.mode, 'int', to.type);\n}\n\nclass IntColor {\n    static black() {\n        return new IntColor([0, 0, 0], 'rgb');\n    }\n    constructor(comps, mode) {\n        this.type = 'int';\n        this.mode = mode;\n        this.comps_ = constrainColorComponents(comps, mode, this.type);\n    }\n    getComponents(opt_mode) {\n        return appendAlphaComponent(convertColor(removeAlphaComponent(this.comps_), { mode: this.mode, type: this.type }, { mode: opt_mode !== null && opt_mode !== void 0 ? opt_mode : this.mode, type: this.type }), this.comps_[3]);\n    }\n    toRgbaObject() {\n        const rgbComps = this.getComponents('rgb');\n        return {\n            r: rgbComps[0],\n            g: rgbComps[1],\n            b: rgbComps[2],\n            a: rgbComps[3],\n        };\n    }\n}\n\nconst cn$c = ClassName('colp');\nclass ColorPickerView {\n    constructor(doc, config) {\n        this.alphaViews_ = null;\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$c());\n        config.viewProps.bindClassModifiers(this.element);\n        const hsvElem = doc.createElement('div');\n        hsvElem.classList.add(cn$c('hsv'));\n        const svElem = doc.createElement('div');\n        svElem.classList.add(cn$c('sv'));\n        this.svPaletteView_ = config.svPaletteView;\n        svElem.appendChild(this.svPaletteView_.element);\n        hsvElem.appendChild(svElem);\n        const hElem = doc.createElement('div');\n        hElem.classList.add(cn$c('h'));\n        this.hPaletteView_ = config.hPaletteView;\n        hElem.appendChild(this.hPaletteView_.element);\n        hsvElem.appendChild(hElem);\n        this.element.appendChild(hsvElem);\n        const rgbElem = doc.createElement('div');\n        rgbElem.classList.add(cn$c('rgb'));\n        this.textsView_ = config.textsView;\n        rgbElem.appendChild(this.textsView_.element);\n        this.element.appendChild(rgbElem);\n        if (config.alphaViews) {\n            this.alphaViews_ = {\n                palette: config.alphaViews.palette,\n                text: config.alphaViews.text,\n            };\n            const aElem = doc.createElement('div');\n            aElem.classList.add(cn$c('a'));\n            const apElem = doc.createElement('div');\n            apElem.classList.add(cn$c('ap'));\n            apElem.appendChild(this.alphaViews_.palette.element);\n            aElem.appendChild(apElem);\n            const atElem = doc.createElement('div');\n            atElem.classList.add(cn$c('at'));\n            atElem.appendChild(this.alphaViews_.text.element);\n            aElem.appendChild(atElem);\n            this.element.appendChild(aElem);\n        }\n    }\n    get allFocusableElements() {\n        const elems = [\n            this.svPaletteView_.element,\n            this.hPaletteView_.element,\n            this.textsView_.modeSelectElement,\n            ...this.textsView_.inputViews.map((v) => v.inputElement),\n        ];\n        if (this.alphaViews_) {\n            elems.push(this.alphaViews_.palette.element, this.alphaViews_.text.inputElement);\n        }\n        return elems;\n    }\n}\n\nfunction parseColorType(value) {\n    return value === 'int' ? 'int' : value === 'float' ? 'float' : undefined;\n}\nfunction parseColorInputParams(params) {\n    return parseRecord(params, (p) => ({\n        color: p.optional.object({\n            alpha: p.optional.boolean,\n            type: p.optional.custom(parseColorType),\n        }),\n        expanded: p.optional.boolean,\n        picker: p.optional.custom(parsePickerLayout),\n        readonly: p.optional.constant(false),\n    }));\n}\nfunction getKeyScaleForColor(forAlpha) {\n    return forAlpha ? 0.1 : 1;\n}\nfunction extractColorType(params) {\n    var _a;\n    return (_a = params.color) === null || _a === void 0 ? void 0 : _a.type;\n}\n\nclass FloatColor {\n    constructor(comps, mode) {\n        this.type = 'float';\n        this.mode = mode;\n        this.comps_ = constrainColorComponents(comps, mode, this.type);\n    }\n    getComponents(opt_mode) {\n        return appendAlphaComponent(convertColor(removeAlphaComponent(this.comps_), { mode: this.mode, type: this.type }, { mode: opt_mode !== null && opt_mode !== void 0 ? opt_mode : this.mode, type: this.type }), this.comps_[3]);\n    }\n    toRgbaObject() {\n        const rgbComps = this.getComponents('rgb');\n        return {\n            r: rgbComps[0],\n            g: rgbComps[1],\n            b: rgbComps[2],\n            a: rgbComps[3],\n        };\n    }\n}\n\nconst TYPE_TO_CONSTRUCTOR_MAP = {\n    int: (comps, mode) => new IntColor(comps, mode),\n    float: (comps, mode) => new FloatColor(comps, mode),\n};\nfunction createColor(comps, mode, type) {\n    return TYPE_TO_CONSTRUCTOR_MAP[type](comps, mode);\n}\nfunction isFloatColor(c) {\n    return c.type === 'float';\n}\nfunction isIntColor(c) {\n    return c.type === 'int';\n}\nfunction convertFloatToInt(cf) {\n    const comps = cf.getComponents();\n    const ms = getColorMaxComponents(cf.mode, 'int');\n    return new IntColor([\n        Math.round(mapRange(comps[0], 0, 1, 0, ms[0])),\n        Math.round(mapRange(comps[1], 0, 1, 0, ms[1])),\n        Math.round(mapRange(comps[2], 0, 1, 0, ms[2])),\n        comps[3],\n    ], cf.mode);\n}\nfunction convertIntToFloat(ci) {\n    const comps = ci.getComponents();\n    const ms = getColorMaxComponents(ci.mode, 'int');\n    return new FloatColor([\n        mapRange(comps[0], 0, ms[0], 0, 1),\n        mapRange(comps[1], 0, ms[1], 0, 1),\n        mapRange(comps[2], 0, ms[2], 0, 1),\n        comps[3],\n    ], ci.mode);\n}\nfunction mapColorType(c, type) {\n    if (c.type === type) {\n        return c;\n    }\n    if (isIntColor(c) && type === 'float') {\n        return convertIntToFloat(c);\n    }\n    if (isFloatColor(c) && type === 'int') {\n        return convertFloatToInt(c);\n    }\n    throw TpError.shouldNeverHappen();\n}\n\nfunction equalsStringColorFormat(f1, f2) {\n    return (f1.alpha === f2.alpha &&\n        f1.mode === f2.mode &&\n        f1.notation === f2.notation &&\n        f1.type === f2.type);\n}\nfunction parseCssNumberOrPercentage(text, max) {\n    const m = text.match(/^(.+)%$/);\n    if (!m) {\n        return Math.min(parseFloat(text), max);\n    }\n    return Math.min(parseFloat(m[1]) * 0.01 * max, max);\n}\nconst ANGLE_TO_DEG_MAP = {\n    deg: (angle) => angle,\n    grad: (angle) => (angle * 360) / 400,\n    rad: (angle) => (angle * 360) / (2 * Math.PI),\n    turn: (angle) => angle * 360,\n};\nfunction parseCssNumberOrAngle(text) {\n    const m = text.match(/^([0-9.]+?)(deg|grad|rad|turn)$/);\n    if (!m) {\n        return parseFloat(text);\n    }\n    const angle = parseFloat(m[1]);\n    const unit = m[2];\n    return ANGLE_TO_DEG_MAP[unit](angle);\n}\nfunction parseFunctionalRgbColorComponents(text) {\n    const m = text.match(/^rgb\\(\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*\\)$/);\n    if (!m) {\n        return null;\n    }\n    const comps = [\n        parseCssNumberOrPercentage(m[1], 255),\n        parseCssNumberOrPercentage(m[2], 255),\n        parseCssNumberOrPercentage(m[3], 255),\n    ];\n    if (isNaN(comps[0]) || isNaN(comps[1]) || isNaN(comps[2])) {\n        return null;\n    }\n    return comps;\n}\nfunction parseFunctionalRgbColor(text) {\n    const comps = parseFunctionalRgbColorComponents(text);\n    return comps ? new IntColor(comps, 'rgb') : null;\n}\nfunction parseFunctionalRgbaColorComponents(text) {\n    const m = text.match(/^rgba\\(\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*\\)$/);\n    if (!m) {\n        return null;\n    }\n    const comps = [\n        parseCssNumberOrPercentage(m[1], 255),\n        parseCssNumberOrPercentage(m[2], 255),\n        parseCssNumberOrPercentage(m[3], 255),\n        parseCssNumberOrPercentage(m[4], 1),\n    ];\n    if (isNaN(comps[0]) ||\n        isNaN(comps[1]) ||\n        isNaN(comps[2]) ||\n        isNaN(comps[3])) {\n        return null;\n    }\n    return comps;\n}\nfunction parseFunctionalRgbaColor(text) {\n    const comps = parseFunctionalRgbaColorComponents(text);\n    return comps ? new IntColor(comps, 'rgb') : null;\n}\nfunction parseFunctionalHslColorComponents(text) {\n    const m = text.match(/^hsl\\(\\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*\\)$/);\n    if (!m) {\n        return null;\n    }\n    const comps = [\n        parseCssNumberOrAngle(m[1]),\n        parseCssNumberOrPercentage(m[2], 100),\n        parseCssNumberOrPercentage(m[3], 100),\n    ];\n    if (isNaN(comps[0]) || isNaN(comps[1]) || isNaN(comps[2])) {\n        return null;\n    }\n    return comps;\n}\nfunction parseFunctionalHslColor(text) {\n    const comps = parseFunctionalHslColorComponents(text);\n    return comps ? new IntColor(comps, 'hsl') : null;\n}\nfunction parseHslaColorComponents(text) {\n    const m = text.match(/^hsla\\(\\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*\\)$/);\n    if (!m) {\n        return null;\n    }\n    const comps = [\n        parseCssNumberOrAngle(m[1]),\n        parseCssNumberOrPercentage(m[2], 100),\n        parseCssNumberOrPercentage(m[3], 100),\n        parseCssNumberOrPercentage(m[4], 1),\n    ];\n    if (isNaN(comps[0]) ||\n        isNaN(comps[1]) ||\n        isNaN(comps[2]) ||\n        isNaN(comps[3])) {\n        return null;\n    }\n    return comps;\n}\nfunction parseFunctionalHslaColor(text) {\n    const comps = parseHslaColorComponents(text);\n    return comps ? new IntColor(comps, 'hsl') : null;\n}\nfunction parseHexRgbColorComponents(text) {\n    const mRgb = text.match(/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);\n    if (mRgb) {\n        return [\n            parseInt(mRgb[1] + mRgb[1], 16),\n            parseInt(mRgb[2] + mRgb[2], 16),\n            parseInt(mRgb[3] + mRgb[3], 16),\n        ];\n    }\n    const mRrggbb = text.match(/^(?:#|0x)([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);\n    if (mRrggbb) {\n        return [\n            parseInt(mRrggbb[1], 16),\n            parseInt(mRrggbb[2], 16),\n            parseInt(mRrggbb[3], 16),\n        ];\n    }\n    return null;\n}\nfunction parseHexRgbColor(text) {\n    const comps = parseHexRgbColorComponents(text);\n    return comps ? new IntColor(comps, 'rgb') : null;\n}\nfunction parseHexRgbaColorComponents(text) {\n    const mRgb = text.match(/^#?([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);\n    if (mRgb) {\n        return [\n            parseInt(mRgb[1] + mRgb[1], 16),\n            parseInt(mRgb[2] + mRgb[2], 16),\n            parseInt(mRgb[3] + mRgb[3], 16),\n            mapRange(parseInt(mRgb[4] + mRgb[4], 16), 0, 255, 0, 1),\n        ];\n    }\n    const mRrggbb = text.match(/^(?:#|0x)?([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);\n    if (mRrggbb) {\n        return [\n            parseInt(mRrggbb[1], 16),\n            parseInt(mRrggbb[2], 16),\n            parseInt(mRrggbb[3], 16),\n            mapRange(parseInt(mRrggbb[4], 16), 0, 255, 0, 1),\n        ];\n    }\n    return null;\n}\nfunction parseHexRgbaColor(text) {\n    const comps = parseHexRgbaColorComponents(text);\n    return comps ? new IntColor(comps, 'rgb') : null;\n}\nfunction parseObjectRgbColorComponents(text) {\n    const m = text.match(/^\\{\\s*r\\s*:\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*g\\s*:\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*b\\s*:\\s*([0-9A-Fa-f.]+%?)\\s*\\}$/);\n    if (!m) {\n        return null;\n    }\n    const comps = [\n        parseFloat(m[1]),\n        parseFloat(m[2]),\n        parseFloat(m[3]),\n    ];\n    if (isNaN(comps[0]) || isNaN(comps[1]) || isNaN(comps[2])) {\n        return null;\n    }\n    return comps;\n}\nfunction createObjectRgbColorParser(type) {\n    return (text) => {\n        const comps = parseObjectRgbColorComponents(text);\n        return comps ? createColor(comps, 'rgb', type) : null;\n    };\n}\nfunction parseObjectRgbaColorComponents(text) {\n    const m = text.match(/^\\{\\s*r\\s*:\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*g\\s*:\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*b\\s*:\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*a\\s*:\\s*([0-9A-Fa-f.]+%?)\\s*\\}$/);\n    if (!m) {\n        return null;\n    }\n    const comps = [\n        parseFloat(m[1]),\n        parseFloat(m[2]),\n        parseFloat(m[3]),\n        parseFloat(m[4]),\n    ];\n    if (isNaN(comps[0]) ||\n        isNaN(comps[1]) ||\n        isNaN(comps[2]) ||\n        isNaN(comps[3])) {\n        return null;\n    }\n    return comps;\n}\nfunction createObjectRgbaColorParser(type) {\n    return (text) => {\n        const comps = parseObjectRgbaColorComponents(text);\n        return comps ? createColor(comps, 'rgb', type) : null;\n    };\n}\nconst PARSER_AND_RESULT = [\n    {\n        parser: parseHexRgbColorComponents,\n        result: {\n            alpha: false,\n            mode: 'rgb',\n            notation: 'hex',\n        },\n    },\n    {\n        parser: parseHexRgbaColorComponents,\n        result: {\n            alpha: true,\n            mode: 'rgb',\n            notation: 'hex',\n        },\n    },\n    {\n        parser: parseFunctionalRgbColorComponents,\n        result: {\n            alpha: false,\n            mode: 'rgb',\n            notation: 'func',\n        },\n    },\n    {\n        parser: parseFunctionalRgbaColorComponents,\n        result: {\n            alpha: true,\n            mode: 'rgb',\n            notation: 'func',\n        },\n    },\n    {\n        parser: parseFunctionalHslColorComponents,\n        result: {\n            alpha: false,\n            mode: 'hsl',\n            notation: 'func',\n        },\n    },\n    {\n        parser: parseHslaColorComponents,\n        result: {\n            alpha: true,\n            mode: 'hsl',\n            notation: 'func',\n        },\n    },\n    {\n        parser: parseObjectRgbColorComponents,\n        result: {\n            alpha: false,\n            mode: 'rgb',\n            notation: 'object',\n        },\n    },\n    {\n        parser: parseObjectRgbaColorComponents,\n        result: {\n            alpha: true,\n            mode: 'rgb',\n            notation: 'object',\n        },\n    },\n];\nfunction detectStringColor(text) {\n    return PARSER_AND_RESULT.reduce((prev, { parser, result: detection }) => {\n        if (prev) {\n            return prev;\n        }\n        return parser(text) ? detection : null;\n    }, null);\n}\nfunction detectStringColorFormat(text, type = 'int') {\n    const r = detectStringColor(text);\n    if (!r) {\n        return null;\n    }\n    if (r.notation === 'hex' && type !== 'float') {\n        return Object.assign(Object.assign({}, r), { type: 'int' });\n    }\n    if (r.notation === 'func') {\n        return Object.assign(Object.assign({}, r), { type: type });\n    }\n    return null;\n}\nfunction createColorStringParser(type) {\n    const parsers = [\n        parseHexRgbColor,\n        parseHexRgbaColor,\n        parseFunctionalRgbColor,\n        parseFunctionalRgbaColor,\n        parseFunctionalHslColor,\n        parseFunctionalHslaColor,\n    ];\n    if (type === 'int') {\n        parsers.push(createObjectRgbColorParser('int'), createObjectRgbaColorParser('int'));\n    }\n    if (type === 'float') {\n        parsers.push(createObjectRgbColorParser('float'), createObjectRgbaColorParser('float'));\n    }\n    const parser = composeParsers(parsers);\n    return (text) => {\n        const result = parser(text);\n        return result ? mapColorType(result, type) : null;\n    };\n}\nfunction readIntColorString(value) {\n    const parser = createColorStringParser('int');\n    if (typeof value !== 'string') {\n        return IntColor.black();\n    }\n    const result = parser(value);\n    return result !== null && result !== void 0 ? result : IntColor.black();\n}\nfunction zerofill(comp) {\n    const hex = constrainRange(Math.floor(comp), 0, 255).toString(16);\n    return hex.length === 1 ? `0${hex}` : hex;\n}\nfunction colorToHexRgbString(value, prefix = '#') {\n    const hexes = removeAlphaComponent(value.getComponents('rgb'))\n        .map(zerofill)\n        .join('');\n    return `${prefix}${hexes}`;\n}\nfunction colorToHexRgbaString(value, prefix = '#') {\n    const rgbaComps = value.getComponents('rgb');\n    const hexes = [rgbaComps[0], rgbaComps[1], rgbaComps[2], rgbaComps[3] * 255]\n        .map(zerofill)\n        .join('');\n    return `${prefix}${hexes}`;\n}\nfunction colorToFunctionalRgbString(value) {\n    const formatter = createNumberFormatter(0);\n    const ci = mapColorType(value, 'int');\n    const comps = removeAlphaComponent(ci.getComponents('rgb')).map((comp) => formatter(comp));\n    return `rgb(${comps.join(', ')})`;\n}\nfunction colorToFunctionalRgbaString(value) {\n    const aFormatter = createNumberFormatter(2);\n    const rgbFormatter = createNumberFormatter(0);\n    const ci = mapColorType(value, 'int');\n    const comps = ci.getComponents('rgb').map((comp, index) => {\n        const formatter = index === 3 ? aFormatter : rgbFormatter;\n        return formatter(comp);\n    });\n    return `rgba(${comps.join(', ')})`;\n}\nfunction colorToFunctionalHslString(value) {\n    const formatters = [\n        createNumberFormatter(0),\n        formatPercentage,\n        formatPercentage,\n    ];\n    const ci = mapColorType(value, 'int');\n    const comps = removeAlphaComponent(ci.getComponents('hsl')).map((comp, index) => formatters[index](comp));\n    return `hsl(${comps.join(', ')})`;\n}\nfunction colorToFunctionalHslaString(value) {\n    const formatters = [\n        createNumberFormatter(0),\n        formatPercentage,\n        formatPercentage,\n        createNumberFormatter(2),\n    ];\n    const ci = mapColorType(value, 'int');\n    const comps = ci\n        .getComponents('hsl')\n        .map((comp, index) => formatters[index](comp));\n    return `hsla(${comps.join(', ')})`;\n}\nfunction colorToObjectRgbString(value, type) {\n    const formatter = createNumberFormatter(type === 'float' ? 2 : 0);\n    const names = ['r', 'g', 'b'];\n    const cc = mapColorType(value, type);\n    const comps = removeAlphaComponent(cc.getComponents('rgb')).map((comp, index) => `${names[index]}: ${formatter(comp)}`);\n    return `{${comps.join(', ')}}`;\n}\nfunction createObjectRgbColorFormatter(type) {\n    return (value) => colorToObjectRgbString(value, type);\n}\nfunction colorToObjectRgbaString(value, type) {\n    const aFormatter = createNumberFormatter(2);\n    const rgbFormatter = createNumberFormatter(type === 'float' ? 2 : 0);\n    const names = ['r', 'g', 'b', 'a'];\n    const cc = mapColorType(value, type);\n    const comps = cc.getComponents('rgb').map((comp, index) => {\n        const formatter = index === 3 ? aFormatter : rgbFormatter;\n        return `${names[index]}: ${formatter(comp)}`;\n    });\n    return `{${comps.join(', ')}}`;\n}\nfunction createObjectRgbaColorFormatter(type) {\n    return (value) => colorToObjectRgbaString(value, type);\n}\nconst FORMAT_AND_STRINGIFIERS = [\n    {\n        format: {\n            alpha: false,\n            mode: 'rgb',\n            notation: 'hex',\n            type: 'int',\n        },\n        stringifier: colorToHexRgbString,\n    },\n    {\n        format: {\n            alpha: true,\n            mode: 'rgb',\n            notation: 'hex',\n            type: 'int',\n        },\n        stringifier: colorToHexRgbaString,\n    },\n    {\n        format: {\n            alpha: false,\n            mode: 'rgb',\n            notation: 'func',\n            type: 'int',\n        },\n        stringifier: colorToFunctionalRgbString,\n    },\n    {\n        format: {\n            alpha: true,\n            mode: 'rgb',\n            notation: 'func',\n            type: 'int',\n        },\n        stringifier: colorToFunctionalRgbaString,\n    },\n    {\n        format: {\n            alpha: false,\n            mode: 'hsl',\n            notation: 'func',\n            type: 'int',\n        },\n        stringifier: colorToFunctionalHslString,\n    },\n    {\n        format: {\n            alpha: true,\n            mode: 'hsl',\n            notation: 'func',\n            type: 'int',\n        },\n        stringifier: colorToFunctionalHslaString,\n    },\n    ...['int', 'float'].reduce((prev, type) => {\n        return [\n            ...prev,\n            {\n                format: {\n                    alpha: false,\n                    mode: 'rgb',\n                    notation: 'object',\n                    type: type,\n                },\n                stringifier: createObjectRgbColorFormatter(type),\n            },\n            {\n                format: {\n                    alpha: true,\n                    mode: 'rgb',\n                    notation: 'object',\n                    type: type,\n                },\n                stringifier: createObjectRgbaColorFormatter(type),\n            },\n        ];\n    }, []),\n];\nfunction findColorStringifier(format) {\n    return FORMAT_AND_STRINGIFIERS.reduce((prev, fas) => {\n        if (prev) {\n            return prev;\n        }\n        return equalsStringColorFormat(fas.format, format)\n            ? fas.stringifier\n            : null;\n    }, null);\n}\n\nconst cn$b = ClassName('apl');\nclass APaletteView {\n    constructor(doc, config) {\n        this.onValueChange_ = this.onValueChange_.bind(this);\n        this.value = config.value;\n        this.value.emitter.on('change', this.onValueChange_);\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$b());\n        config.viewProps.bindClassModifiers(this.element);\n        config.viewProps.bindTabIndex(this.element);\n        const barElem = doc.createElement('div');\n        barElem.classList.add(cn$b('b'));\n        this.element.appendChild(barElem);\n        const colorElem = doc.createElement('div');\n        colorElem.classList.add(cn$b('c'));\n        barElem.appendChild(colorElem);\n        this.colorElem_ = colorElem;\n        const markerElem = doc.createElement('div');\n        markerElem.classList.add(cn$b('m'));\n        this.element.appendChild(markerElem);\n        this.markerElem_ = markerElem;\n        const previewElem = doc.createElement('div');\n        previewElem.classList.add(cn$b('p'));\n        this.markerElem_.appendChild(previewElem);\n        this.previewElem_ = previewElem;\n        this.update_();\n    }\n    update_() {\n        const c = this.value.rawValue;\n        const rgbaComps = c.getComponents('rgb');\n        const leftColor = new IntColor([rgbaComps[0], rgbaComps[1], rgbaComps[2], 0], 'rgb');\n        const rightColor = new IntColor([rgbaComps[0], rgbaComps[1], rgbaComps[2], 255], 'rgb');\n        const gradientComps = [\n            'to right',\n            colorToFunctionalRgbaString(leftColor),\n            colorToFunctionalRgbaString(rightColor),\n        ];\n        this.colorElem_.style.background = `linear-gradient(${gradientComps.join(',')})`;\n        this.previewElem_.style.backgroundColor = colorToFunctionalRgbaString(c);\n        const left = mapRange(rgbaComps[3], 0, 1, 0, 100);\n        this.markerElem_.style.left = `${left}%`;\n    }\n    onValueChange_() {\n        this.update_();\n    }\n}\n\nclass APaletteController {\n    constructor(doc, config) {\n        this.onKeyDown_ = this.onKeyDown_.bind(this);\n        this.onKeyUp_ = this.onKeyUp_.bind(this);\n        this.onPointerDown_ = this.onPointerDown_.bind(this);\n        this.onPointerMove_ = this.onPointerMove_.bind(this);\n        this.onPointerUp_ = this.onPointerUp_.bind(this);\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.view = new APaletteView(doc, {\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        this.ptHandler_ = new PointerHandler(this.view.element);\n        this.ptHandler_.emitter.on('down', this.onPointerDown_);\n        this.ptHandler_.emitter.on('move', this.onPointerMove_);\n        this.ptHandler_.emitter.on('up', this.onPointerUp_);\n        this.view.element.addEventListener('keydown', this.onKeyDown_);\n        this.view.element.addEventListener('keyup', this.onKeyUp_);\n    }\n    handlePointerEvent_(d, opts) {\n        if (!d.point) {\n            return;\n        }\n        const alpha = d.point.x / d.bounds.width;\n        const c = this.value.rawValue;\n        const [h, s, v] = c.getComponents('hsv');\n        this.value.setRawValue(new IntColor([h, s, v, alpha], 'hsv'), opts);\n    }\n    onPointerDown_(ev) {\n        this.handlePointerEvent_(ev.data, {\n            forceEmit: false,\n            last: false,\n        });\n    }\n    onPointerMove_(ev) {\n        this.handlePointerEvent_(ev.data, {\n            forceEmit: false,\n            last: false,\n        });\n    }\n    onPointerUp_(ev) {\n        this.handlePointerEvent_(ev.data, {\n            forceEmit: true,\n            last: true,\n        });\n    }\n    onKeyDown_(ev) {\n        const step = getStepForKey(getKeyScaleForColor(true), getHorizontalStepKeys(ev));\n        if (step === 0) {\n            return;\n        }\n        const c = this.value.rawValue;\n        const [h, s, v, a] = c.getComponents('hsv');\n        this.value.setRawValue(new IntColor([h, s, v, a + step], 'hsv'), {\n            forceEmit: false,\n            last: false,\n        });\n    }\n    onKeyUp_(ev) {\n        const step = getStepForKey(getKeyScaleForColor(true), getHorizontalStepKeys(ev));\n        if (step === 0) {\n            return;\n        }\n        this.value.setRawValue(this.value.rawValue, {\n            forceEmit: true,\n            last: true,\n        });\n    }\n}\n\nconst cn$a = ClassName('coltxt');\nfunction createModeSelectElement(doc) {\n    const selectElem = doc.createElement('select');\n    const items = [\n        { text: 'RGB', value: 'rgb' },\n        { text: 'HSL', value: 'hsl' },\n        { text: 'HSV', value: 'hsv' },\n        { text: 'HEX', value: 'hex' },\n    ];\n    selectElem.appendChild(items.reduce((frag, item) => {\n        const optElem = doc.createElement('option');\n        optElem.textContent = item.text;\n        optElem.value = item.value;\n        frag.appendChild(optElem);\n        return frag;\n    }, doc.createDocumentFragment()));\n    return selectElem;\n}\nclass ColorTextsView {\n    constructor(doc, config) {\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$a());\n        config.viewProps.bindClassModifiers(this.element);\n        const modeElem = doc.createElement('div');\n        modeElem.classList.add(cn$a('m'));\n        this.modeElem_ = createModeSelectElement(doc);\n        this.modeElem_.classList.add(cn$a('ms'));\n        modeElem.appendChild(this.modeSelectElement);\n        config.viewProps.bindDisabled(this.modeElem_);\n        const modeMarkerElem = doc.createElement('div');\n        modeMarkerElem.classList.add(cn$a('mm'));\n        modeMarkerElem.appendChild(createSvgIconElement(doc, 'dropdown'));\n        modeElem.appendChild(modeMarkerElem);\n        this.element.appendChild(modeElem);\n        const inputsElem = doc.createElement('div');\n        inputsElem.classList.add(cn$a('w'));\n        this.element.appendChild(inputsElem);\n        this.inputsElem_ = inputsElem;\n        this.inputViews_ = config.inputViews;\n        this.applyInputViews_();\n        bindValue(config.mode, (mode) => {\n            this.modeElem_.value = mode;\n        });\n    }\n    get modeSelectElement() {\n        return this.modeElem_;\n    }\n    get inputViews() {\n        return this.inputViews_;\n    }\n    set inputViews(inputViews) {\n        this.inputViews_ = inputViews;\n        this.applyInputViews_();\n    }\n    applyInputViews_() {\n        removeChildElements(this.inputsElem_);\n        const doc = this.element.ownerDocument;\n        this.inputViews_.forEach((v) => {\n            const compElem = doc.createElement('div');\n            compElem.classList.add(cn$a('c'));\n            compElem.appendChild(v.element);\n            this.inputsElem_.appendChild(compElem);\n        });\n    }\n}\n\nfunction createFormatter$2(type) {\n    return createNumberFormatter(type === 'float' ? 2 : 0);\n}\nfunction createConstraint$5(mode, type, index) {\n    const max = getColorMaxComponents(mode, type)[index];\n    return new DefiniteRangeConstraint({\n        min: 0,\n        max: max,\n    });\n}\nfunction createComponentController(doc, config, index) {\n    return new NumberTextController(doc, {\n        arrayPosition: index === 0 ? 'fst' : index === 3 - 1 ? 'lst' : 'mid',\n        parser: config.parser,\n        props: ValueMap.fromObject({\n            formatter: createFormatter$2(config.colorType),\n            keyScale: getKeyScaleForColor(false),\n            pointerScale: config.colorType === 'float' ? 0.01 : 1,\n        }),\n        value: createValue(0, {\n            constraint: createConstraint$5(config.colorMode, config.colorType, index),\n        }),\n        viewProps: config.viewProps,\n    });\n}\nfunction createComponentControllers(doc, config) {\n    const cc = {\n        colorMode: config.colorMode,\n        colorType: config.colorType,\n        parser: parseNumber,\n        viewProps: config.viewProps,\n    };\n    return [0, 1, 2].map((i) => {\n        const c = createComponentController(doc, cc, i);\n        connectValues({\n            primary: config.value,\n            secondary: c.value,\n            forward(p) {\n                const mc = mapColorType(p, config.colorType);\n                return mc.getComponents(config.colorMode)[i];\n            },\n            backward(p, s) {\n                const pickedMode = config.colorMode;\n                const mc = mapColorType(p, config.colorType);\n                const comps = mc.getComponents(pickedMode);\n                comps[i] = s;\n                const c = createColor(appendAlphaComponent(removeAlphaComponent(comps), comps[3]), pickedMode, config.colorType);\n                return mapColorType(c, 'int');\n            },\n        });\n        return c;\n    });\n}\nfunction createHexController(doc, config) {\n    const c = new TextController(doc, {\n        parser: createColorStringParser('int'),\n        props: ValueMap.fromObject({\n            formatter: colorToHexRgbString,\n        }),\n        value: createValue(IntColor.black()),\n        viewProps: config.viewProps,\n    });\n    connectValues({\n        primary: config.value,\n        secondary: c.value,\n        forward: (p) => new IntColor(removeAlphaComponent(p.getComponents()), p.mode),\n        backward: (p, s) => new IntColor(appendAlphaComponent(removeAlphaComponent(s.getComponents(p.mode)), p.getComponents()[3]), p.mode),\n    });\n    return [c];\n}\nfunction isColorMode(mode) {\n    return mode !== 'hex';\n}\nclass ColorTextsController {\n    constructor(doc, config) {\n        this.onModeSelectChange_ = this.onModeSelectChange_.bind(this);\n        this.colorType_ = config.colorType;\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.colorMode = createValue(this.value.rawValue.mode);\n        this.ccs_ = this.createComponentControllers_(doc);\n        this.view = new ColorTextsView(doc, {\n            mode: this.colorMode,\n            inputViews: [this.ccs_[0].view, this.ccs_[1].view, this.ccs_[2].view],\n            viewProps: this.viewProps,\n        });\n        this.view.modeSelectElement.addEventListener('change', this.onModeSelectChange_);\n    }\n    createComponentControllers_(doc) {\n        const mode = this.colorMode.rawValue;\n        if (isColorMode(mode)) {\n            return createComponentControllers(doc, {\n                colorMode: mode,\n                colorType: this.colorType_,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n        }\n        return createHexController(doc, {\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n    }\n    onModeSelectChange_(ev) {\n        const selectElem = ev.currentTarget;\n        this.colorMode.rawValue = selectElem.value;\n        this.ccs_ = this.createComponentControllers_(this.view.element.ownerDocument);\n        this.view.inputViews = this.ccs_.map((cc) => cc.view);\n    }\n}\n\nconst cn$9 = ClassName('hpl');\nclass HPaletteView {\n    constructor(doc, config) {\n        this.onValueChange_ = this.onValueChange_.bind(this);\n        this.value = config.value;\n        this.value.emitter.on('change', this.onValueChange_);\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$9());\n        config.viewProps.bindClassModifiers(this.element);\n        config.viewProps.bindTabIndex(this.element);\n        const colorElem = doc.createElement('div');\n        colorElem.classList.add(cn$9('c'));\n        this.element.appendChild(colorElem);\n        const markerElem = doc.createElement('div');\n        markerElem.classList.add(cn$9('m'));\n        this.element.appendChild(markerElem);\n        this.markerElem_ = markerElem;\n        this.update_();\n    }\n    update_() {\n        const c = this.value.rawValue;\n        const [h] = c.getComponents('hsv');\n        this.markerElem_.style.backgroundColor = colorToFunctionalRgbString(new IntColor([h, 100, 100], 'hsv'));\n        const left = mapRange(h, 0, 360, 0, 100);\n        this.markerElem_.style.left = `${left}%`;\n    }\n    onValueChange_() {\n        this.update_();\n    }\n}\n\nclass HPaletteController {\n    constructor(doc, config) {\n        this.onKeyDown_ = this.onKeyDown_.bind(this);\n        this.onKeyUp_ = this.onKeyUp_.bind(this);\n        this.onPointerDown_ = this.onPointerDown_.bind(this);\n        this.onPointerMove_ = this.onPointerMove_.bind(this);\n        this.onPointerUp_ = this.onPointerUp_.bind(this);\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.view = new HPaletteView(doc, {\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        this.ptHandler_ = new PointerHandler(this.view.element);\n        this.ptHandler_.emitter.on('down', this.onPointerDown_);\n        this.ptHandler_.emitter.on('move', this.onPointerMove_);\n        this.ptHandler_.emitter.on('up', this.onPointerUp_);\n        this.view.element.addEventListener('keydown', this.onKeyDown_);\n        this.view.element.addEventListener('keyup', this.onKeyUp_);\n    }\n    handlePointerEvent_(d, opts) {\n        if (!d.point) {\n            return;\n        }\n        const hue = mapRange(constrainRange(d.point.x, 0, d.bounds.width), 0, d.bounds.width, 0, 360);\n        const c = this.value.rawValue;\n        const [, s, v, a] = c.getComponents('hsv');\n        this.value.setRawValue(new IntColor([hue, s, v, a], 'hsv'), opts);\n    }\n    onPointerDown_(ev) {\n        this.handlePointerEvent_(ev.data, {\n            forceEmit: false,\n            last: false,\n        });\n    }\n    onPointerMove_(ev) {\n        this.handlePointerEvent_(ev.data, {\n            forceEmit: false,\n            last: false,\n        });\n    }\n    onPointerUp_(ev) {\n        this.handlePointerEvent_(ev.data, {\n            forceEmit: true,\n            last: true,\n        });\n    }\n    onKeyDown_(ev) {\n        const step = getStepForKey(getKeyScaleForColor(false), getHorizontalStepKeys(ev));\n        if (step === 0) {\n            return;\n        }\n        const c = this.value.rawValue;\n        const [h, s, v, a] = c.getComponents('hsv');\n        this.value.setRawValue(new IntColor([h + step, s, v, a], 'hsv'), {\n            forceEmit: false,\n            last: false,\n        });\n    }\n    onKeyUp_(ev) {\n        const step = getStepForKey(getKeyScaleForColor(false), getHorizontalStepKeys(ev));\n        if (step === 0) {\n            return;\n        }\n        this.value.setRawValue(this.value.rawValue, {\n            forceEmit: true,\n            last: true,\n        });\n    }\n}\n\nconst cn$8 = ClassName('svp');\nconst CANVAS_RESOL = 64;\nclass SvPaletteView {\n    constructor(doc, config) {\n        this.onValueChange_ = this.onValueChange_.bind(this);\n        this.value = config.value;\n        this.value.emitter.on('change', this.onValueChange_);\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$8());\n        config.viewProps.bindClassModifiers(this.element);\n        config.viewProps.bindTabIndex(this.element);\n        const canvasElem = doc.createElement('canvas');\n        canvasElem.height = CANVAS_RESOL;\n        canvasElem.width = CANVAS_RESOL;\n        canvasElem.classList.add(cn$8('c'));\n        this.element.appendChild(canvasElem);\n        this.canvasElement = canvasElem;\n        const markerElem = doc.createElement('div');\n        markerElem.classList.add(cn$8('m'));\n        this.element.appendChild(markerElem);\n        this.markerElem_ = markerElem;\n        this.update_();\n    }\n    update_() {\n        const ctx = getCanvasContext(this.canvasElement);\n        if (!ctx) {\n            return;\n        }\n        const c = this.value.rawValue;\n        const hsvComps = c.getComponents('hsv');\n        const width = this.canvasElement.width;\n        const height = this.canvasElement.height;\n        const imgData = ctx.getImageData(0, 0, width, height);\n        const data = imgData.data;\n        for (let iy = 0; iy < height; iy++) {\n            for (let ix = 0; ix < width; ix++) {\n                const s = mapRange(ix, 0, width, 0, 100);\n                const v = mapRange(iy, 0, height, 100, 0);\n                const rgbComps = hsvToRgbInt(hsvComps[0], s, v);\n                const i = (iy * width + ix) * 4;\n                data[i] = rgbComps[0];\n                data[i + 1] = rgbComps[1];\n                data[i + 2] = rgbComps[2];\n                data[i + 3] = 255;\n            }\n        }\n        ctx.putImageData(imgData, 0, 0);\n        const left = mapRange(hsvComps[1], 0, 100, 0, 100);\n        this.markerElem_.style.left = `${left}%`;\n        const top = mapRange(hsvComps[2], 0, 100, 100, 0);\n        this.markerElem_.style.top = `${top}%`;\n    }\n    onValueChange_() {\n        this.update_();\n    }\n}\n\nclass SvPaletteController {\n    constructor(doc, config) {\n        this.onKeyDown_ = this.onKeyDown_.bind(this);\n        this.onKeyUp_ = this.onKeyUp_.bind(this);\n        this.onPointerDown_ = this.onPointerDown_.bind(this);\n        this.onPointerMove_ = this.onPointerMove_.bind(this);\n        this.onPointerUp_ = this.onPointerUp_.bind(this);\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.view = new SvPaletteView(doc, {\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        this.ptHandler_ = new PointerHandler(this.view.element);\n        this.ptHandler_.emitter.on('down', this.onPointerDown_);\n        this.ptHandler_.emitter.on('move', this.onPointerMove_);\n        this.ptHandler_.emitter.on('up', this.onPointerUp_);\n        this.view.element.addEventListener('keydown', this.onKeyDown_);\n        this.view.element.addEventListener('keyup', this.onKeyUp_);\n    }\n    handlePointerEvent_(d, opts) {\n        if (!d.point) {\n            return;\n        }\n        const saturation = mapRange(d.point.x, 0, d.bounds.width, 0, 100);\n        const value = mapRange(d.point.y, 0, d.bounds.height, 100, 0);\n        const [h, , , a] = this.value.rawValue.getComponents('hsv');\n        this.value.setRawValue(new IntColor([h, saturation, value, a], 'hsv'), opts);\n    }\n    onPointerDown_(ev) {\n        this.handlePointerEvent_(ev.data, {\n            forceEmit: false,\n            last: false,\n        });\n    }\n    onPointerMove_(ev) {\n        this.handlePointerEvent_(ev.data, {\n            forceEmit: false,\n            last: false,\n        });\n    }\n    onPointerUp_(ev) {\n        this.handlePointerEvent_(ev.data, {\n            forceEmit: true,\n            last: true,\n        });\n    }\n    onKeyDown_(ev) {\n        if (isArrowKey(ev.key)) {\n            ev.preventDefault();\n        }\n        const [h, s, v, a] = this.value.rawValue.getComponents('hsv');\n        const keyScale = getKeyScaleForColor(false);\n        const ds = getStepForKey(keyScale, getHorizontalStepKeys(ev));\n        const dv = getStepForKey(keyScale, getVerticalStepKeys(ev));\n        if (ds === 0 && dv === 0) {\n            return;\n        }\n        this.value.setRawValue(new IntColor([h, s + ds, v + dv, a], 'hsv'), {\n            forceEmit: false,\n            last: false,\n        });\n    }\n    onKeyUp_(ev) {\n        const keyScale = getKeyScaleForColor(false);\n        const ds = getStepForKey(keyScale, getHorizontalStepKeys(ev));\n        const dv = getStepForKey(keyScale, getVerticalStepKeys(ev));\n        if (ds === 0 && dv === 0) {\n            return;\n        }\n        this.value.setRawValue(this.value.rawValue, {\n            forceEmit: true,\n            last: true,\n        });\n    }\n}\n\nclass ColorPickerController {\n    constructor(doc, config) {\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.hPaletteC_ = new HPaletteController(doc, {\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        this.svPaletteC_ = new SvPaletteController(doc, {\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        this.alphaIcs_ = config.supportsAlpha\n            ? {\n                palette: new APaletteController(doc, {\n                    value: this.value,\n                    viewProps: this.viewProps,\n                }),\n                text: new NumberTextController(doc, {\n                    parser: parseNumber,\n                    props: ValueMap.fromObject({\n                        pointerScale: 0.01,\n                        keyScale: 0.1,\n                        formatter: createNumberFormatter(2),\n                    }),\n                    value: createValue(0, {\n                        constraint: new DefiniteRangeConstraint({ min: 0, max: 1 }),\n                    }),\n                    viewProps: this.viewProps,\n                }),\n            }\n            : null;\n        if (this.alphaIcs_) {\n            connectValues({\n                primary: this.value,\n                secondary: this.alphaIcs_.text.value,\n                forward: (p) => p.getComponents()[3],\n                backward: (p, s) => {\n                    const comps = p.getComponents();\n                    comps[3] = s;\n                    return new IntColor(comps, p.mode);\n                },\n            });\n        }\n        this.textsC_ = new ColorTextsController(doc, {\n            colorType: config.colorType,\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        this.view = new ColorPickerView(doc, {\n            alphaViews: this.alphaIcs_\n                ? {\n                    palette: this.alphaIcs_.palette.view,\n                    text: this.alphaIcs_.text.view,\n                }\n                : null,\n            hPaletteView: this.hPaletteC_.view,\n            supportsAlpha: config.supportsAlpha,\n            svPaletteView: this.svPaletteC_.view,\n            textsView: this.textsC_.view,\n            viewProps: this.viewProps,\n        });\n    }\n    get textsController() {\n        return this.textsC_;\n    }\n}\n\nconst cn$7 = ClassName('colsw');\nclass ColorSwatchView {\n    constructor(doc, config) {\n        this.onValueChange_ = this.onValueChange_.bind(this);\n        config.value.emitter.on('change', this.onValueChange_);\n        this.value = config.value;\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$7());\n        config.viewProps.bindClassModifiers(this.element);\n        const swatchElem = doc.createElement('div');\n        swatchElem.classList.add(cn$7('sw'));\n        this.element.appendChild(swatchElem);\n        this.swatchElem_ = swatchElem;\n        const buttonElem = doc.createElement('button');\n        buttonElem.classList.add(cn$7('b'));\n        config.viewProps.bindDisabled(buttonElem);\n        this.element.appendChild(buttonElem);\n        this.buttonElement = buttonElem;\n        this.update_();\n    }\n    update_() {\n        const value = this.value.rawValue;\n        this.swatchElem_.style.backgroundColor = colorToHexRgbaString(value);\n    }\n    onValueChange_() {\n        this.update_();\n    }\n}\n\nclass ColorSwatchController {\n    constructor(doc, config) {\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.view = new ColorSwatchView(doc, {\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n    }\n}\n\nclass ColorController {\n    constructor(doc, config) {\n        this.onButtonBlur_ = this.onButtonBlur_.bind(this);\n        this.onButtonClick_ = this.onButtonClick_.bind(this);\n        this.onPopupChildBlur_ = this.onPopupChildBlur_.bind(this);\n        this.onPopupChildKeydown_ = this.onPopupChildKeydown_.bind(this);\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.foldable_ = Foldable.create(config.expanded);\n        this.swatchC_ = new ColorSwatchController(doc, {\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        const buttonElem = this.swatchC_.view.buttonElement;\n        buttonElem.addEventListener('blur', this.onButtonBlur_);\n        buttonElem.addEventListener('click', this.onButtonClick_);\n        this.textC_ = new TextController(doc, {\n            parser: config.parser,\n            props: ValueMap.fromObject({\n                formatter: config.formatter,\n            }),\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        this.view = new ColorView(doc, {\n            foldable: this.foldable_,\n            pickerLayout: config.pickerLayout,\n        });\n        this.view.swatchElement.appendChild(this.swatchC_.view.element);\n        this.view.textElement.appendChild(this.textC_.view.element);\n        this.popC_ =\n            config.pickerLayout === 'popup'\n                ? new PopupController(doc, {\n                    viewProps: this.viewProps,\n                })\n                : null;\n        const pickerC = new ColorPickerController(doc, {\n            colorType: config.colorType,\n            supportsAlpha: config.supportsAlpha,\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        pickerC.view.allFocusableElements.forEach((elem) => {\n            elem.addEventListener('blur', this.onPopupChildBlur_);\n            elem.addEventListener('keydown', this.onPopupChildKeydown_);\n        });\n        this.pickerC_ = pickerC;\n        if (this.popC_) {\n            this.view.element.appendChild(this.popC_.view.element);\n            this.popC_.view.element.appendChild(pickerC.view.element);\n            connectValues({\n                primary: this.foldable_.value('expanded'),\n                secondary: this.popC_.shows,\n                forward: (p) => p,\n                backward: (_, s) => s,\n            });\n        }\n        else if (this.view.pickerElement) {\n            this.view.pickerElement.appendChild(this.pickerC_.view.element);\n            bindFoldable(this.foldable_, this.view.pickerElement);\n        }\n    }\n    get textController() {\n        return this.textC_;\n    }\n    onButtonBlur_(e) {\n        if (!this.popC_) {\n            return;\n        }\n        const elem = this.view.element;\n        const nextTarget = forceCast(e.relatedTarget);\n        if (!nextTarget || !elem.contains(nextTarget)) {\n            this.popC_.shows.rawValue = false;\n        }\n    }\n    onButtonClick_() {\n        this.foldable_.set('expanded', !this.foldable_.get('expanded'));\n        if (this.foldable_.get('expanded')) {\n            this.pickerC_.view.allFocusableElements[0].focus();\n        }\n    }\n    onPopupChildBlur_(ev) {\n        if (!this.popC_) {\n            return;\n        }\n        const elem = this.popC_.view.element;\n        const nextTarget = findNextTarget(ev);\n        if (nextTarget && elem.contains(nextTarget)) {\n            return;\n        }\n        if (nextTarget &&\n            nextTarget === this.swatchC_.view.buttonElement &&\n            !supportsTouch(elem.ownerDocument)) {\n            return;\n        }\n        this.popC_.shows.rawValue = false;\n    }\n    onPopupChildKeydown_(ev) {\n        if (this.popC_) {\n            if (ev.key === 'Escape') {\n                this.popC_.shows.rawValue = false;\n            }\n        }\n        else if (this.view.pickerElement) {\n            if (ev.key === 'Escape') {\n                this.swatchC_.view.buttonElement.focus();\n            }\n        }\n    }\n}\n\nfunction colorToRgbNumber(value) {\n    return removeAlphaComponent(value.getComponents('rgb')).reduce((result, comp) => {\n        return (result << 8) | (Math.floor(comp) & 0xff);\n    }, 0);\n}\nfunction colorToRgbaNumber(value) {\n    return (value.getComponents('rgb').reduce((result, comp, index) => {\n        const hex = Math.floor(index === 3 ? comp * 255 : comp) & 0xff;\n        return (result << 8) | hex;\n    }, 0) >>> 0);\n}\nfunction numberToRgbColor(num) {\n    return new IntColor([(num >> 16) & 0xff, (num >> 8) & 0xff, num & 0xff], 'rgb');\n}\nfunction numberToRgbaColor(num) {\n    return new IntColor([\n        (num >> 24) & 0xff,\n        (num >> 16) & 0xff,\n        (num >> 8) & 0xff,\n        mapRange(num & 0xff, 0, 255, 0, 1),\n    ], 'rgb');\n}\nfunction colorFromRgbNumber(value) {\n    if (typeof value !== 'number') {\n        return IntColor.black();\n    }\n    return numberToRgbColor(value);\n}\nfunction colorFromRgbaNumber(value) {\n    if (typeof value !== 'number') {\n        return IntColor.black();\n    }\n    return numberToRgbaColor(value);\n}\n\nfunction isRgbColorComponent(obj, key) {\n    if (typeof obj !== 'object' || isEmpty(obj)) {\n        return false;\n    }\n    return key in obj && typeof obj[key] === 'number';\n}\nfunction isRgbColorObject(obj) {\n    return (isRgbColorComponent(obj, 'r') &&\n        isRgbColorComponent(obj, 'g') &&\n        isRgbColorComponent(obj, 'b'));\n}\nfunction isRgbaColorObject(obj) {\n    return isRgbColorObject(obj) && isRgbColorComponent(obj, 'a');\n}\nfunction isColorObject(obj) {\n    return isRgbColorObject(obj);\n}\nfunction equalsColor(v1, v2) {\n    if (v1.mode !== v2.mode) {\n        return false;\n    }\n    if (v1.type !== v2.type) {\n        return false;\n    }\n    const comps1 = v1.getComponents();\n    const comps2 = v2.getComponents();\n    for (let i = 0; i < comps1.length; i++) {\n        if (comps1[i] !== comps2[i]) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction createColorComponentsFromRgbObject(obj) {\n    return 'a' in obj ? [obj.r, obj.g, obj.b, obj.a] : [obj.r, obj.g, obj.b];\n}\n\nfunction createColorStringWriter(format) {\n    const stringify = findColorStringifier(format);\n    return stringify\n        ? (target, value) => {\n            writePrimitive(target, stringify(value));\n        }\n        : null;\n}\nfunction createColorNumberWriter(supportsAlpha) {\n    const colorToNumber = supportsAlpha ? colorToRgbaNumber : colorToRgbNumber;\n    return (target, value) => {\n        writePrimitive(target, colorToNumber(value));\n    };\n}\nfunction writeRgbaColorObject(target, value, type) {\n    const cc = mapColorType(value, type);\n    const obj = cc.toRgbaObject();\n    target.writeProperty('r', obj.r);\n    target.writeProperty('g', obj.g);\n    target.writeProperty('b', obj.b);\n    target.writeProperty('a', obj.a);\n}\nfunction writeRgbColorObject(target, value, type) {\n    const cc = mapColorType(value, type);\n    const obj = cc.toRgbaObject();\n    target.writeProperty('r', obj.r);\n    target.writeProperty('g', obj.g);\n    target.writeProperty('b', obj.b);\n}\nfunction createColorObjectWriter(supportsAlpha, type) {\n    return (target, inValue) => {\n        if (supportsAlpha) {\n            writeRgbaColorObject(target, inValue, type);\n        }\n        else {\n            writeRgbColorObject(target, inValue, type);\n        }\n    };\n}\n\nfunction shouldSupportAlpha$1(inputParams) {\n    var _a;\n    if ((_a = inputParams === null || inputParams === void 0 ? void 0 : inputParams.color) === null || _a === void 0 ? void 0 : _a.alpha) {\n        return true;\n    }\n    return false;\n}\nfunction createFormatter$1(supportsAlpha) {\n    return supportsAlpha\n        ? (v) => colorToHexRgbaString(v, '0x')\n        : (v) => colorToHexRgbString(v, '0x');\n}\nfunction isForColor(params) {\n    if ('color' in params) {\n        return true;\n    }\n    if (params.view === 'color') {\n        return true;\n    }\n    return false;\n}\nconst NumberColorInputPlugin = createPlugin({\n    id: 'input-color-number',\n    type: 'input',\n    accept: (value, params) => {\n        if (typeof value !== 'number') {\n            return null;\n        }\n        if (!isForColor(params)) {\n            return null;\n        }\n        const result = parseColorInputParams(params);\n        return result\n            ? {\n                initialValue: value,\n                params: Object.assign(Object.assign({}, result), { supportsAlpha: shouldSupportAlpha$1(params) }),\n            }\n            : null;\n    },\n    binding: {\n        reader: (args) => {\n            return args.params.supportsAlpha\n                ? colorFromRgbaNumber\n                : colorFromRgbNumber;\n        },\n        equals: equalsColor,\n        writer: (args) => {\n            return createColorNumberWriter(args.params.supportsAlpha);\n        },\n    },\n    controller: (args) => {\n        var _a, _b;\n        return new ColorController(args.document, {\n            colorType: 'int',\n            expanded: (_a = args.params.expanded) !== null && _a !== void 0 ? _a : false,\n            formatter: createFormatter$1(args.params.supportsAlpha),\n            parser: createColorStringParser('int'),\n            pickerLayout: (_b = args.params.picker) !== null && _b !== void 0 ? _b : 'popup',\n            supportsAlpha: args.params.supportsAlpha,\n            value: args.value,\n            viewProps: args.viewProps,\n        });\n    },\n});\n\nfunction colorFromObject(value, type) {\n    if (!isColorObject(value)) {\n        return mapColorType(IntColor.black(), type);\n    }\n    if (type === 'int') {\n        const comps = createColorComponentsFromRgbObject(value);\n        return new IntColor(comps, 'rgb');\n    }\n    if (type === 'float') {\n        const comps = createColorComponentsFromRgbObject(value);\n        return new FloatColor(comps, 'rgb');\n    }\n    return mapColorType(IntColor.black(), 'int');\n}\n\nfunction shouldSupportAlpha(initialValue) {\n    return isRgbaColorObject(initialValue);\n}\nfunction createColorObjectBindingReader(type) {\n    return (value) => {\n        const c = colorFromObject(value, type);\n        return mapColorType(c, 'int');\n    };\n}\nfunction createColorObjectFormatter(supportsAlpha, type) {\n    return (value) => {\n        if (supportsAlpha) {\n            return colorToObjectRgbaString(value, type);\n        }\n        return colorToObjectRgbString(value, type);\n    };\n}\nconst ObjectColorInputPlugin = createPlugin({\n    id: 'input-color-object',\n    type: 'input',\n    accept: (value, params) => {\n        var _a;\n        if (!isColorObject(value)) {\n            return null;\n        }\n        const result = parseColorInputParams(params);\n        return result\n            ? {\n                initialValue: value,\n                params: Object.assign(Object.assign({}, result), { colorType: (_a = extractColorType(params)) !== null && _a !== void 0 ? _a : 'int' }),\n            }\n            : null;\n    },\n    binding: {\n        reader: (args) => createColorObjectBindingReader(args.params.colorType),\n        equals: equalsColor,\n        writer: (args) => createColorObjectWriter(shouldSupportAlpha(args.initialValue), args.params.colorType),\n    },\n    controller: (args) => {\n        var _a, _b;\n        const supportsAlpha = isRgbaColorObject(args.initialValue);\n        return new ColorController(args.document, {\n            colorType: args.params.colorType,\n            expanded: (_a = args.params.expanded) !== null && _a !== void 0 ? _a : false,\n            formatter: createColorObjectFormatter(supportsAlpha, args.params.colorType),\n            parser: createColorStringParser('int'),\n            pickerLayout: (_b = args.params.picker) !== null && _b !== void 0 ? _b : 'popup',\n            supportsAlpha: supportsAlpha,\n            value: args.value,\n            viewProps: args.viewProps,\n        });\n    },\n});\n\nconst StringColorInputPlugin = createPlugin({\n    id: 'input-color-string',\n    type: 'input',\n    accept: (value, params) => {\n        if (typeof value !== 'string') {\n            return null;\n        }\n        if (params.view === 'text') {\n            return null;\n        }\n        const format = detectStringColorFormat(value, extractColorType(params));\n        if (!format) {\n            return null;\n        }\n        const stringifier = findColorStringifier(format);\n        if (!stringifier) {\n            return null;\n        }\n        const result = parseColorInputParams(params);\n        return result\n            ? {\n                initialValue: value,\n                params: Object.assign(Object.assign({}, result), { format: format, stringifier: stringifier }),\n            }\n            : null;\n    },\n    binding: {\n        reader: () => readIntColorString,\n        equals: equalsColor,\n        writer: (args) => {\n            const writer = createColorStringWriter(args.params.format);\n            if (!writer) {\n                throw TpError.notBindable();\n            }\n            return writer;\n        },\n    },\n    controller: (args) => {\n        var _a, _b;\n        return new ColorController(args.document, {\n            colorType: args.params.format.type,\n            expanded: (_a = args.params.expanded) !== null && _a !== void 0 ? _a : false,\n            formatter: args.params.stringifier,\n            parser: createColorStringParser('int'),\n            pickerLayout: (_b = args.params.picker) !== null && _b !== void 0 ? _b : 'popup',\n            supportsAlpha: args.params.format.alpha,\n            value: args.value,\n            viewProps: args.viewProps,\n        });\n    },\n});\n\nclass PointNdConstraint {\n    constructor(config) {\n        this.components = config.components;\n        this.asm_ = config.assembly;\n    }\n    constrain(value) {\n        const comps = this.asm_\n            .toComponents(value)\n            .map((comp, index) => { var _a, _b; return (_b = (_a = this.components[index]) === null || _a === void 0 ? void 0 : _a.constrain(comp)) !== null && _b !== void 0 ? _b : comp; });\n        return this.asm_.fromComponents(comps);\n    }\n}\n\nconst cn$6 = ClassName('pndtxt');\nclass PointNdTextView {\n    constructor(doc, config) {\n        this.textViews = config.textViews;\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$6());\n        this.textViews.forEach((v) => {\n            const axisElem = doc.createElement('div');\n            axisElem.classList.add(cn$6('a'));\n            axisElem.appendChild(v.element);\n            this.element.appendChild(axisElem);\n        });\n    }\n}\n\nfunction createAxisController(doc, config, index) {\n    return new NumberTextController(doc, {\n        arrayPosition: index === 0 ? 'fst' : index === config.axes.length - 1 ? 'lst' : 'mid',\n        parser: config.parser,\n        props: config.axes[index].textProps,\n        value: createValue(0, {\n            constraint: config.axes[index].constraint,\n        }),\n        viewProps: config.viewProps,\n    });\n}\nclass PointNdTextController {\n    constructor(doc, config) {\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.acs_ = config.axes.map((_, index) => createAxisController(doc, config, index));\n        this.acs_.forEach((c, index) => {\n            connectValues({\n                primary: this.value,\n                secondary: c.value,\n                forward: (p) => config.assembly.toComponents(p)[index],\n                backward: (p, s) => {\n                    const comps = config.assembly.toComponents(p);\n                    comps[index] = s;\n                    return config.assembly.fromComponents(comps);\n                },\n            });\n        });\n        this.view = new PointNdTextView(doc, {\n            textViews: this.acs_.map((ac) => ac.view),\n        });\n    }\n    get textControllers() {\n        return this.acs_;\n    }\n}\n\nclass SliderInputBindingApi extends BindingApi {\n    get max() {\n        return this.controller.valueController.sliderController.props.get('max');\n    }\n    set max(max) {\n        this.controller.valueController.sliderController.props.set('max', max);\n    }\n    get min() {\n        return this.controller.valueController.sliderController.props.get('min');\n    }\n    set min(max) {\n        this.controller.valueController.sliderController.props.set('min', max);\n    }\n}\n\nfunction createConstraint$4(params, initialValue) {\n    const constraints = [];\n    const sc = createStepConstraint(params, initialValue);\n    if (sc) {\n        constraints.push(sc);\n    }\n    const rc = createRangeConstraint(params);\n    if (rc) {\n        constraints.push(rc);\n    }\n    const lc = createListConstraint(params.options);\n    if (lc) {\n        constraints.push(lc);\n    }\n    return new CompositeConstraint(constraints);\n}\nconst NumberInputPlugin = createPlugin({\n    id: 'input-number',\n    type: 'input',\n    accept: (value, params) => {\n        if (typeof value !== 'number') {\n            return null;\n        }\n        const result = parseRecord(params, (p) => (Object.assign(Object.assign({}, createNumberTextInputParamsParser(p)), { options: p.optional.custom(parseListOptions), readonly: p.optional.constant(false) })));\n        return result\n            ? {\n                initialValue: value,\n                params: result,\n            }\n            : null;\n    },\n    binding: {\n        reader: (_args) => numberFromUnknown,\n        constraint: (args) => createConstraint$4(args.params, args.initialValue),\n        writer: (_args) => writePrimitive,\n    },\n    controller: (args) => {\n        const value = args.value;\n        const c = args.constraint;\n        const lc = c && findConstraint(c, ListConstraint);\n        if (lc) {\n            return new ListController(args.document, {\n                props: new ValueMap({\n                    options: lc.values.value('options'),\n                }),\n                value: value,\n                viewProps: args.viewProps,\n            });\n        }\n        const textPropsObj = createNumberTextPropsObject(args.params, value.rawValue);\n        const drc = c && findConstraint(c, DefiniteRangeConstraint);\n        if (drc) {\n            return new SliderTextController(args.document, Object.assign(Object.assign({}, createSliderTextProps(Object.assign(Object.assign({}, textPropsObj), { keyScale: createValue(textPropsObj.keyScale), max: drc.values.value('max'), min: drc.values.value('min') }))), { parser: parseNumber, value: value, viewProps: args.viewProps }));\n        }\n        return new NumberTextController(args.document, {\n            parser: parseNumber,\n            props: ValueMap.fromObject(textPropsObj),\n            value: value,\n            viewProps: args.viewProps,\n        });\n    },\n    api(args) {\n        if (typeof args.controller.value.rawValue !== 'number') {\n            return null;\n        }\n        if (args.controller.valueController instanceof SliderTextController) {\n            return new SliderInputBindingApi(args.controller);\n        }\n        if (args.controller.valueController instanceof ListController) {\n            return new ListInputBindingApi(args.controller);\n        }\n        return null;\n    },\n});\n\nclass Point2d {\n    constructor(x = 0, y = 0) {\n        this.x = x;\n        this.y = y;\n    }\n    getComponents() {\n        return [this.x, this.y];\n    }\n    static isObject(obj) {\n        if (isEmpty(obj)) {\n            return false;\n        }\n        const x = obj.x;\n        const y = obj.y;\n        if (typeof x !== 'number' || typeof y !== 'number') {\n            return false;\n        }\n        return true;\n    }\n    static equals(v1, v2) {\n        return v1.x === v2.x && v1.y === v2.y;\n    }\n    toObject() {\n        return {\n            x: this.x,\n            y: this.y,\n        };\n    }\n}\nconst Point2dAssembly = {\n    toComponents: (p) => p.getComponents(),\n    fromComponents: (comps) => new Point2d(...comps),\n};\n\nconst cn$5 = ClassName('p2d');\nclass Point2dView {\n    constructor(doc, config) {\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$5());\n        config.viewProps.bindClassModifiers(this.element);\n        bindValue(config.expanded, valueToClassName(this.element, cn$5(undefined, 'expanded')));\n        const headElem = doc.createElement('div');\n        headElem.classList.add(cn$5('h'));\n        this.element.appendChild(headElem);\n        const buttonElem = doc.createElement('button');\n        buttonElem.classList.add(cn$5('b'));\n        buttonElem.appendChild(createSvgIconElement(doc, 'p2dpad'));\n        config.viewProps.bindDisabled(buttonElem);\n        headElem.appendChild(buttonElem);\n        this.buttonElement = buttonElem;\n        const textElem = doc.createElement('div');\n        textElem.classList.add(cn$5('t'));\n        headElem.appendChild(textElem);\n        this.textElement = textElem;\n        if (config.pickerLayout === 'inline') {\n            const pickerElem = doc.createElement('div');\n            pickerElem.classList.add(cn$5('p'));\n            this.element.appendChild(pickerElem);\n            this.pickerElement = pickerElem;\n        }\n        else {\n            this.pickerElement = null;\n        }\n    }\n}\n\nconst cn$4 = ClassName('p2dp');\nclass Point2dPickerView {\n    constructor(doc, config) {\n        this.onFoldableChange_ = this.onFoldableChange_.bind(this);\n        this.onPropsChange_ = this.onPropsChange_.bind(this);\n        this.onValueChange_ = this.onValueChange_.bind(this);\n        this.props_ = config.props;\n        this.props_.emitter.on('change', this.onPropsChange_);\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$4());\n        if (config.layout === 'popup') {\n            this.element.classList.add(cn$4(undefined, 'p'));\n        }\n        config.viewProps.bindClassModifiers(this.element);\n        const padElem = doc.createElement('div');\n        padElem.classList.add(cn$4('p'));\n        config.viewProps.bindTabIndex(padElem);\n        this.element.appendChild(padElem);\n        this.padElement = padElem;\n        const svgElem = doc.createElementNS(SVG_NS, 'svg');\n        svgElem.classList.add(cn$4('g'));\n        this.padElement.appendChild(svgElem);\n        this.svgElem_ = svgElem;\n        const xAxisElem = doc.createElementNS(SVG_NS, 'line');\n        xAxisElem.classList.add(cn$4('ax'));\n        xAxisElem.setAttributeNS(null, 'x1', '0');\n        xAxisElem.setAttributeNS(null, 'y1', '50%');\n        xAxisElem.setAttributeNS(null, 'x2', '100%');\n        xAxisElem.setAttributeNS(null, 'y2', '50%');\n        this.svgElem_.appendChild(xAxisElem);\n        const yAxisElem = doc.createElementNS(SVG_NS, 'line');\n        yAxisElem.classList.add(cn$4('ax'));\n        yAxisElem.setAttributeNS(null, 'x1', '50%');\n        yAxisElem.setAttributeNS(null, 'y1', '0');\n        yAxisElem.setAttributeNS(null, 'x2', '50%');\n        yAxisElem.setAttributeNS(null, 'y2', '100%');\n        this.svgElem_.appendChild(yAxisElem);\n        const lineElem = doc.createElementNS(SVG_NS, 'line');\n        lineElem.classList.add(cn$4('l'));\n        lineElem.setAttributeNS(null, 'x1', '50%');\n        lineElem.setAttributeNS(null, 'y1', '50%');\n        this.svgElem_.appendChild(lineElem);\n        this.lineElem_ = lineElem;\n        const markerElem = doc.createElement('div');\n        markerElem.classList.add(cn$4('m'));\n        this.padElement.appendChild(markerElem);\n        this.markerElem_ = markerElem;\n        config.value.emitter.on('change', this.onValueChange_);\n        this.value = config.value;\n        this.update_();\n    }\n    get allFocusableElements() {\n        return [this.padElement];\n    }\n    update_() {\n        const [x, y] = this.value.rawValue.getComponents();\n        const max = this.props_.get('max');\n        const px = mapRange(x, -max, +max, 0, 100);\n        const py = mapRange(y, -max, +max, 0, 100);\n        const ipy = this.props_.get('invertsY') ? 100 - py : py;\n        this.lineElem_.setAttributeNS(null, 'x2', `${px}%`);\n        this.lineElem_.setAttributeNS(null, 'y2', `${ipy}%`);\n        this.markerElem_.style.left = `${px}%`;\n        this.markerElem_.style.top = `${ipy}%`;\n    }\n    onValueChange_() {\n        this.update_();\n    }\n    onPropsChange_() {\n        this.update_();\n    }\n    onFoldableChange_() {\n        this.update_();\n    }\n}\n\nfunction computeOffset(ev, keyScales, invertsY) {\n    return [\n        getStepForKey(keyScales[0], getHorizontalStepKeys(ev)),\n        getStepForKey(keyScales[1], getVerticalStepKeys(ev)) * (invertsY ? 1 : -1),\n    ];\n}\nclass Point2dPickerController {\n    constructor(doc, config) {\n        this.onPadKeyDown_ = this.onPadKeyDown_.bind(this);\n        this.onPadKeyUp_ = this.onPadKeyUp_.bind(this);\n        this.onPointerDown_ = this.onPointerDown_.bind(this);\n        this.onPointerMove_ = this.onPointerMove_.bind(this);\n        this.onPointerUp_ = this.onPointerUp_.bind(this);\n        this.props = config.props;\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.view = new Point2dPickerView(doc, {\n            layout: config.layout,\n            props: this.props,\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        this.ptHandler_ = new PointerHandler(this.view.padElement);\n        this.ptHandler_.emitter.on('down', this.onPointerDown_);\n        this.ptHandler_.emitter.on('move', this.onPointerMove_);\n        this.ptHandler_.emitter.on('up', this.onPointerUp_);\n        this.view.padElement.addEventListener('keydown', this.onPadKeyDown_);\n        this.view.padElement.addEventListener('keyup', this.onPadKeyUp_);\n    }\n    handlePointerEvent_(d, opts) {\n        if (!d.point) {\n            return;\n        }\n        const max = this.props.get('max');\n        const px = mapRange(d.point.x, 0, d.bounds.width, -max, +max);\n        const py = mapRange(this.props.get('invertsY') ? d.bounds.height - d.point.y : d.point.y, 0, d.bounds.height, -max, +max);\n        this.value.setRawValue(new Point2d(px, py), opts);\n    }\n    onPointerDown_(ev) {\n        this.handlePointerEvent_(ev.data, {\n            forceEmit: false,\n            last: false,\n        });\n    }\n    onPointerMove_(ev) {\n        this.handlePointerEvent_(ev.data, {\n            forceEmit: false,\n            last: false,\n        });\n    }\n    onPointerUp_(ev) {\n        this.handlePointerEvent_(ev.data, {\n            forceEmit: true,\n            last: true,\n        });\n    }\n    onPadKeyDown_(ev) {\n        if (isArrowKey(ev.key)) {\n            ev.preventDefault();\n        }\n        const [dx, dy] = computeOffset(ev, [this.props.get('xKeyScale'), this.props.get('yKeyScale')], this.props.get('invertsY'));\n        if (dx === 0 && dy === 0) {\n            return;\n        }\n        this.value.setRawValue(new Point2d(this.value.rawValue.x + dx, this.value.rawValue.y + dy), {\n            forceEmit: false,\n            last: false,\n        });\n    }\n    onPadKeyUp_(ev) {\n        const [dx, dy] = computeOffset(ev, [this.props.get('xKeyScale'), this.props.get('yKeyScale')], this.props.get('invertsY'));\n        if (dx === 0 && dy === 0) {\n            return;\n        }\n        this.value.setRawValue(this.value.rawValue, {\n            forceEmit: true,\n            last: true,\n        });\n    }\n}\n\nclass Point2dController {\n    constructor(doc, config) {\n        var _a, _b;\n        this.onPopupChildBlur_ = this.onPopupChildBlur_.bind(this);\n        this.onPopupChildKeydown_ = this.onPopupChildKeydown_.bind(this);\n        this.onPadButtonBlur_ = this.onPadButtonBlur_.bind(this);\n        this.onPadButtonClick_ = this.onPadButtonClick_.bind(this);\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.foldable_ = Foldable.create(config.expanded);\n        this.popC_ =\n            config.pickerLayout === 'popup'\n                ? new PopupController(doc, {\n                    viewProps: this.viewProps,\n                })\n                : null;\n        const padC = new Point2dPickerController(doc, {\n            layout: config.pickerLayout,\n            props: new ValueMap({\n                invertsY: createValue(config.invertsY),\n                max: createValue(config.max),\n                xKeyScale: config.axes[0].textProps.value('keyScale'),\n                yKeyScale: config.axes[1].textProps.value('keyScale'),\n            }),\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        padC.view.allFocusableElements.forEach((elem) => {\n            elem.addEventListener('blur', this.onPopupChildBlur_);\n            elem.addEventListener('keydown', this.onPopupChildKeydown_);\n        });\n        this.pickerC_ = padC;\n        this.textC_ = new PointNdTextController(doc, {\n            assembly: Point2dAssembly,\n            axes: config.axes,\n            parser: config.parser,\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        this.view = new Point2dView(doc, {\n            expanded: this.foldable_.value('expanded'),\n            pickerLayout: config.pickerLayout,\n            viewProps: this.viewProps,\n        });\n        this.view.textElement.appendChild(this.textC_.view.element);\n        (_a = this.view.buttonElement) === null || _a === void 0 ? void 0 : _a.addEventListener('blur', this.onPadButtonBlur_);\n        (_b = this.view.buttonElement) === null || _b === void 0 ? void 0 : _b.addEventListener('click', this.onPadButtonClick_);\n        if (this.popC_) {\n            this.view.element.appendChild(this.popC_.view.element);\n            this.popC_.view.element.appendChild(this.pickerC_.view.element);\n            connectValues({\n                primary: this.foldable_.value('expanded'),\n                secondary: this.popC_.shows,\n                forward: (p) => p,\n                backward: (_, s) => s,\n            });\n        }\n        else if (this.view.pickerElement) {\n            this.view.pickerElement.appendChild(this.pickerC_.view.element);\n            bindFoldable(this.foldable_, this.view.pickerElement);\n        }\n    }\n    get textController() {\n        return this.textC_;\n    }\n    onPadButtonBlur_(e) {\n        if (!this.popC_) {\n            return;\n        }\n        const elem = this.view.element;\n        const nextTarget = forceCast(e.relatedTarget);\n        if (!nextTarget || !elem.contains(nextTarget)) {\n            this.popC_.shows.rawValue = false;\n        }\n    }\n    onPadButtonClick_() {\n        this.foldable_.set('expanded', !this.foldable_.get('expanded'));\n        if (this.foldable_.get('expanded')) {\n            this.pickerC_.view.allFocusableElements[0].focus();\n        }\n    }\n    onPopupChildBlur_(ev) {\n        if (!this.popC_) {\n            return;\n        }\n        const elem = this.popC_.view.element;\n        const nextTarget = findNextTarget(ev);\n        if (nextTarget && elem.contains(nextTarget)) {\n            return;\n        }\n        if (nextTarget &&\n            nextTarget === this.view.buttonElement &&\n            !supportsTouch(elem.ownerDocument)) {\n            return;\n        }\n        this.popC_.shows.rawValue = false;\n    }\n    onPopupChildKeydown_(ev) {\n        if (this.popC_) {\n            if (ev.key === 'Escape') {\n                this.popC_.shows.rawValue = false;\n            }\n        }\n        else if (this.view.pickerElement) {\n            if (ev.key === 'Escape') {\n                this.view.buttonElement.focus();\n            }\n        }\n    }\n}\n\nfunction point2dFromUnknown(value) {\n    return Point2d.isObject(value)\n        ? new Point2d(value.x, value.y)\n        : new Point2d();\n}\nfunction writePoint2d(target, value) {\n    target.writeProperty('x', value.x);\n    target.writeProperty('y', value.y);\n}\n\nfunction createConstraint$3(params, initialValue) {\n    return new PointNdConstraint({\n        assembly: Point2dAssembly,\n        components: [\n            createDimensionConstraint(Object.assign(Object.assign({}, params), params.x), initialValue.x),\n            createDimensionConstraint(Object.assign(Object.assign({}, params), params.y), initialValue.y),\n        ],\n    });\n}\nfunction getSuitableMaxDimensionValue(params, rawValue) {\n    var _a, _b;\n    if (!isEmpty(params.min) || !isEmpty(params.max)) {\n        return Math.max(Math.abs((_a = params.min) !== null && _a !== void 0 ? _a : 0), Math.abs((_b = params.max) !== null && _b !== void 0 ? _b : 0));\n    }\n    const step = getSuitableKeyScale(params);\n    return Math.max(Math.abs(step) * 10, Math.abs(rawValue) * 10);\n}\nfunction getSuitableMax(params, initialValue) {\n    var _a, _b;\n    const xr = getSuitableMaxDimensionValue(deepMerge(params, ((_a = params.x) !== null && _a !== void 0 ? _a : {})), initialValue.x);\n    const yr = getSuitableMaxDimensionValue(deepMerge(params, ((_b = params.y) !== null && _b !== void 0 ? _b : {})), initialValue.y);\n    return Math.max(xr, yr);\n}\nfunction shouldInvertY(params) {\n    if (!('y' in params)) {\n        return false;\n    }\n    const yParams = params.y;\n    if (!yParams) {\n        return false;\n    }\n    return 'inverted' in yParams ? !!yParams.inverted : false;\n}\nconst Point2dInputPlugin = createPlugin({\n    id: 'input-point2d',\n    type: 'input',\n    accept: (value, params) => {\n        if (!Point2d.isObject(value)) {\n            return null;\n        }\n        const result = parseRecord(params, (p) => (Object.assign(Object.assign({}, createPointDimensionParser(p)), { expanded: p.optional.boolean, picker: p.optional.custom(parsePickerLayout), readonly: p.optional.constant(false), x: p.optional.custom(parsePointDimensionParams), y: p.optional.object(Object.assign(Object.assign({}, createPointDimensionParser(p)), { inverted: p.optional.boolean })) })));\n        return result\n            ? {\n                initialValue: value,\n                params: result,\n            }\n            : null;\n    },\n    binding: {\n        reader: () => point2dFromUnknown,\n        constraint: (args) => createConstraint$3(args.params, args.initialValue),\n        equals: Point2d.equals,\n        writer: () => writePoint2d,\n    },\n    controller: (args) => {\n        var _a, _b;\n        const doc = args.document;\n        const value = args.value;\n        const c = args.constraint;\n        const dParams = [args.params.x, args.params.y];\n        return new Point2dController(doc, {\n            axes: value.rawValue.getComponents().map((comp, i) => {\n                var _a;\n                return createPointAxis({\n                    constraint: c.components[i],\n                    initialValue: comp,\n                    params: deepMerge(args.params, ((_a = dParams[i]) !== null && _a !== void 0 ? _a : {})),\n                });\n            }),\n            expanded: (_a = args.params.expanded) !== null && _a !== void 0 ? _a : false,\n            invertsY: shouldInvertY(args.params),\n            max: getSuitableMax(args.params, value.rawValue),\n            parser: parseNumber,\n            pickerLayout: (_b = args.params.picker) !== null && _b !== void 0 ? _b : 'popup',\n            value: value,\n            viewProps: args.viewProps,\n        });\n    },\n});\n\nclass Point3d {\n    constructor(x = 0, y = 0, z = 0) {\n        this.x = x;\n        this.y = y;\n        this.z = z;\n    }\n    getComponents() {\n        return [this.x, this.y, this.z];\n    }\n    static isObject(obj) {\n        if (isEmpty(obj)) {\n            return false;\n        }\n        const x = obj.x;\n        const y = obj.y;\n        const z = obj.z;\n        if (typeof x !== 'number' ||\n            typeof y !== 'number' ||\n            typeof z !== 'number') {\n            return false;\n        }\n        return true;\n    }\n    static equals(v1, v2) {\n        return v1.x === v2.x && v1.y === v2.y && v1.z === v2.z;\n    }\n    toObject() {\n        return {\n            x: this.x,\n            y: this.y,\n            z: this.z,\n        };\n    }\n}\nconst Point3dAssembly = {\n    toComponents: (p) => p.getComponents(),\n    fromComponents: (comps) => new Point3d(...comps),\n};\n\nfunction point3dFromUnknown(value) {\n    return Point3d.isObject(value)\n        ? new Point3d(value.x, value.y, value.z)\n        : new Point3d();\n}\nfunction writePoint3d(target, value) {\n    target.writeProperty('x', value.x);\n    target.writeProperty('y', value.y);\n    target.writeProperty('z', value.z);\n}\n\nfunction createConstraint$2(params, initialValue) {\n    return new PointNdConstraint({\n        assembly: Point3dAssembly,\n        components: [\n            createDimensionConstraint(Object.assign(Object.assign({}, params), params.x), initialValue.x),\n            createDimensionConstraint(Object.assign(Object.assign({}, params), params.y), initialValue.y),\n            createDimensionConstraint(Object.assign(Object.assign({}, params), params.z), initialValue.z),\n        ],\n    });\n}\nconst Point3dInputPlugin = createPlugin({\n    id: 'input-point3d',\n    type: 'input',\n    accept: (value, params) => {\n        if (!Point3d.isObject(value)) {\n            return null;\n        }\n        const result = parseRecord(params, (p) => (Object.assign(Object.assign({}, createPointDimensionParser(p)), { readonly: p.optional.constant(false), x: p.optional.custom(parsePointDimensionParams), y: p.optional.custom(parsePointDimensionParams), z: p.optional.custom(parsePointDimensionParams) })));\n        return result\n            ? {\n                initialValue: value,\n                params: result,\n            }\n            : null;\n    },\n    binding: {\n        reader: (_args) => point3dFromUnknown,\n        constraint: (args) => createConstraint$2(args.params, args.initialValue),\n        equals: Point3d.equals,\n        writer: (_args) => writePoint3d,\n    },\n    controller: (args) => {\n        const value = args.value;\n        const c = args.constraint;\n        const dParams = [args.params.x, args.params.y, args.params.z];\n        return new PointNdTextController(args.document, {\n            assembly: Point3dAssembly,\n            axes: value.rawValue.getComponents().map((comp, i) => {\n                var _a;\n                return createPointAxis({\n                    constraint: c.components[i],\n                    initialValue: comp,\n                    params: deepMerge(args.params, ((_a = dParams[i]) !== null && _a !== void 0 ? _a : {})),\n                });\n            }),\n            parser: parseNumber,\n            value: value,\n            viewProps: args.viewProps,\n        });\n    },\n});\n\nclass Point4d {\n    constructor(x = 0, y = 0, z = 0, w = 0) {\n        this.x = x;\n        this.y = y;\n        this.z = z;\n        this.w = w;\n    }\n    getComponents() {\n        return [this.x, this.y, this.z, this.w];\n    }\n    static isObject(obj) {\n        if (isEmpty(obj)) {\n            return false;\n        }\n        const x = obj.x;\n        const y = obj.y;\n        const z = obj.z;\n        const w = obj.w;\n        if (typeof x !== 'number' ||\n            typeof y !== 'number' ||\n            typeof z !== 'number' ||\n            typeof w !== 'number') {\n            return false;\n        }\n        return true;\n    }\n    static equals(v1, v2) {\n        return v1.x === v2.x && v1.y === v2.y && v1.z === v2.z && v1.w === v2.w;\n    }\n    toObject() {\n        return {\n            x: this.x,\n            y: this.y,\n            z: this.z,\n            w: this.w,\n        };\n    }\n}\nconst Point4dAssembly = {\n    toComponents: (p) => p.getComponents(),\n    fromComponents: (comps) => new Point4d(...comps),\n};\n\nfunction point4dFromUnknown(value) {\n    return Point4d.isObject(value)\n        ? new Point4d(value.x, value.y, value.z, value.w)\n        : new Point4d();\n}\nfunction writePoint4d(target, value) {\n    target.writeProperty('x', value.x);\n    target.writeProperty('y', value.y);\n    target.writeProperty('z', value.z);\n    target.writeProperty('w', value.w);\n}\n\nfunction createConstraint$1(params, initialValue) {\n    return new PointNdConstraint({\n        assembly: Point4dAssembly,\n        components: [\n            createDimensionConstraint(Object.assign(Object.assign({}, params), params.x), initialValue.x),\n            createDimensionConstraint(Object.assign(Object.assign({}, params), params.y), initialValue.y),\n            createDimensionConstraint(Object.assign(Object.assign({}, params), params.z), initialValue.z),\n            createDimensionConstraint(Object.assign(Object.assign({}, params), params.w), initialValue.w),\n        ],\n    });\n}\nconst Point4dInputPlugin = createPlugin({\n    id: 'input-point4d',\n    type: 'input',\n    accept: (value, params) => {\n        if (!Point4d.isObject(value)) {\n            return null;\n        }\n        const result = parseRecord(params, (p) => (Object.assign(Object.assign({}, createPointDimensionParser(p)), { readonly: p.optional.constant(false), w: p.optional.custom(parsePointDimensionParams), x: p.optional.custom(parsePointDimensionParams), y: p.optional.custom(parsePointDimensionParams), z: p.optional.custom(parsePointDimensionParams) })));\n        return result\n            ? {\n                initialValue: value,\n                params: result,\n            }\n            : null;\n    },\n    binding: {\n        reader: (_args) => point4dFromUnknown,\n        constraint: (args) => createConstraint$1(args.params, args.initialValue),\n        equals: Point4d.equals,\n        writer: (_args) => writePoint4d,\n    },\n    controller: (args) => {\n        const value = args.value;\n        const c = args.constraint;\n        const dParams = [\n            args.params.x,\n            args.params.y,\n            args.params.z,\n            args.params.w,\n        ];\n        return new PointNdTextController(args.document, {\n            assembly: Point4dAssembly,\n            axes: value.rawValue.getComponents().map((comp, i) => {\n                var _a;\n                return createPointAxis({\n                    constraint: c.components[i],\n                    initialValue: comp,\n                    params: deepMerge(args.params, ((_a = dParams[i]) !== null && _a !== void 0 ? _a : {})),\n                });\n            }),\n            parser: parseNumber,\n            value: value,\n            viewProps: args.viewProps,\n        });\n    },\n});\n\nfunction createConstraint(params) {\n    const constraints = [];\n    const lc = createListConstraint(params.options);\n    if (lc) {\n        constraints.push(lc);\n    }\n    return new CompositeConstraint(constraints);\n}\nconst StringInputPlugin = createPlugin({\n    id: 'input-string',\n    type: 'input',\n    accept: (value, params) => {\n        if (typeof value !== 'string') {\n            return null;\n        }\n        const result = parseRecord(params, (p) => ({\n            readonly: p.optional.constant(false),\n            options: p.optional.custom(parseListOptions),\n        }));\n        return result\n            ? {\n                initialValue: value,\n                params: result,\n            }\n            : null;\n    },\n    binding: {\n        reader: (_args) => stringFromUnknown,\n        constraint: (args) => createConstraint(args.params),\n        writer: (_args) => writePrimitive,\n    },\n    controller: (args) => {\n        const doc = args.document;\n        const value = args.value;\n        const c = args.constraint;\n        const lc = c && findConstraint(c, ListConstraint);\n        if (lc) {\n            return new ListController(doc, {\n                props: new ValueMap({\n                    options: lc.values.value('options'),\n                }),\n                value: value,\n                viewProps: args.viewProps,\n            });\n        }\n        return new TextController(doc, {\n            parser: (v) => v,\n            props: ValueMap.fromObject({\n                formatter: formatString,\n            }),\n            value: value,\n            viewProps: args.viewProps,\n        });\n    },\n    api(args) {\n        if (typeof args.controller.value.rawValue !== 'string') {\n            return null;\n        }\n        if (args.controller.valueController instanceof ListController) {\n            return new ListInputBindingApi(args.controller);\n        }\n        return null;\n    },\n});\n\nconst Constants = {\n    monitor: {\n        defaultInterval: 200,\n        defaultRows: 3,\n    },\n};\n\nconst cn$3 = ClassName('mll');\nclass MultiLogView {\n    constructor(doc, config) {\n        this.onValueUpdate_ = this.onValueUpdate_.bind(this);\n        this.formatter_ = config.formatter;\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$3());\n        config.viewProps.bindClassModifiers(this.element);\n        const textareaElem = doc.createElement('textarea');\n        textareaElem.classList.add(cn$3('i'));\n        textareaElem.style.height = `calc(var(${getCssVar('containerUnitSize')}) * ${config.rows})`;\n        textareaElem.readOnly = true;\n        config.viewProps.bindDisabled(textareaElem);\n        this.element.appendChild(textareaElem);\n        this.textareaElem_ = textareaElem;\n        config.value.emitter.on('change', this.onValueUpdate_);\n        this.value = config.value;\n        this.update_();\n    }\n    update_() {\n        const elem = this.textareaElem_;\n        const shouldScroll = elem.scrollTop === elem.scrollHeight - elem.clientHeight;\n        const lines = [];\n        this.value.rawValue.forEach((value) => {\n            if (value !== undefined) {\n                lines.push(this.formatter_(value));\n            }\n        });\n        elem.textContent = lines.join('\\n');\n        if (shouldScroll) {\n            elem.scrollTop = elem.scrollHeight;\n        }\n    }\n    onValueUpdate_() {\n        this.update_();\n    }\n}\n\nclass MultiLogController {\n    constructor(doc, config) {\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.view = new MultiLogView(doc, {\n            formatter: config.formatter,\n            rows: config.rows,\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n    }\n}\n\nconst cn$2 = ClassName('sgl');\nclass SingleLogView {\n    constructor(doc, config) {\n        this.onValueUpdate_ = this.onValueUpdate_.bind(this);\n        this.formatter_ = config.formatter;\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$2());\n        config.viewProps.bindClassModifiers(this.element);\n        const inputElem = doc.createElement('input');\n        inputElem.classList.add(cn$2('i'));\n        inputElem.readOnly = true;\n        inputElem.type = 'text';\n        config.viewProps.bindDisabled(inputElem);\n        this.element.appendChild(inputElem);\n        this.inputElement = inputElem;\n        config.value.emitter.on('change', this.onValueUpdate_);\n        this.value = config.value;\n        this.update_();\n    }\n    update_() {\n        const values = this.value.rawValue;\n        const lastValue = values[values.length - 1];\n        this.inputElement.value =\n            lastValue !== undefined ? this.formatter_(lastValue) : '';\n    }\n    onValueUpdate_() {\n        this.update_();\n    }\n}\n\nclass SingleLogController {\n    constructor(doc, config) {\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.view = new SingleLogView(doc, {\n            formatter: config.formatter,\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n    }\n}\n\nconst BooleanMonitorPlugin = createPlugin({\n    id: 'monitor-bool',\n    type: 'monitor',\n    accept: (value, params) => {\n        if (typeof value !== 'boolean') {\n            return null;\n        }\n        const result = parseRecord(params, (p) => ({\n            readonly: p.required.constant(true),\n            rows: p.optional.number,\n        }));\n        return result\n            ? {\n                initialValue: value,\n                params: result,\n            }\n            : null;\n    },\n    binding: {\n        reader: (_args) => boolFromUnknown,\n    },\n    controller: (args) => {\n        var _a;\n        if (args.value.rawValue.length === 1) {\n            return new SingleLogController(args.document, {\n                formatter: BooleanFormatter,\n                value: args.value,\n                viewProps: args.viewProps,\n            });\n        }\n        return new MultiLogController(args.document, {\n            formatter: BooleanFormatter,\n            rows: (_a = args.params.rows) !== null && _a !== void 0 ? _a : Constants.monitor.defaultRows,\n            value: args.value,\n            viewProps: args.viewProps,\n        });\n    },\n});\n\nclass GraphLogMonitorBindingApi extends BindingApi {\n    get max() {\n        return this.controller.valueController.props.get('max');\n    }\n    set max(max) {\n        this.controller.valueController.props.set('max', max);\n    }\n    get min() {\n        return this.controller.valueController.props.get('min');\n    }\n    set min(min) {\n        this.controller.valueController.props.set('min', min);\n    }\n}\n\nconst cn$1 = ClassName('grl');\nclass GraphLogView {\n    constructor(doc, config) {\n        this.onCursorChange_ = this.onCursorChange_.bind(this);\n        this.onValueUpdate_ = this.onValueUpdate_.bind(this);\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$1());\n        config.viewProps.bindClassModifiers(this.element);\n        this.formatter_ = config.formatter;\n        this.props_ = config.props;\n        this.cursor_ = config.cursor;\n        this.cursor_.emitter.on('change', this.onCursorChange_);\n        const svgElem = doc.createElementNS(SVG_NS, 'svg');\n        svgElem.classList.add(cn$1('g'));\n        svgElem.style.height = `calc(var(${getCssVar('containerUnitSize')}) * ${config.rows})`;\n        this.element.appendChild(svgElem);\n        this.svgElem_ = svgElem;\n        const lineElem = doc.createElementNS(SVG_NS, 'polyline');\n        this.svgElem_.appendChild(lineElem);\n        this.lineElem_ = lineElem;\n        const tooltipElem = doc.createElement('div');\n        tooltipElem.classList.add(cn$1('t'), ClassName('tt')());\n        this.element.appendChild(tooltipElem);\n        this.tooltipElem_ = tooltipElem;\n        config.value.emitter.on('change', this.onValueUpdate_);\n        this.value = config.value;\n        this.update_();\n    }\n    get graphElement() {\n        return this.svgElem_;\n    }\n    update_() {\n        const { clientWidth: w, clientHeight: h } = this.element;\n        const maxIndex = this.value.rawValue.length - 1;\n        const min = this.props_.get('min');\n        const max = this.props_.get('max');\n        const points = [];\n        this.value.rawValue.forEach((v, index) => {\n            if (v === undefined) {\n                return;\n            }\n            const x = mapRange(index, 0, maxIndex, 0, w);\n            const y = mapRange(v, min, max, h, 0);\n            points.push([x, y].join(','));\n        });\n        this.lineElem_.setAttributeNS(null, 'points', points.join(' '));\n        const tooltipElem = this.tooltipElem_;\n        const value = this.value.rawValue[this.cursor_.rawValue];\n        if (value === undefined) {\n            tooltipElem.classList.remove(cn$1('t', 'a'));\n            return;\n        }\n        const tx = mapRange(this.cursor_.rawValue, 0, maxIndex, 0, w);\n        const ty = mapRange(value, min, max, h, 0);\n        tooltipElem.style.left = `${tx}px`;\n        tooltipElem.style.top = `${ty}px`;\n        tooltipElem.textContent = `${this.formatter_(value)}`;\n        if (!tooltipElem.classList.contains(cn$1('t', 'a'))) {\n            tooltipElem.classList.add(cn$1('t', 'a'), cn$1('t', 'in'));\n            forceReflow(tooltipElem);\n            tooltipElem.classList.remove(cn$1('t', 'in'));\n        }\n    }\n    onValueUpdate_() {\n        this.update_();\n    }\n    onCursorChange_() {\n        this.update_();\n    }\n}\n\nclass GraphLogController {\n    constructor(doc, config) {\n        this.onGraphMouseMove_ = this.onGraphMouseMove_.bind(this);\n        this.onGraphMouseLeave_ = this.onGraphMouseLeave_.bind(this);\n        this.onGraphPointerDown_ = this.onGraphPointerDown_.bind(this);\n        this.onGraphPointerMove_ = this.onGraphPointerMove_.bind(this);\n        this.onGraphPointerUp_ = this.onGraphPointerUp_.bind(this);\n        this.props = config.props;\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.cursor_ = createValue(-1);\n        this.view = new GraphLogView(doc, {\n            cursor: this.cursor_,\n            formatter: config.formatter,\n            rows: config.rows,\n            props: this.props,\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        if (!supportsTouch(doc)) {\n            this.view.element.addEventListener('mousemove', this.onGraphMouseMove_);\n            this.view.element.addEventListener('mouseleave', this.onGraphMouseLeave_);\n        }\n        else {\n            const ph = new PointerHandler(this.view.element);\n            ph.emitter.on('down', this.onGraphPointerDown_);\n            ph.emitter.on('move', this.onGraphPointerMove_);\n            ph.emitter.on('up', this.onGraphPointerUp_);\n        }\n    }\n    importProps(state) {\n        return importBladeState(state, null, (p) => ({\n            max: p.required.number,\n            min: p.required.number,\n        }), (result) => {\n            this.props.set('max', result.max);\n            this.props.set('min', result.min);\n            return true;\n        });\n    }\n    exportProps() {\n        return exportBladeState(null, {\n            max: this.props.get('max'),\n            min: this.props.get('min'),\n        });\n    }\n    onGraphMouseLeave_() {\n        this.cursor_.rawValue = -1;\n    }\n    onGraphMouseMove_(ev) {\n        const { clientWidth: w } = this.view.element;\n        this.cursor_.rawValue = Math.floor(mapRange(ev.offsetX, 0, w, 0, this.value.rawValue.length));\n    }\n    onGraphPointerDown_(ev) {\n        this.onGraphPointerMove_(ev);\n    }\n    onGraphPointerMove_(ev) {\n        if (!ev.data.point) {\n            this.cursor_.rawValue = -1;\n            return;\n        }\n        this.cursor_.rawValue = Math.floor(mapRange(ev.data.point.x, 0, ev.data.bounds.width, 0, this.value.rawValue.length));\n    }\n    onGraphPointerUp_() {\n        this.cursor_.rawValue = -1;\n    }\n}\n\nfunction createFormatter(params) {\n    return !isEmpty(params.format) ? params.format : createNumberFormatter(2);\n}\nfunction createTextMonitor(args) {\n    var _a;\n    if (args.value.rawValue.length === 1) {\n        return new SingleLogController(args.document, {\n            formatter: createFormatter(args.params),\n            value: args.value,\n            viewProps: args.viewProps,\n        });\n    }\n    return new MultiLogController(args.document, {\n        formatter: createFormatter(args.params),\n        rows: (_a = args.params.rows) !== null && _a !== void 0 ? _a : Constants.monitor.defaultRows,\n        value: args.value,\n        viewProps: args.viewProps,\n    });\n}\nfunction createGraphMonitor(args) {\n    var _a, _b, _c;\n    return new GraphLogController(args.document, {\n        formatter: createFormatter(args.params),\n        rows: (_a = args.params.rows) !== null && _a !== void 0 ? _a : Constants.monitor.defaultRows,\n        props: ValueMap.fromObject({\n            max: (_b = args.params.max) !== null && _b !== void 0 ? _b : 100,\n            min: (_c = args.params.min) !== null && _c !== void 0 ? _c : 0,\n        }),\n        value: args.value,\n        viewProps: args.viewProps,\n    });\n}\nfunction shouldShowGraph(params) {\n    return params.view === 'graph';\n}\nconst NumberMonitorPlugin = createPlugin({\n    id: 'monitor-number',\n    type: 'monitor',\n    accept: (value, params) => {\n        if (typeof value !== 'number') {\n            return null;\n        }\n        const result = parseRecord(params, (p) => ({\n            format: p.optional.function,\n            max: p.optional.number,\n            min: p.optional.number,\n            readonly: p.required.constant(true),\n            rows: p.optional.number,\n            view: p.optional.string,\n        }));\n        return result\n            ? {\n                initialValue: value,\n                params: result,\n            }\n            : null;\n    },\n    binding: {\n        defaultBufferSize: (params) => (shouldShowGraph(params) ? 64 : 1),\n        reader: (_args) => numberFromUnknown,\n    },\n    controller: (args) => {\n        if (shouldShowGraph(args.params)) {\n            return createGraphMonitor(args);\n        }\n        return createTextMonitor(args);\n    },\n    api: (args) => {\n        if (args.controller.valueController instanceof GraphLogController) {\n            return new GraphLogMonitorBindingApi(args.controller);\n        }\n        return null;\n    },\n});\n\nconst StringMonitorPlugin = createPlugin({\n    id: 'monitor-string',\n    type: 'monitor',\n    accept: (value, params) => {\n        if (typeof value !== 'string') {\n            return null;\n        }\n        const result = parseRecord(params, (p) => ({\n            multiline: p.optional.boolean,\n            readonly: p.required.constant(true),\n            rows: p.optional.number,\n        }));\n        return result\n            ? {\n                initialValue: value,\n                params: result,\n            }\n            : null;\n    },\n    binding: {\n        reader: (_args) => stringFromUnknown,\n    },\n    controller: (args) => {\n        var _a;\n        const value = args.value;\n        const multiline = value.rawValue.length > 1 || args.params.multiline;\n        if (multiline) {\n            return new MultiLogController(args.document, {\n                formatter: formatString,\n                rows: (_a = args.params.rows) !== null && _a !== void 0 ? _a : Constants.monitor.defaultRows,\n                value: value,\n                viewProps: args.viewProps,\n            });\n        }\n        return new SingleLogController(args.document, {\n            formatter: formatString,\n            value: value,\n            viewProps: args.viewProps,\n        });\n    },\n});\n\nclass BladeApiCache {\n    constructor() {\n        this.map_ = new Map();\n    }\n    get(bc) {\n        var _a;\n        return (_a = this.map_.get(bc)) !== null && _a !== void 0 ? _a : null;\n    }\n    has(bc) {\n        return this.map_.has(bc);\n    }\n    add(bc, api) {\n        this.map_.set(bc, api);\n        bc.viewProps.handleDispose(() => {\n            this.map_.delete(bc);\n        });\n        return api;\n    }\n}\n\nclass ReadWriteBinding {\n    constructor(config) {\n        this.target = config.target;\n        this.reader_ = config.reader;\n        this.writer_ = config.writer;\n    }\n    read() {\n        return this.reader_(this.target.read());\n    }\n    write(value) {\n        this.writer_(this.target, value);\n    }\n    inject(value) {\n        this.write(this.reader_(value));\n    }\n}\n\nfunction createInputBindingController(plugin, args) {\n    var _a;\n    const result = plugin.accept(args.target.read(), args.params);\n    if (isEmpty(result)) {\n        return null;\n    }\n    const valueArgs = {\n        target: args.target,\n        initialValue: result.initialValue,\n        params: result.params,\n    };\n    const params = parseRecord(args.params, (p) => ({\n        disabled: p.optional.boolean,\n        hidden: p.optional.boolean,\n        label: p.optional.string,\n        tag: p.optional.string,\n    }));\n    const reader = plugin.binding.reader(valueArgs);\n    const constraint = plugin.binding.constraint\n        ? plugin.binding.constraint(valueArgs)\n        : undefined;\n    const binding = new ReadWriteBinding({\n        reader: reader,\n        target: args.target,\n        writer: plugin.binding.writer(valueArgs),\n    });\n    const value = new InputBindingValue(createValue(reader(result.initialValue), {\n        constraint: constraint,\n        equals: plugin.binding.equals,\n    }), binding);\n    const controller = plugin.controller({\n        constraint: constraint,\n        document: args.document,\n        initialValue: result.initialValue,\n        params: result.params,\n        value: value,\n        viewProps: ViewProps.create({\n            disabled: params === null || params === void 0 ? void 0 : params.disabled,\n            hidden: params === null || params === void 0 ? void 0 : params.hidden,\n        }),\n    });\n    return new InputBindingController(args.document, {\n        blade: createBlade(),\n        props: ValueMap.fromObject({\n            label: 'label' in args.params ? (_a = params === null || params === void 0 ? void 0 : params.label) !== null && _a !== void 0 ? _a : null : args.target.key,\n        }),\n        tag: params === null || params === void 0 ? void 0 : params.tag,\n        value: value,\n        valueController: controller,\n    });\n}\n\nclass ReadonlyBinding {\n    constructor(config) {\n        this.target = config.target;\n        this.reader_ = config.reader;\n    }\n    read() {\n        return this.reader_(this.target.read());\n    }\n}\n\nfunction createTicker(document, interval) {\n    return interval === 0\n        ? new ManualTicker()\n        : new IntervalTicker(document, interval !== null && interval !== void 0 ? interval : Constants.monitor.defaultInterval);\n}\nfunction createMonitorBindingController(plugin, args) {\n    var _a, _b, _c;\n    const result = plugin.accept(args.target.read(), args.params);\n    if (isEmpty(result)) {\n        return null;\n    }\n    const bindingArgs = {\n        target: args.target,\n        initialValue: result.initialValue,\n        params: result.params,\n    };\n    const params = parseRecord(args.params, (p) => ({\n        bufferSize: p.optional.number,\n        disabled: p.optional.boolean,\n        hidden: p.optional.boolean,\n        interval: p.optional.number,\n        label: p.optional.string,\n    }));\n    const reader = plugin.binding.reader(bindingArgs);\n    const bufferSize = (_b = (_a = params === null || params === void 0 ? void 0 : params.bufferSize) !== null && _a !== void 0 ? _a : (plugin.binding.defaultBufferSize &&\n        plugin.binding.defaultBufferSize(result.params))) !== null && _b !== void 0 ? _b : 1;\n    const value = new MonitorBindingValue({\n        binding: new ReadonlyBinding({\n            reader: reader,\n            target: args.target,\n        }),\n        bufferSize: bufferSize,\n        ticker: createTicker(args.document, params === null || params === void 0 ? void 0 : params.interval),\n    });\n    const controller = plugin.controller({\n        document: args.document,\n        params: result.params,\n        value: value,\n        viewProps: ViewProps.create({\n            disabled: params === null || params === void 0 ? void 0 : params.disabled,\n            hidden: params === null || params === void 0 ? void 0 : params.hidden,\n        }),\n    });\n    controller.viewProps.bindDisabled(value.ticker);\n    controller.viewProps.handleDispose(() => {\n        value.ticker.dispose();\n    });\n    return new MonitorBindingController(args.document, {\n        blade: createBlade(),\n        props: ValueMap.fromObject({\n            label: 'label' in args.params ? (_c = params === null || params === void 0 ? void 0 : params.label) !== null && _c !== void 0 ? _c : null : args.target.key,\n        }),\n        value: value,\n        valueController: controller,\n    });\n}\n\nclass PluginPool {\n    constructor(apiCache) {\n        this.pluginsMap_ = {\n            blades: [],\n            inputs: [],\n            monitors: [],\n        };\n        this.apiCache_ = apiCache;\n    }\n    getAll() {\n        return [\n            ...this.pluginsMap_.blades,\n            ...this.pluginsMap_.inputs,\n            ...this.pluginsMap_.monitors,\n        ];\n    }\n    register(bundleId, r) {\n        if (!isCompatible(r.core)) {\n            throw TpError.notCompatible(bundleId, r.id);\n        }\n        if (r.type === 'blade') {\n            this.pluginsMap_.blades.unshift(r);\n        }\n        else if (r.type === 'input') {\n            this.pluginsMap_.inputs.unshift(r);\n        }\n        else if (r.type === 'monitor') {\n            this.pluginsMap_.monitors.unshift(r);\n        }\n    }\n    createInput_(document, target, params) {\n        return this.pluginsMap_.inputs.reduce((result, plugin) => result !== null && result !== void 0 ? result : createInputBindingController(plugin, {\n            document: document,\n            target: target,\n            params: params,\n        }), null);\n    }\n    createMonitor_(document, target, params) {\n        return this.pluginsMap_.monitors.reduce((result, plugin) => result !== null && result !== void 0 ? result : createMonitorBindingController(plugin, {\n            document: document,\n            params: params,\n            target: target,\n        }), null);\n    }\n    createBinding(doc, target, params) {\n        const initialValue = target.read();\n        if (isEmpty(initialValue)) {\n            throw new TpError({\n                context: {\n                    key: target.key,\n                },\n                type: 'nomatchingcontroller',\n            });\n        }\n        const ic = this.createInput_(doc, target, params);\n        if (ic) {\n            return ic;\n        }\n        const mc = this.createMonitor_(doc, target, params);\n        if (mc) {\n            return mc;\n        }\n        throw new TpError({\n            context: {\n                key: target.key,\n            },\n            type: 'nomatchingcontroller',\n        });\n    }\n    createBlade(document, params) {\n        const bc = this.pluginsMap_.blades.reduce((result, plugin) => result !== null && result !== void 0 ? result : createBladeController(plugin, {\n            document: document,\n            params: params,\n        }), null);\n        if (!bc) {\n            throw new TpError({\n                type: 'nomatchingview',\n                context: {\n                    params: params,\n                },\n            });\n        }\n        return bc;\n    }\n    createInputBindingApi_(bc) {\n        const api = this.pluginsMap_.inputs.reduce((result, plugin) => {\n            var _a, _b;\n            if (result) {\n                return result;\n            }\n            return ((_b = (_a = plugin.api) === null || _a === void 0 ? void 0 : _a.call(plugin, {\n                controller: bc,\n            })) !== null && _b !== void 0 ? _b : null);\n        }, null);\n        return this.apiCache_.add(bc, api !== null && api !== void 0 ? api : new BindingApi(bc));\n    }\n    createMonitorBindingApi_(bc) {\n        const api = this.pluginsMap_.monitors.reduce((result, plugin) => {\n            var _a, _b;\n            if (result) {\n                return result;\n            }\n            return ((_b = (_a = plugin.api) === null || _a === void 0 ? void 0 : _a.call(plugin, {\n                controller: bc,\n            })) !== null && _b !== void 0 ? _b : null);\n        }, null);\n        return this.apiCache_.add(bc, api !== null && api !== void 0 ? api : new BindingApi(bc));\n    }\n    createBindingApi(bc) {\n        if (this.apiCache_.has(bc)) {\n            return this.apiCache_.get(bc);\n        }\n        if (isInputBindingController(bc)) {\n            return this.createInputBindingApi_(bc);\n        }\n        if (isMonitorBindingController(bc)) {\n            return this.createMonitorBindingApi_(bc);\n        }\n        throw TpError.shouldNeverHappen();\n    }\n    createApi(bc) {\n        if (this.apiCache_.has(bc)) {\n            return this.apiCache_.get(bc);\n        }\n        if (isBindingController(bc)) {\n            return this.createBindingApi(bc);\n        }\n        const api = this.pluginsMap_.blades.reduce((result, plugin) => result !== null && result !== void 0 ? result : plugin.api({\n            controller: bc,\n            pool: this,\n        }), null);\n        if (!api) {\n            throw TpError.shouldNeverHappen();\n        }\n        return this.apiCache_.add(bc, api);\n    }\n}\n\nconst sharedCache = new BladeApiCache();\nfunction createDefaultPluginPool() {\n    const pool = new PluginPool(sharedCache);\n    [\n        Point2dInputPlugin,\n        Point3dInputPlugin,\n        Point4dInputPlugin,\n        StringInputPlugin,\n        NumberInputPlugin,\n        StringColorInputPlugin,\n        ObjectColorInputPlugin,\n        NumberColorInputPlugin,\n        BooleanInputPlugin,\n        BooleanMonitorPlugin,\n        StringMonitorPlugin,\n        NumberMonitorPlugin,\n        ButtonBladePlugin,\n        FolderBladePlugin,\n        TabBladePlugin,\n    ].forEach((p) => {\n        pool.register('core', p);\n    });\n    return pool;\n}\n\nclass ListBladeApi extends BladeApi {\n    /**\n     * @hidden\n     */\n    constructor(controller) {\n        super(controller);\n        this.emitter_ = new Emitter();\n        this.controller.value.emitter.on('change', (ev) => {\n            this.emitter_.emit('change', new TpChangeEvent(this, ev.rawValue));\n        });\n    }\n    get label() {\n        return this.controller.labelController.props.get('label');\n    }\n    set label(label) {\n        this.controller.labelController.props.set('label', label);\n    }\n    get options() {\n        return this.controller.valueController.props.get('options');\n    }\n    set options(options) {\n        this.controller.valueController.props.set('options', options);\n    }\n    get value() {\n        return this.controller.value.rawValue;\n    }\n    set value(value) {\n        this.controller.value.rawValue = value;\n    }\n    on(eventName, handler) {\n        const bh = handler.bind(this);\n        this.emitter_.on(eventName, (ev) => {\n            bh(ev);\n        }, {\n            key: handler,\n        });\n        return this;\n    }\n    off(eventName, handler) {\n        this.emitter_.off(eventName, handler);\n        return this;\n    }\n}\n\nclass SeparatorBladeApi extends BladeApi {\n}\n\nclass SliderBladeApi extends BladeApi {\n    /**\n     * @hidden\n     */\n    constructor(controller) {\n        super(controller);\n        this.emitter_ = new Emitter();\n        this.controller.value.emitter.on('change', (ev) => {\n            this.emitter_.emit('change', new TpChangeEvent(this, ev.rawValue));\n        });\n    }\n    get label() {\n        return this.controller.labelController.props.get('label');\n    }\n    set label(label) {\n        this.controller.labelController.props.set('label', label);\n    }\n    get max() {\n        return this.controller.valueController.sliderController.props.get('max');\n    }\n    set max(max) {\n        this.controller.valueController.sliderController.props.set('max', max);\n    }\n    get min() {\n        return this.controller.valueController.sliderController.props.get('min');\n    }\n    set min(min) {\n        this.controller.valueController.sliderController.props.set('min', min);\n    }\n    get value() {\n        return this.controller.value.rawValue;\n    }\n    set value(value) {\n        this.controller.value.rawValue = value;\n    }\n    on(eventName, handler) {\n        const bh = handler.bind(this);\n        this.emitter_.on(eventName, (ev) => {\n            bh(ev);\n        }, {\n            key: handler,\n        });\n        return this;\n    }\n    off(eventName, handler) {\n        this.emitter_.off(eventName, handler);\n        return this;\n    }\n}\n\nclass TextBladeApi extends BladeApi {\n    /**\n     * @hidden\n     */\n    constructor(controller) {\n        super(controller);\n        this.emitter_ = new Emitter();\n        this.controller.value.emitter.on('change', (ev) => {\n            this.emitter_.emit('change', new TpChangeEvent(this, ev.rawValue));\n        });\n    }\n    get label() {\n        return this.controller.labelController.props.get('label');\n    }\n    set label(label) {\n        this.controller.labelController.props.set('label', label);\n    }\n    get formatter() {\n        return this.controller.valueController.props.get('formatter');\n    }\n    set formatter(formatter) {\n        this.controller.valueController.props.set('formatter', formatter);\n    }\n    get value() {\n        return this.controller.value.rawValue;\n    }\n    set value(value) {\n        this.controller.value.rawValue = value;\n    }\n    on(eventName, handler) {\n        const bh = handler.bind(this);\n        this.emitter_.on(eventName, (ev) => {\n            bh(ev);\n        }, {\n            key: handler,\n        });\n        return this;\n    }\n    off(eventName, handler) {\n        this.emitter_.off(eventName, handler);\n        return this;\n    }\n}\n\nconst ListBladePlugin = (function () {\n    return {\n        id: 'list',\n        type: 'blade',\n        core: VERSION$1,\n        accept(params) {\n            const result = parseRecord(params, (p) => ({\n                options: p.required.custom(parseListOptions),\n                value: p.required.raw,\n                view: p.required.constant('list'),\n                label: p.optional.string,\n            }));\n            return result ? { params: result } : null;\n        },\n        controller(args) {\n            const lc = new ListConstraint(normalizeListOptions(args.params.options));\n            const value = createValue(args.params.value, {\n                constraint: lc,\n            });\n            const ic = new ListController(args.document, {\n                props: new ValueMap({\n                    options: lc.values.value('options'),\n                }),\n                value: value,\n                viewProps: args.viewProps,\n            });\n            return new LabeledValueBladeController(args.document, {\n                blade: args.blade,\n                props: ValueMap.fromObject({\n                    label: args.params.label,\n                }),\n                value: value,\n                valueController: ic,\n            });\n        },\n        api(args) {\n            if (!(args.controller instanceof LabeledValueBladeController)) {\n                return null;\n            }\n            if (!(args.controller.valueController instanceof ListController)) {\n                return null;\n            }\n            return new ListBladeApi(args.controller);\n        },\n    };\n})();\n\nclass RootApi extends FolderApi {\n    /**\n     * @hidden\n     */\n    constructor(controller, pool) {\n        super(controller, pool);\n    }\n    get element() {\n        return this.controller.view.element;\n    }\n}\n\n/**\n * @hidden\n */\nclass RootController extends FolderController {\n    constructor(doc, config) {\n        super(doc, {\n            expanded: config.expanded,\n            blade: config.blade,\n            props: config.props,\n            root: true,\n            viewProps: config.viewProps,\n        });\n    }\n}\n\nconst cn = ClassName('spr');\n/**\n * @hidden\n */\nclass SeparatorView {\n    constructor(doc, config) {\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn());\n        config.viewProps.bindClassModifiers(this.element);\n        const hrElem = doc.createElement('hr');\n        hrElem.classList.add(cn('r'));\n        this.element.appendChild(hrElem);\n    }\n}\n\n/**\n * @hidden\n */\nclass SeparatorController extends BladeController {\n    /**\n     * @hidden\n     */\n    constructor(doc, config) {\n        super(Object.assign(Object.assign({}, config), { view: new SeparatorView(doc, {\n                viewProps: config.viewProps,\n            }) }));\n    }\n}\n\nconst SeparatorBladePlugin = {\n    id: 'separator',\n    type: 'blade',\n    core: VERSION$1,\n    accept(params) {\n        const result = parseRecord(params, (p) => ({\n            view: p.required.constant('separator'),\n        }));\n        return result ? { params: result } : null;\n    },\n    controller(args) {\n        return new SeparatorController(args.document, {\n            blade: args.blade,\n            viewProps: args.viewProps,\n        });\n    },\n    api(args) {\n        if (!(args.controller instanceof SeparatorController)) {\n            return null;\n        }\n        return new SeparatorBladeApi(args.controller);\n    },\n};\n\nconst SliderBladePlugin = {\n    id: 'slider',\n    type: 'blade',\n    core: VERSION$1,\n    accept(params) {\n        const result = parseRecord(params, (p) => ({\n            max: p.required.number,\n            min: p.required.number,\n            view: p.required.constant('slider'),\n            format: p.optional.function,\n            label: p.optional.string,\n            value: p.optional.number,\n        }));\n        return result ? { params: result } : null;\n    },\n    controller(args) {\n        var _a, _b;\n        const initialValue = (_a = args.params.value) !== null && _a !== void 0 ? _a : 0;\n        const drc = new DefiniteRangeConstraint({\n            max: args.params.max,\n            min: args.params.min,\n        });\n        const v = createValue(initialValue, {\n            constraint: drc,\n        });\n        const vc = new SliderTextController(args.document, Object.assign(Object.assign({}, createSliderTextProps({\n            formatter: (_b = args.params.format) !== null && _b !== void 0 ? _b : numberToString,\n            keyScale: createValue(1),\n            max: drc.values.value('max'),\n            min: drc.values.value('min'),\n            pointerScale: getSuitablePointerScale(args.params, initialValue),\n        })), { parser: parseNumber, value: v, viewProps: args.viewProps }));\n        return new LabeledValueBladeController(args.document, {\n            blade: args.blade,\n            props: ValueMap.fromObject({\n                label: args.params.label,\n            }),\n            value: v,\n            valueController: vc,\n        });\n    },\n    api(args) {\n        if (!(args.controller instanceof LabeledValueBladeController)) {\n            return null;\n        }\n        if (!(args.controller.valueController instanceof SliderTextController)) {\n            return null;\n        }\n        return new SliderBladeApi(args.controller);\n    },\n};\n\nconst TextBladePlugin = (function () {\n    return {\n        id: 'text',\n        type: 'blade',\n        core: VERSION$1,\n        accept(params) {\n            const result = parseRecord(params, (p) => ({\n                parse: p.required.function,\n                value: p.required.raw,\n                view: p.required.constant('text'),\n                format: p.optional.function,\n                label: p.optional.string,\n            }));\n            return result ? { params: result } : null;\n        },\n        controller(args) {\n            var _a;\n            const v = createValue(args.params.value);\n            const ic = new TextController(args.document, {\n                parser: args.params.parse,\n                props: ValueMap.fromObject({\n                    formatter: (_a = args.params.format) !== null && _a !== void 0 ? _a : ((v) => String(v)),\n                }),\n                value: v,\n                viewProps: args.viewProps,\n            });\n            return new LabeledValueBladeController(args.document, {\n                blade: args.blade,\n                props: ValueMap.fromObject({\n                    label: args.params.label,\n                }),\n                value: v,\n                valueController: ic,\n            });\n        },\n        api(args) {\n            if (!(args.controller instanceof LabeledValueBladeController)) {\n                return null;\n            }\n            if (!(args.controller.valueController instanceof TextController)) {\n                return null;\n            }\n            return new TextBladeApi(args.controller);\n        },\n    };\n})();\n\nfunction createDefaultWrapperElement(doc) {\n    const elem = doc.createElement('div');\n    elem.classList.add(ClassName('dfw')());\n    if (doc.body) {\n        doc.body.appendChild(elem);\n    }\n    return elem;\n}\nfunction embedStyle(doc, id, css) {\n    if (doc.querySelector(`style[data-tp-style=${id}]`)) {\n        return;\n    }\n    const styleElem = doc.createElement('style');\n    styleElem.dataset.tpStyle = id;\n    styleElem.textContent = css;\n    doc.head.appendChild(styleElem);\n}\n/**\n * The root pane of Tweakpane.\n */\nclass Pane extends RootApi {\n    constructor(opt_config) {\n        var _a, _b;\n        const config = opt_config !== null && opt_config !== void 0 ? opt_config : {};\n        const doc = (_a = config.document) !== null && _a !== void 0 ? _a : getWindowDocument();\n        const pool = createDefaultPluginPool();\n        const rootController = new RootController(doc, {\n            expanded: config.expanded,\n            blade: createBlade(),\n            props: ValueMap.fromObject({\n                title: config.title,\n            }),\n            viewProps: ViewProps.create(),\n        });\n        super(rootController, pool);\n        this.pool_ = pool;\n        this.containerElem_ = (_b = config.container) !== null && _b !== void 0 ? _b : createDefaultWrapperElement(doc);\n        this.containerElem_.appendChild(this.element);\n        this.doc_ = doc;\n        this.usesDefaultWrapper_ = !config.container;\n        this.setUpDefaultPlugins_();\n    }\n    get document() {\n        if (!this.doc_) {\n            throw TpError.alreadyDisposed();\n        }\n        return this.doc_;\n    }\n    dispose() {\n        const containerElem = this.containerElem_;\n        if (!containerElem) {\n            throw TpError.alreadyDisposed();\n        }\n        if (this.usesDefaultWrapper_) {\n            const parentElem = containerElem.parentElement;\n            if (parentElem) {\n                parentElem.removeChild(containerElem);\n            }\n        }\n        this.containerElem_ = null;\n        this.doc_ = null;\n        super.dispose();\n    }\n    registerPlugin(bundle) {\n        if (bundle.css) {\n            embedStyle(this.document, `plugin-${bundle.id}`, bundle.css);\n        }\n        const plugins = 'plugin' in bundle\n            ? [bundle.plugin]\n            : 'plugins' in bundle\n                ? bundle.plugins\n                : [];\n        plugins.forEach((p) => {\n            this.pool_.register(bundle.id, p);\n        });\n    }\n    setUpDefaultPlugins_() {\n        this.registerPlugin({\n            id: 'default',\n            // NOTE: This string literal will be replaced with the default CSS by Rollup at the compilation time\n            css: '.tp-tbiv_b,.tp-coltxtv_ms,.tp-colswv_b,.tp-ckbv_i,.tp-sglv_i,.tp-mllv_i,.tp-grlv_g,.tp-txtv_i,.tp-p2dpv_p,.tp-colswv_sw,.tp-rotv_b,.tp-fldv_b,.tp-p2dv_b,.tp-btnv_b,.tp-lstv_s{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:rgba(0,0,0,0);border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-p2dv_b,.tp-btnv_b,.tp-lstv_s{background-color:var(--btn-bg);border-radius:var(--bld-br);color:var(--btn-fg);cursor:pointer;display:block;font-weight:bold;height:var(--cnt-usz);line-height:var(--cnt-usz);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-p2dv_b:hover,.tp-btnv_b:hover,.tp-lstv_s:hover{background-color:var(--btn-bg-h)}.tp-p2dv_b:focus,.tp-btnv_b:focus,.tp-lstv_s:focus{background-color:var(--btn-bg-f)}.tp-p2dv_b:active,.tp-btnv_b:active,.tp-lstv_s:active{background-color:var(--btn-bg-a)}.tp-p2dv_b:disabled,.tp-btnv_b:disabled,.tp-lstv_s:disabled{opacity:.5}.tp-rotv_c>.tp-cntv.tp-v-lst,.tp-tbpv_c>.tp-cntv.tp-v-lst,.tp-fldv_c>.tp-cntv.tp-v-lst{margin-bottom:calc(-1*var(--cnt-vp))}.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-tbpv_c>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_c{border-bottom-left-radius:0}.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-tbpv_c>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_b{border-bottom-left-radius:0}.tp-rotv_c>*:not(.tp-v-fst),.tp-tbpv_c>*:not(.tp-v-fst),.tp-fldv_c>*:not(.tp-v-fst){margin-top:var(--cnt-usp)}.tp-rotv_c>.tp-sprv:not(.tp-v-fst),.tp-tbpv_c>.tp-sprv:not(.tp-v-fst),.tp-fldv_c>.tp-sprv:not(.tp-v-fst),.tp-rotv_c>.tp-cntv:not(.tp-v-fst),.tp-tbpv_c>.tp-cntv:not(.tp-v-fst),.tp-fldv_c>.tp-cntv:not(.tp-v-fst){margin-top:var(--cnt-vp)}.tp-rotv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-tbpv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-rotv_c>.tp-cntv+*:not(.tp-v-hidden),.tp-tbpv_c>.tp-cntv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-cntv+*:not(.tp-v-hidden){margin-top:var(--cnt-vp)}.tp-rotv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-tbpv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-fldv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-rotv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-tbpv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-fldv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv{margin-top:0}.tp-tbpv_c>.tp-cntv,.tp-fldv_c>.tp-cntv{margin-left:4px}.tp-tbpv_c>.tp-fldv>.tp-fldv_b,.tp-fldv_c>.tp-fldv>.tp-fldv_b{border-top-left-radius:var(--bld-br);border-bottom-left-radius:var(--bld-br)}.tp-tbpv_c>.tp-fldv.tp-fldv-expanded>.tp-fldv_b,.tp-fldv_c>.tp-fldv.tp-fldv-expanded>.tp-fldv_b{border-bottom-left-radius:0}.tp-tbpv_c .tp-fldv>.tp-fldv_c,.tp-fldv_c .tp-fldv>.tp-fldv_c{border-bottom-left-radius:var(--bld-br)}.tp-tbpv_c>.tp-cntv+.tp-fldv>.tp-fldv_b,.tp-fldv_c>.tp-cntv+.tp-fldv>.tp-fldv_b{border-top-left-radius:0}.tp-tbpv_c>.tp-cntv+.tp-tabv>.tp-tabv_t,.tp-fldv_c>.tp-cntv+.tp-tabv>.tp-tabv_t{border-top-left-radius:0}.tp-tbpv_c>.tp-tabv>.tp-tabv_t,.tp-fldv_c>.tp-tabv>.tp-tabv_t{border-top-left-radius:var(--bld-br)}.tp-tbpv_c .tp-tabv>.tp-tabv_c,.tp-fldv_c .tp-tabv>.tp-tabv_c{border-bottom-left-radius:var(--bld-br)}.tp-rotv_b,.tp-fldv_b{background-color:var(--cnt-bg);color:var(--cnt-fg);cursor:pointer;display:block;height:calc(var(--cnt-usz) + 4px);line-height:calc(var(--cnt-usz) + 4px);overflow:hidden;padding-left:var(--cnt-hp);padding-right:calc(4px + var(--cnt-usz) + var(--cnt-hp));position:relative;text-align:left;text-overflow:ellipsis;white-space:nowrap;width:100%;transition:border-radius .2s ease-in-out .2s}.tp-rotv_b:hover,.tp-fldv_b:hover{background-color:var(--cnt-bg-h)}.tp-rotv_b:focus,.tp-fldv_b:focus{background-color:var(--cnt-bg-f)}.tp-rotv_b:active,.tp-fldv_b:active{background-color:var(--cnt-bg-a)}.tp-rotv_b:disabled,.tp-fldv_b:disabled{opacity:.5}.tp-rotv_m,.tp-fldv_m{background:linear-gradient(to left, var(--cnt-fg), var(--cnt-fg) 2px, transparent 2px, transparent 4px, var(--cnt-fg) 4px);border-radius:2px;bottom:0;content:\"\";display:block;height:6px;right:calc(var(--cnt-hp) + (var(--cnt-usz) + 4px - 6px)/2 - 2px);margin:auto;opacity:.5;position:absolute;top:0;transform:rotate(90deg);transition:transform .2s ease-in-out;width:6px}.tp-rotv.tp-rotv-expanded .tp-rotv_m,.tp-fldv.tp-fldv-expanded>.tp-fldv_b>.tp-fldv_m{transform:none}.tp-rotv_c,.tp-fldv_c{box-sizing:border-box;height:0;opacity:0;overflow:hidden;padding-bottom:0;padding-top:0;position:relative;transition:height .2s ease-in-out,opacity .2s linear,padding .2s ease-in-out}.tp-rotv.tp-rotv-cpl:not(.tp-rotv-expanded) .tp-rotv_c,.tp-fldv.tp-fldv-cpl:not(.tp-fldv-expanded)>.tp-fldv_c{display:none}.tp-rotv.tp-rotv-expanded .tp-rotv_c,.tp-fldv.tp-fldv-expanded>.tp-fldv_c{opacity:1;padding-bottom:var(--cnt-vp);padding-top:var(--cnt-vp);transform:none;overflow:visible;transition:height .2s ease-in-out,opacity .2s linear .2s,padding .2s ease-in-out}.tp-txtv_i,.tp-p2dpv_p,.tp-colswv_sw{background-color:var(--in-bg);border-radius:var(--bld-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--cnt-usz);line-height:var(--cnt-usz);min-width:0;width:100%}.tp-txtv_i:hover,.tp-p2dpv_p:hover,.tp-colswv_sw:hover{background-color:var(--in-bg-h)}.tp-txtv_i:focus,.tp-p2dpv_p:focus,.tp-colswv_sw:focus{background-color:var(--in-bg-f)}.tp-txtv_i:active,.tp-p2dpv_p:active,.tp-colswv_sw:active{background-color:var(--in-bg-a)}.tp-txtv_i:disabled,.tp-p2dpv_p:disabled,.tp-colswv_sw:disabled{opacity:.5}.tp-lstv,.tp-coltxtv_m{position:relative}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-lstv_m,.tp-coltxtv_mm{bottom:0;margin:auto;pointer-events:none;position:absolute;right:2px;top:0}.tp-lstv_m svg,.tp-coltxtv_mm svg{bottom:0;height:16px;margin:auto;position:absolute;right:0;top:0;width:16px}.tp-lstv_m svg path,.tp-coltxtv_mm svg path{fill:currentColor}.tp-sglv_i,.tp-mllv_i,.tp-grlv_g{background-color:var(--mo-bg);border-radius:var(--bld-br);box-sizing:border-box;color:var(--mo-fg);height:var(--cnt-usz);scrollbar-color:currentColor rgba(0,0,0,0);scrollbar-width:thin;width:100%}.tp-sglv_i::-webkit-scrollbar,.tp-mllv_i::-webkit-scrollbar,.tp-grlv_g::-webkit-scrollbar{height:8px;width:8px}.tp-sglv_i::-webkit-scrollbar-corner,.tp-mllv_i::-webkit-scrollbar-corner,.tp-grlv_g::-webkit-scrollbar-corner{background-color:rgba(0,0,0,0)}.tp-sglv_i::-webkit-scrollbar-thumb,.tp-mllv_i::-webkit-scrollbar-thumb,.tp-grlv_g::-webkit-scrollbar-thumb{background-clip:padding-box;background-color:currentColor;border:rgba(0,0,0,0) solid 2px;border-radius:4px}.tp-pndtxtv,.tp-coltxtv_w{display:flex}.tp-pndtxtv_a,.tp-coltxtv_c{width:100%}.tp-pndtxtv_a+.tp-pndtxtv_a,.tp-coltxtv_c+.tp-pndtxtv_a,.tp-pndtxtv_a+.tp-coltxtv_c,.tp-coltxtv_c+.tp-coltxtv_c{margin-left:2px}.tp-rotv{--bs-bg: var(--tp-base-background-color, hsl(230, 7%, 17%));--bs-br: var(--tp-base-border-radius, 6px);--bs-ff: var(--tp-base-font-family, Roboto Mono, Source Code Pro, Menlo, Courier, monospace);--bs-sh: var(--tp-base-shadow-color, rgba(0, 0, 0, 0.2));--bld-br: var(--tp-blade-border-radius, 2px);--bld-hp: var(--tp-blade-horizontal-padding, 4px);--bld-vw: var(--tp-blade-value-width, 160px);--btn-bg: var(--tp-button-background-color, hsl(230, 7%, 70%));--btn-bg-a: var(--tp-button-background-color-active, #d6d7db);--btn-bg-f: var(--tp-button-background-color-focus, #c8cad0);--btn-bg-h: var(--tp-button-background-color-hover, #bbbcc4);--btn-fg: var(--tp-button-foreground-color, hsl(230, 7%, 17%));--cnt-bg: var(--tp-container-background-color, rgba(187, 188, 196, 0.1));--cnt-bg-a: var(--tp-container-background-color-active, rgba(187, 188, 196, 0.25));--cnt-bg-f: var(--tp-container-background-color-focus, rgba(187, 188, 196, 0.2));--cnt-bg-h: var(--tp-container-background-color-hover, rgba(187, 188, 196, 0.15));--cnt-fg: var(--tp-container-foreground-color, hsl(230, 7%, 75%));--cnt-hp: var(--tp-container-horizontal-padding, 4px);--cnt-vp: var(--tp-container-vertical-padding, 4px);--cnt-usp: var(--tp-container-unit-spacing, 4px);--cnt-usz: var(--tp-container-unit-size, 20px);--in-bg: var(--tp-input-background-color, rgba(187, 188, 196, 0.1));--in-bg-a: var(--tp-input-background-color-active, rgba(187, 188, 196, 0.25));--in-bg-f: var(--tp-input-background-color-focus, rgba(187, 188, 196, 0.2));--in-bg-h: var(--tp-input-background-color-hover, rgba(187, 188, 196, 0.15));--in-fg: var(--tp-input-foreground-color, hsl(230, 7%, 75%));--lbl-fg: var(--tp-label-foreground-color, rgba(187, 188, 196, 0.7));--mo-bg: var(--tp-monitor-background-color, rgba(0, 0, 0, 0.2));--mo-fg: var(--tp-monitor-foreground-color, rgba(187, 188, 196, 0.7));--grv-fg: var(--tp-groove-foreground-color, rgba(187, 188, 196, 0.1))}.tp-btnv_b{width:100%}.tp-btnv_t{text-align:center}.tp-ckbv_l{display:block;position:relative}.tp-ckbv_i{left:0;opacity:0;position:absolute;top:0}.tp-ckbv_w{background-color:var(--in-bg);border-radius:var(--bld-br);cursor:pointer;display:block;height:var(--cnt-usz);position:relative;width:var(--cnt-usz)}.tp-ckbv_w svg{bottom:0;display:block;height:16px;left:0;margin:auto;opacity:0;position:absolute;right:0;top:0;width:16px}.tp-ckbv_w svg path{fill:none;stroke:var(--in-fg);stroke-width:2}.tp-ckbv_i:hover+.tp-ckbv_w{background-color:var(--in-bg-h)}.tp-ckbv_i:focus+.tp-ckbv_w{background-color:var(--in-bg-f)}.tp-ckbv_i:active+.tp-ckbv_w{background-color:var(--in-bg-a)}.tp-ckbv_i:checked+.tp-ckbv_w svg{opacity:1}.tp-ckbv.tp-v-disabled .tp-ckbv_w{opacity:.5}.tp-colv{position:relative}.tp-colv_h{display:flex}.tp-colv_s{flex-grow:0;flex-shrink:0;width:var(--cnt-usz)}.tp-colv_t{flex:1;margin-left:4px}.tp-colv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-colv.tp-colv-expanded.tp-colv-cpl .tp-colv_p{overflow:visible}.tp-colv.tp-colv-expanded .tp-colv_p{margin-top:var(--cnt-usp);opacity:1}.tp-colv .tp-popv{left:calc(-1*var(--cnt-hp));right:calc(-1*var(--cnt-hp));top:var(--cnt-usz)}.tp-colpv_h,.tp-colpv_ap{margin-left:6px;margin-right:6px}.tp-colpv_h{margin-top:var(--cnt-usp)}.tp-colpv_rgb{display:flex;margin-top:var(--cnt-usp);width:100%}.tp-colpv_a{display:flex;margin-top:var(--cnt-vp);padding-top:calc(var(--cnt-vp) + 2px);position:relative}.tp-colpv_a::before{background-color:var(--grv-fg);content:\"\";height:2px;left:calc(-1*var(--cnt-hp));position:absolute;right:calc(-1*var(--cnt-hp));top:0}.tp-colpv.tp-v-disabled .tp-colpv_a::before{opacity:.5}.tp-colpv_ap{align-items:center;display:flex;flex:3}.tp-colpv_at{flex:1;margin-left:4px}.tp-svpv{border-radius:var(--bld-br);outline:none;overflow:hidden;position:relative}.tp-svpv.tp-v-disabled{opacity:.5}.tp-svpv_c{cursor:crosshair;display:block;height:calc(var(--cnt-usz)*4);width:100%}.tp-svpv_m{border-radius:100%;border:rgba(255,255,255,.75) solid 2px;box-sizing:border-box;filter:drop-shadow(0 0 1px rgba(0, 0, 0, 0.3));height:12px;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;width:12px}.tp-svpv:focus .tp-svpv_m{border-color:#fff}.tp-hplv{cursor:pointer;height:var(--cnt-usz);outline:none;position:relative}.tp-hplv.tp-v-disabled{opacity:.5}.tp-hplv_c{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAABCAYAAABubagXAAAAQ0lEQVQoU2P8z8Dwn0GCgQEDi2OK/RBgYHjBgIpfovFh8j8YBIgzFGQxuqEgPhaDOT5gOhPkdCxOZeBg+IDFZZiGAgCaSSMYtcRHLgAAAABJRU5ErkJggg==);background-position:left top;background-repeat:no-repeat;background-size:100% 100%;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;position:absolute;top:50%;width:100%}.tp-hplv_m{border-radius:var(--bld-br);border:rgba(255,255,255,.75) solid 2px;box-shadow:0 0 2px rgba(0,0,0,.1);box-sizing:border-box;height:12px;left:50%;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;top:50%;width:12px}.tp-hplv:focus .tp-hplv_m{border-color:#fff}.tp-aplv{cursor:pointer;height:var(--cnt-usz);outline:none;position:relative;width:100%}.tp-aplv.tp-v-disabled{opacity:.5}.tp-aplv_b{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:4px 4px;background-position:0 0,2px 2px;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;overflow:hidden;position:absolute;top:50%;width:100%}.tp-aplv_c{bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv_m{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:12px 12px;background-position:0 0,6px 6px;border-radius:var(--bld-br);box-shadow:0 0 2px rgba(0,0,0,.1);height:12px;left:50%;margin-left:-6px;margin-top:-6px;overflow:hidden;pointer-events:none;position:absolute;top:50%;width:12px}.tp-aplv_p{border-radius:var(--bld-br);border:rgba(255,255,255,.75) solid 2px;box-sizing:border-box;bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv:focus .tp-aplv_p{border-color:#fff}.tp-colswv{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:10px 10px;background-position:0 0,5px 5px;border-radius:var(--bld-br);overflow:hidden}.tp-colswv.tp-v-disabled{opacity:.5}.tp-colswv_sw{border-radius:0}.tp-colswv_b{cursor:pointer;display:block;height:var(--cnt-usz);left:0;position:absolute;top:0;width:var(--cnt-usz)}.tp-colswv_b:focus::after{border:rgba(255,255,255,.75) solid 2px;border-radius:var(--bld-br);bottom:0;content:\"\";display:block;left:0;position:absolute;right:0;top:0}.tp-coltxtv{display:flex;width:100%}.tp-coltxtv_m{margin-right:4px}.tp-coltxtv_ms{border-radius:var(--bld-br);color:var(--lbl-fg);cursor:pointer;height:var(--cnt-usz);line-height:var(--cnt-usz);padding:0 18px 0 4px}.tp-coltxtv_ms:hover{background-color:var(--in-bg-h)}.tp-coltxtv_ms:focus{background-color:var(--in-bg-f)}.tp-coltxtv_ms:active{background-color:var(--in-bg-a)}.tp-coltxtv_mm{color:var(--lbl-fg)}.tp-coltxtv.tp-v-disabled .tp-coltxtv_mm{opacity:.5}.tp-coltxtv_w{flex:1}.tp-dfwv{position:absolute;top:8px;right:8px;width:256px}.tp-fldv{position:relative}.tp-fldv_t{padding-left:4px}.tp-fldv_b:disabled .tp-fldv_m{display:none}.tp-fldv_c{padding-left:4px}.tp-fldv_i{bottom:0;color:var(--cnt-bg);left:0;overflow:hidden;position:absolute;top:calc(var(--cnt-usz) + 4px);width:max(var(--bs-br),4px)}.tp-fldv_i::before{background-color:currentColor;bottom:0;content:\"\";left:0;position:absolute;top:0;width:4px}.tp-fldv_b:hover+.tp-fldv_i{color:var(--cnt-bg-h)}.tp-fldv_b:focus+.tp-fldv_i{color:var(--cnt-bg-f)}.tp-fldv_b:active+.tp-fldv_i{color:var(--cnt-bg-a)}.tp-fldv.tp-v-disabled>.tp-fldv_i{opacity:.5}.tp-grlv{position:relative}.tp-grlv_g{display:block;height:calc(var(--cnt-usz)*3)}.tp-grlv_g polyline{fill:none;stroke:var(--mo-fg);stroke-linejoin:round}.tp-grlv_t{margin-top:-4px;transition:left .05s,top .05s;visibility:hidden}.tp-grlv_t.tp-grlv_t-a{visibility:visible}.tp-grlv_t.tp-grlv_t-in{transition:none}.tp-grlv.tp-v-disabled .tp-grlv_g{opacity:.5}.tp-grlv .tp-ttv{background-color:var(--mo-fg)}.tp-grlv .tp-ttv::before{border-top-color:var(--mo-fg)}.tp-lblv{align-items:center;display:flex;line-height:1.3;padding-left:var(--cnt-hp);padding-right:var(--cnt-hp)}.tp-lblv.tp-lblv-nol{display:block}.tp-lblv_l{color:var(--lbl-fg);flex:1;-webkit-hyphens:auto;hyphens:auto;overflow:hidden;padding-left:4px;padding-right:16px}.tp-lblv.tp-v-disabled .tp-lblv_l{opacity:.5}.tp-lblv.tp-lblv-nol .tp-lblv_l{display:none}.tp-lblv_v{align-self:flex-start;flex-grow:0;flex-shrink:0;width:var(--bld-vw)}.tp-lblv.tp-lblv-nol .tp-lblv_v{width:100%}.tp-lstv_s{padding:0 20px 0 var(--bld-hp);width:100%}.tp-lstv_m{color:var(--btn-fg)}.tp-sglv_i{padding-left:var(--bld-hp);padding-right:var(--bld-hp)}.tp-sglv.tp-v-disabled .tp-sglv_i{opacity:.5}.tp-mllv_i{display:block;height:calc(var(--cnt-usz)*3);line-height:var(--cnt-usz);padding-left:var(--bld-hp);padding-right:var(--bld-hp);resize:none;white-space:pre}.tp-mllv.tp-v-disabled .tp-mllv_i{opacity:.5}.tp-p2dv{position:relative}.tp-p2dv_h{display:flex}.tp-p2dv_b{height:var(--cnt-usz);margin-right:4px;position:relative;width:var(--cnt-usz)}.tp-p2dv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-p2dv_b svg path{stroke:currentColor;stroke-width:2}.tp-p2dv_b svg circle{fill:currentColor}.tp-p2dv_t{flex:1}.tp-p2dv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-p2dv.tp-p2dv-expanded .tp-p2dv_p{margin-top:var(--cnt-usp);opacity:1}.tp-p2dv .tp-popv{left:calc(-1*var(--cnt-hp));right:calc(-1*var(--cnt-hp));top:var(--cnt-usz)}.tp-p2dpv{padding-left:calc(var(--cnt-usz) + 4px)}.tp-p2dpv_p{cursor:crosshair;height:0;overflow:hidden;padding-bottom:100%;position:relative}.tp-p2dpv.tp-v-disabled .tp-p2dpv_p{opacity:.5}.tp-p2dpv_g{display:block;height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.tp-p2dpv_ax{opacity:.1;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_l{opacity:.5;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_m{border:var(--in-fg) solid 1px;border-radius:50%;box-sizing:border-box;height:4px;margin-left:-2px;margin-top:-2px;position:absolute;width:4px}.tp-p2dpv_p:focus .tp-p2dpv_m{background-color:var(--in-fg);border-width:0}.tp-popv{background-color:var(--bs-bg);border-radius:var(--bs-br);box-shadow:0 2px 4px var(--bs-sh);display:none;max-width:var(--bld-vw);padding:var(--cnt-vp) var(--cnt-hp);position:absolute;visibility:hidden;z-index:1000}.tp-popv.tp-popv-v{display:block;visibility:visible}.tp-sldv.tp-v-disabled{opacity:.5}.tp-sldv_t{box-sizing:border-box;cursor:pointer;height:var(--cnt-usz);margin:0 6px;outline:none;position:relative}.tp-sldv_t::before{background-color:var(--in-bg);border-radius:1px;bottom:0;content:\"\";display:block;height:2px;left:0;margin:auto;position:absolute;right:0;top:0}.tp-sldv_k{height:100%;left:0;position:absolute;top:0}.tp-sldv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:\"\";display:block;height:2px;left:0;margin-bottom:auto;margin-top:auto;position:absolute;right:0;top:0}.tp-sldv_k::after{background-color:var(--btn-bg);border-radius:var(--bld-br);bottom:0;content:\"\";display:block;height:12px;margin-bottom:auto;margin-top:auto;position:absolute;right:-6px;top:0;width:12px}.tp-sldv_t:hover .tp-sldv_k::after{background-color:var(--btn-bg-h)}.tp-sldv_t:focus .tp-sldv_k::after{background-color:var(--btn-bg-f)}.tp-sldv_t:active .tp-sldv_k::after{background-color:var(--btn-bg-a)}.tp-sldtxtv{display:flex}.tp-sldtxtv_s{flex:2}.tp-sldtxtv_t{flex:1;margin-left:4px}.tp-tabv{position:relative}.tp-tabv_t{align-items:flex-end;color:var(--cnt-bg);display:flex;overflow:hidden;position:relative}.tp-tabv_t:hover{color:var(--cnt-bg-h)}.tp-tabv_t:has(*:focus){color:var(--cnt-bg-f)}.tp-tabv_t:has(*:active){color:var(--cnt-bg-a)}.tp-tabv_t::before{background-color:currentColor;bottom:0;content:\"\";height:2px;left:0;pointer-events:none;position:absolute;right:0}.tp-tabv.tp-v-disabled .tp-tabv_t::before{opacity:.5}.tp-tabv.tp-tabv-nop .tp-tabv_t{height:calc(var(--cnt-usz) + 4px);position:relative}.tp-tabv.tp-tabv-nop .tp-tabv_t::before{background-color:var(--cnt-bg);bottom:0;content:\"\";height:2px;left:0;position:absolute;right:0}.tp-tabv_i{bottom:0;color:var(--cnt-bg);left:0;overflow:hidden;position:absolute;top:calc(var(--cnt-usz) + 4px);width:max(var(--bs-br),4px)}.tp-tabv_i::before{background-color:currentColor;bottom:0;content:\"\";left:0;position:absolute;top:0;width:4px}.tp-tabv_t:hover+.tp-tabv_i{color:var(--cnt-bg-h)}.tp-tabv_t:has(*:focus)+.tp-tabv_i{color:var(--cnt-bg-f)}.tp-tabv_t:has(*:active)+.tp-tabv_i{color:var(--cnt-bg-a)}.tp-tabv.tp-v-disabled>.tp-tabv_i{opacity:.5}.tp-tbiv{flex:1;min-width:0;position:relative}.tp-tbiv+.tp-tbiv{margin-left:2px}.tp-tbiv+.tp-tbiv.tp-v-disabled::before{opacity:.5}.tp-tbiv_b{display:block;padding-left:calc(var(--cnt-hp) + 4px);padding-right:calc(var(--cnt-hp) + 4px);position:relative;width:100%}.tp-tbiv_b:disabled{opacity:.5}.tp-tbiv_b::before{background-color:var(--cnt-bg);bottom:2px;content:\"\";left:0;pointer-events:none;position:absolute;right:0;top:0}.tp-tbiv_b:hover::before{background-color:var(--cnt-bg-h)}.tp-tbiv_b:focus::before{background-color:var(--cnt-bg-f)}.tp-tbiv_b:active::before{background-color:var(--cnt-bg-a)}.tp-tbiv_t{color:var(--cnt-fg);height:calc(var(--cnt-usz) + 4px);line-height:calc(var(--cnt-usz) + 4px);opacity:.5;overflow:hidden;position:relative;text-overflow:ellipsis}.tp-tbiv.tp-tbiv-sel .tp-tbiv_t{opacity:1}.tp-tbpv_c{padding-bottom:var(--cnt-vp);padding-left:4px;padding-top:var(--cnt-vp)}.tp-txtv{position:relative}.tp-txtv_i{padding-left:var(--bld-hp);padding-right:var(--bld-hp)}.tp-txtv.tp-txtv-fst .tp-txtv_i{border-bottom-right-radius:0;border-top-right-radius:0}.tp-txtv.tp-txtv-mid .tp-txtv_i{border-radius:0}.tp-txtv.tp-txtv-lst .tp-txtv_i{border-bottom-left-radius:0;border-top-left-radius:0}.tp-txtv.tp-txtv-num .tp-txtv_i{text-align:right}.tp-txtv.tp-txtv-drg .tp-txtv_i{opacity:.3}.tp-txtv_k{cursor:pointer;height:100%;left:calc(var(--bld-hp) - 5px);position:absolute;top:0;width:12px}.tp-txtv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:\"\";height:calc(var(--cnt-usz) - 4px);left:50%;margin-bottom:auto;margin-left:-1px;margin-top:auto;opacity:.1;position:absolute;top:0;transition:border-radius .1s,height .1s,transform .1s,width .1s;width:2px}.tp-txtv_k:hover::before,.tp-txtv.tp-txtv-drg .tp-txtv_k::before{opacity:1}.tp-txtv.tp-txtv-drg .tp-txtv_k::before{border-radius:50%;height:4px;transform:translateX(-1px);width:4px}.tp-txtv_g{bottom:0;display:block;height:8px;left:50%;margin:auto;overflow:visible;pointer-events:none;position:absolute;top:0;visibility:hidden;width:100%}.tp-txtv.tp-txtv-drg .tp-txtv_g{visibility:visible}.tp-txtv_gb{fill:none;stroke:var(--in-fg);stroke-dasharray:1}.tp-txtv_gh{fill:none;stroke:var(--in-fg)}.tp-txtv .tp-ttv{margin-left:6px;visibility:hidden}.tp-txtv.tp-txtv-drg .tp-ttv{visibility:visible}.tp-ttv{background-color:var(--in-fg);border-radius:var(--bld-br);color:var(--bs-bg);padding:2px 4px;pointer-events:none;position:absolute;transform:translate(-50%, -100%)}.tp-ttv::before{border-color:var(--in-fg) rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0);border-style:solid;border-width:2px;box-sizing:border-box;content:\"\";font-size:.9em;height:4px;left:50%;margin-left:-2px;position:absolute;top:100%;width:4px}.tp-rotv{background-color:var(--bs-bg);border-radius:var(--bs-br);box-shadow:0 2px 4px var(--bs-sh);font-family:var(--bs-ff);font-size:11px;font-weight:500;line-height:1;text-align:left}.tp-rotv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br);border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br);padding-left:calc(4px + var(--cnt-usz) + var(--cnt-hp));text-align:center}.tp-rotv.tp-rotv-expanded .tp-rotv_b{border-bottom-left-radius:0;border-bottom-right-radius:0;transition-delay:0s;transition-duration:0s}.tp-rotv.tp-rotv-not>.tp-rotv_b{display:none}.tp-rotv_b:disabled .tp-rotv_m{display:none}.tp-rotv_c>.tp-fldv.tp-v-lst>.tp-fldv_c{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst>.tp-fldv_i{border-bottom-left-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst.tp-fldv-expanded>.tp-fldv_b{transition-delay:0s;transition-duration:0s}.tp-rotv_c .tp-fldv.tp-v-vlst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-right-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst{margin-top:calc(-1*var(--cnt-vp))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst>.tp-fldv_b{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv_c>.tp-tabv.tp-v-lst>.tp-tabv_c{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-tabv.tp-v-lst>.tp-tabv_i{border-bottom-left-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst{margin-top:calc(-1*var(--cnt-vp))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst>.tp-tabv_t{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv.tp-v-disabled,.tp-rotv .tp-v-disabled{pointer-events:none}.tp-rotv.tp-v-hidden,.tp-rotv .tp-v-hidden{display:none}.tp-sprv_r{background-color:var(--grv-fg);border-width:0;display:block;height:2px;margin:0;width:100%}.tp-sprv.tp-v-disabled .tp-sprv_r{opacity:.5}',\n            plugins: [\n                ListBladePlugin,\n                SeparatorBladePlugin,\n                SliderBladePlugin,\n                TabBladePlugin,\n                TextBladePlugin,\n            ],\n        });\n    }\n}\n\nconst VERSION = new Semver('4.0.3');\n\nexport { BladeApi, ButtonApi, FolderApi, ListBladeApi, ListInputBindingApi, Pane, Semver, SeparatorBladeApi, SliderBladeApi, SliderInputBindingApi, TabApi, TabPageApi, TextBladeApi, TpChangeEvent, VERSION };\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"7y0Ew\")).toString();","function forceCast(v) {\n    return v;\n}\nfunction isEmpty(value) {\n    return value === null || value === undefined;\n}\nfunction isObject$1(value) {\n    return value !== null && typeof value === 'object';\n}\nfunction isRecord(value) {\n    return value !== null && typeof value === 'object';\n}\nfunction deepEqualsArray(a1, a2) {\n    if (a1.length !== a2.length) {\n        return false;\n    }\n    for (let i = 0; i < a1.length; i++) {\n        if (a1[i] !== a2[i]) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction deepMerge(r1, r2) {\n    const keys = Array.from(new Set([...Object.keys(r1), ...Object.keys(r2)]));\n    return keys.reduce((result, key) => {\n        const v1 = r1[key];\n        const v2 = r2[key];\n        return isRecord(v1) && isRecord(v2)\n            ? Object.assign(Object.assign({}, result), { [key]: deepMerge(v1, v2) }) : Object.assign(Object.assign({}, result), { [key]: key in r2 ? v2 : v1 });\n    }, {});\n}\n\nfunction isBinding(value) {\n    if (!isObject$1(value)) {\n        return false;\n    }\n    return 'target' in value;\n}\n\nconst CREATE_MESSAGE_MAP = {\n    alreadydisposed: () => 'View has been already disposed',\n    invalidparams: (context) => `Invalid parameters for '${context.name}'`,\n    nomatchingcontroller: (context) => `No matching controller for '${context.key}'`,\n    nomatchingview: (context) => `No matching view for '${JSON.stringify(context.params)}'`,\n    notbindable: () => `Value is not bindable`,\n    notcompatible: (context) => `Not compatible with  plugin '${context.id}'`,\n    propertynotfound: (context) => `Property '${context.name}' not found`,\n    shouldneverhappen: () => 'This error should never happen',\n};\nclass TpError {\n    static alreadyDisposed() {\n        return new TpError({ type: 'alreadydisposed' });\n    }\n    static notBindable() {\n        return new TpError({\n            type: 'notbindable',\n        });\n    }\n    static notCompatible(bundleId, id) {\n        return new TpError({\n            type: 'notcompatible',\n            context: {\n                id: `${bundleId}.${id}`,\n            },\n        });\n    }\n    static propertyNotFound(name) {\n        return new TpError({\n            type: 'propertynotfound',\n            context: {\n                name: name,\n            },\n        });\n    }\n    static shouldNeverHappen() {\n        return new TpError({ type: 'shouldneverhappen' });\n    }\n    constructor(config) {\n        var _a;\n        this.message =\n            (_a = CREATE_MESSAGE_MAP[config.type](forceCast(config.context))) !== null && _a !== void 0 ? _a : 'Unexpected error';\n        this.name = this.constructor.name;\n        this.stack = new Error(this.message).stack;\n        this.type = config.type;\n    }\n    toString() {\n        return this.message;\n    }\n}\n\nclass BindingTarget {\n    constructor(obj, key) {\n        this.obj_ = obj;\n        this.key = key;\n    }\n    static isBindable(obj) {\n        if (obj === null) {\n            return false;\n        }\n        if (typeof obj !== 'object' && typeof obj !== 'function') {\n            return false;\n        }\n        return true;\n    }\n    read() {\n        return this.obj_[this.key];\n    }\n    write(value) {\n        this.obj_[this.key] = value;\n    }\n    writeProperty(name, value) {\n        const valueObj = this.read();\n        if (!BindingTarget.isBindable(valueObj)) {\n            throw TpError.notBindable();\n        }\n        if (!(name in valueObj)) {\n            throw TpError.propertyNotFound(name);\n        }\n        valueObj[name] = value;\n    }\n}\n\nclass Emitter {\n    constructor() {\n        this.observers_ = {};\n    }\n    on(eventName, handler) {\n        let observers = this.observers_[eventName];\n        if (!observers) {\n            observers = this.observers_[eventName] = [];\n        }\n        observers.push({\n            handler: handler,\n        });\n        return this;\n    }\n    off(eventName, handler) {\n        const observers = this.observers_[eventName];\n        if (observers) {\n            this.observers_[eventName] = observers.filter((observer) => {\n                return observer.handler !== handler;\n            });\n        }\n        return this;\n    }\n    emit(eventName, event) {\n        const observers = this.observers_[eventName];\n        if (!observers) {\n            return;\n        }\n        observers.forEach((observer) => {\n            observer.handler(event);\n        });\n    }\n}\n\nclass ComplexValue {\n    constructor(initialValue, config) {\n        var _a;\n        this.constraint_ = config === null || config === void 0 ? void 0 : config.constraint;\n        this.equals_ = (_a = config === null || config === void 0 ? void 0 : config.equals) !== null && _a !== void 0 ? _a : ((v1, v2) => v1 === v2);\n        this.emitter = new Emitter();\n        this.rawValue_ = initialValue;\n    }\n    get constraint() {\n        return this.constraint_;\n    }\n    get rawValue() {\n        return this.rawValue_;\n    }\n    set rawValue(rawValue) {\n        this.setRawValue(rawValue, {\n            forceEmit: false,\n            last: true,\n        });\n    }\n    setRawValue(rawValue, options) {\n        const opts = options !== null && options !== void 0 ? options : {\n            forceEmit: false,\n            last: true,\n        };\n        const constrainedValue = this.constraint_\n            ? this.constraint_.constrain(rawValue)\n            : rawValue;\n        const prevValue = this.rawValue_;\n        const changed = !this.equals_(prevValue, constrainedValue);\n        if (!changed && !opts.forceEmit) {\n            return;\n        }\n        this.emitter.emit('beforechange', {\n            sender: this,\n        });\n        this.rawValue_ = constrainedValue;\n        this.emitter.emit('change', {\n            options: opts,\n            previousRawValue: prevValue,\n            rawValue: constrainedValue,\n            sender: this,\n        });\n    }\n}\n\nclass PrimitiveValue {\n    constructor(initialValue) {\n        this.emitter = new Emitter();\n        this.value_ = initialValue;\n    }\n    get rawValue() {\n        return this.value_;\n    }\n    set rawValue(value) {\n        this.setRawValue(value, {\n            forceEmit: false,\n            last: true,\n        });\n    }\n    setRawValue(value, options) {\n        const opts = options !== null && options !== void 0 ? options : {\n            forceEmit: false,\n            last: true,\n        };\n        const prevValue = this.value_;\n        if (prevValue === value && !opts.forceEmit) {\n            return;\n        }\n        this.emitter.emit('beforechange', {\n            sender: this,\n        });\n        this.value_ = value;\n        this.emitter.emit('change', {\n            options: opts,\n            previousRawValue: prevValue,\n            rawValue: this.value_,\n            sender: this,\n        });\n    }\n}\n\nclass ReadonlyPrimitiveValue {\n    constructor(value) {\n        this.emitter = new Emitter();\n        this.onValueBeforeChange_ = this.onValueBeforeChange_.bind(this);\n        this.onValueChange_ = this.onValueChange_.bind(this);\n        this.value_ = value;\n        this.value_.emitter.on('beforechange', this.onValueBeforeChange_);\n        this.value_.emitter.on('change', this.onValueChange_);\n    }\n    get rawValue() {\n        return this.value_.rawValue;\n    }\n    onValueBeforeChange_(ev) {\n        this.emitter.emit('beforechange', Object.assign(Object.assign({}, ev), { sender: this }));\n    }\n    onValueChange_(ev) {\n        this.emitter.emit('change', Object.assign(Object.assign({}, ev), { sender: this }));\n    }\n}\n\nfunction createValue(initialValue, config) {\n    const constraint = config === null || config === void 0 ? void 0 : config.constraint;\n    const equals = config === null || config === void 0 ? void 0 : config.equals;\n    if (!constraint && !equals) {\n        return new PrimitiveValue(initialValue);\n    }\n    return new ComplexValue(initialValue, config);\n}\nfunction createReadonlyValue(value) {\n    return [\n        new ReadonlyPrimitiveValue(value),\n        (rawValue, options) => {\n            value.setRawValue(rawValue, options);\n        },\n    ];\n}\n\nclass ValueMap {\n    constructor(valueMap) {\n        this.emitter = new Emitter();\n        this.valMap_ = valueMap;\n        for (const key in this.valMap_) {\n            const v = this.valMap_[key];\n            v.emitter.on('change', () => {\n                this.emitter.emit('change', {\n                    key: key,\n                    sender: this,\n                });\n            });\n        }\n    }\n    static createCore(initialValue) {\n        const keys = Object.keys(initialValue);\n        return keys.reduce((o, key) => {\n            return Object.assign(o, {\n                [key]: createValue(initialValue[key]),\n            });\n        }, {});\n    }\n    static fromObject(initialValue) {\n        const core = this.createCore(initialValue);\n        return new ValueMap(core);\n    }\n    get(key) {\n        return this.valMap_[key].rawValue;\n    }\n    set(key, value) {\n        this.valMap_[key].rawValue = value;\n    }\n    value(key) {\n        return this.valMap_[key];\n    }\n}\n\nclass DefiniteRangeConstraint {\n    constructor(config) {\n        this.values = ValueMap.fromObject({\n            max: config.max,\n            min: config.min,\n        });\n    }\n    constrain(value) {\n        const max = this.values.get('max');\n        const min = this.values.get('min');\n        return Math.min(Math.max(value, min), max);\n    }\n}\n\nclass RangeConstraint {\n    constructor(config) {\n        this.values = ValueMap.fromObject({\n            max: config.max,\n            min: config.min,\n        });\n    }\n    constrain(value) {\n        const max = this.values.get('max');\n        const min = this.values.get('min');\n        let result = value;\n        if (!isEmpty(min)) {\n            result = Math.max(result, min);\n        }\n        if (!isEmpty(max)) {\n            result = Math.min(result, max);\n        }\n        return result;\n    }\n}\n\nclass StepConstraint {\n    constructor(step, origin = 0) {\n        this.step = step;\n        this.origin = origin;\n    }\n    constrain(value) {\n        const o = this.origin % this.step;\n        const r = Math.round((value - o) / this.step);\n        return o + r * this.step;\n    }\n}\n\nclass NumberLiteralNode {\n    constructor(text) {\n        this.text = text;\n    }\n    evaluate() {\n        return Number(this.text);\n    }\n    toString() {\n        return this.text;\n    }\n}\nconst BINARY_OPERATION_MAP = {\n    '**': (v1, v2) => Math.pow(v1, v2),\n    '*': (v1, v2) => v1 * v2,\n    '/': (v1, v2) => v1 / v2,\n    '%': (v1, v2) => v1 % v2,\n    '+': (v1, v2) => v1 + v2,\n    '-': (v1, v2) => v1 - v2,\n    '<<': (v1, v2) => v1 << v2,\n    '>>': (v1, v2) => v1 >> v2,\n    '>>>': (v1, v2) => v1 >>> v2,\n    '&': (v1, v2) => v1 & v2,\n    '^': (v1, v2) => v1 ^ v2,\n    '|': (v1, v2) => v1 | v2,\n};\nclass BinaryOperationNode {\n    constructor(operator, left, right) {\n        this.left = left;\n        this.operator = operator;\n        this.right = right;\n    }\n    evaluate() {\n        const op = BINARY_OPERATION_MAP[this.operator];\n        if (!op) {\n            throw new Error(`unexpected binary operator: '${this.operator}`);\n        }\n        return op(this.left.evaluate(), this.right.evaluate());\n    }\n    toString() {\n        return [\n            'b(',\n            this.left.toString(),\n            this.operator,\n            this.right.toString(),\n            ')',\n        ].join(' ');\n    }\n}\nconst UNARY_OPERATION_MAP = {\n    '+': (v) => v,\n    '-': (v) => -v,\n    '~': (v) => ~v,\n};\nclass UnaryOperationNode {\n    constructor(operator, expr) {\n        this.operator = operator;\n        this.expression = expr;\n    }\n    evaluate() {\n        const op = UNARY_OPERATION_MAP[this.operator];\n        if (!op) {\n            throw new Error(`unexpected unary operator: '${this.operator}`);\n        }\n        return op(this.expression.evaluate());\n    }\n    toString() {\n        return ['u(', this.operator, this.expression.toString(), ')'].join(' ');\n    }\n}\n\nfunction combineReader(parsers) {\n    return (text, cursor) => {\n        for (let i = 0; i < parsers.length; i++) {\n            const result = parsers[i](text, cursor);\n            if (result !== '') {\n                return result;\n            }\n        }\n        return '';\n    };\n}\nfunction readWhitespace(text, cursor) {\n    var _a;\n    const m = text.substr(cursor).match(/^\\s+/);\n    return (_a = (m && m[0])) !== null && _a !== void 0 ? _a : '';\n}\nfunction readNonZeroDigit(text, cursor) {\n    const ch = text.substr(cursor, 1);\n    return ch.match(/^[1-9]$/) ? ch : '';\n}\nfunction readDecimalDigits(text, cursor) {\n    var _a;\n    const m = text.substr(cursor).match(/^[0-9]+/);\n    return (_a = (m && m[0])) !== null && _a !== void 0 ? _a : '';\n}\nfunction readSignedInteger(text, cursor) {\n    const ds = readDecimalDigits(text, cursor);\n    if (ds !== '') {\n        return ds;\n    }\n    const sign = text.substr(cursor, 1);\n    cursor += 1;\n    if (sign !== '-' && sign !== '+') {\n        return '';\n    }\n    const sds = readDecimalDigits(text, cursor);\n    if (sds === '') {\n        return '';\n    }\n    return sign + sds;\n}\nfunction readExponentPart(text, cursor) {\n    const e = text.substr(cursor, 1);\n    cursor += 1;\n    if (e.toLowerCase() !== 'e') {\n        return '';\n    }\n    const si = readSignedInteger(text, cursor);\n    if (si === '') {\n        return '';\n    }\n    return e + si;\n}\nfunction readDecimalIntegerLiteral(text, cursor) {\n    const ch = text.substr(cursor, 1);\n    if (ch === '0') {\n        return ch;\n    }\n    const nzd = readNonZeroDigit(text, cursor);\n    cursor += nzd.length;\n    if (nzd === '') {\n        return '';\n    }\n    return nzd + readDecimalDigits(text, cursor);\n}\nfunction readDecimalLiteral1(text, cursor) {\n    const dil = readDecimalIntegerLiteral(text, cursor);\n    cursor += dil.length;\n    if (dil === '') {\n        return '';\n    }\n    const dot = text.substr(cursor, 1);\n    cursor += dot.length;\n    if (dot !== '.') {\n        return '';\n    }\n    const dds = readDecimalDigits(text, cursor);\n    cursor += dds.length;\n    return dil + dot + dds + readExponentPart(text, cursor);\n}\nfunction readDecimalLiteral2(text, cursor) {\n    const dot = text.substr(cursor, 1);\n    cursor += dot.length;\n    if (dot !== '.') {\n        return '';\n    }\n    const dds = readDecimalDigits(text, cursor);\n    cursor += dds.length;\n    if (dds === '') {\n        return '';\n    }\n    return dot + dds + readExponentPart(text, cursor);\n}\nfunction readDecimalLiteral3(text, cursor) {\n    const dil = readDecimalIntegerLiteral(text, cursor);\n    cursor += dil.length;\n    if (dil === '') {\n        return '';\n    }\n    return dil + readExponentPart(text, cursor);\n}\nconst readDecimalLiteral = combineReader([\n    readDecimalLiteral1,\n    readDecimalLiteral2,\n    readDecimalLiteral3,\n]);\nfunction parseBinaryDigits(text, cursor) {\n    var _a;\n    const m = text.substr(cursor).match(/^[01]+/);\n    return (_a = (m && m[0])) !== null && _a !== void 0 ? _a : '';\n}\nfunction readBinaryIntegerLiteral(text, cursor) {\n    const prefix = text.substr(cursor, 2);\n    cursor += prefix.length;\n    if (prefix.toLowerCase() !== '0b') {\n        return '';\n    }\n    const bds = parseBinaryDigits(text, cursor);\n    if (bds === '') {\n        return '';\n    }\n    return prefix + bds;\n}\nfunction readOctalDigits(text, cursor) {\n    var _a;\n    const m = text.substr(cursor).match(/^[0-7]+/);\n    return (_a = (m && m[0])) !== null && _a !== void 0 ? _a : '';\n}\nfunction readOctalIntegerLiteral(text, cursor) {\n    const prefix = text.substr(cursor, 2);\n    cursor += prefix.length;\n    if (prefix.toLowerCase() !== '0o') {\n        return '';\n    }\n    const ods = readOctalDigits(text, cursor);\n    if (ods === '') {\n        return '';\n    }\n    return prefix + ods;\n}\nfunction readHexDigits(text, cursor) {\n    var _a;\n    const m = text.substr(cursor).match(/^[0-9a-f]+/i);\n    return (_a = (m && m[0])) !== null && _a !== void 0 ? _a : '';\n}\nfunction readHexIntegerLiteral(text, cursor) {\n    const prefix = text.substr(cursor, 2);\n    cursor += prefix.length;\n    if (prefix.toLowerCase() !== '0x') {\n        return '';\n    }\n    const hds = readHexDigits(text, cursor);\n    if (hds === '') {\n        return '';\n    }\n    return prefix + hds;\n}\nconst readNonDecimalIntegerLiteral = combineReader([\n    readBinaryIntegerLiteral,\n    readOctalIntegerLiteral,\n    readHexIntegerLiteral,\n]);\nconst readNumericLiteral = combineReader([\n    readNonDecimalIntegerLiteral,\n    readDecimalLiteral,\n]);\n\nfunction parseLiteral(text, cursor) {\n    const num = readNumericLiteral(text, cursor);\n    cursor += num.length;\n    if (num === '') {\n        return null;\n    }\n    return {\n        evaluable: new NumberLiteralNode(num),\n        cursor: cursor,\n    };\n}\nfunction parseParenthesizedExpression(text, cursor) {\n    const op = text.substr(cursor, 1);\n    cursor += op.length;\n    if (op !== '(') {\n        return null;\n    }\n    const expr = parseExpression(text, cursor);\n    if (!expr) {\n        return null;\n    }\n    cursor = expr.cursor;\n    cursor += readWhitespace(text, cursor).length;\n    const cl = text.substr(cursor, 1);\n    cursor += cl.length;\n    if (cl !== ')') {\n        return null;\n    }\n    return {\n        evaluable: expr.evaluable,\n        cursor: cursor,\n    };\n}\nfunction parsePrimaryExpression(text, cursor) {\n    var _a;\n    return ((_a = parseLiteral(text, cursor)) !== null && _a !== void 0 ? _a : parseParenthesizedExpression(text, cursor));\n}\nfunction parseUnaryExpression(text, cursor) {\n    const expr = parsePrimaryExpression(text, cursor);\n    if (expr) {\n        return expr;\n    }\n    const op = text.substr(cursor, 1);\n    cursor += op.length;\n    if (op !== '+' && op !== '-' && op !== '~') {\n        return null;\n    }\n    const num = parseUnaryExpression(text, cursor);\n    if (!num) {\n        return null;\n    }\n    cursor = num.cursor;\n    return {\n        cursor: cursor,\n        evaluable: new UnaryOperationNode(op, num.evaluable),\n    };\n}\nfunction readBinaryOperator(ops, text, cursor) {\n    cursor += readWhitespace(text, cursor).length;\n    const op = ops.filter((op) => text.startsWith(op, cursor))[0];\n    if (!op) {\n        return null;\n    }\n    cursor += op.length;\n    cursor += readWhitespace(text, cursor).length;\n    return {\n        cursor: cursor,\n        operator: op,\n    };\n}\nfunction createBinaryOperationExpressionParser(exprParser, ops) {\n    return (text, cursor) => {\n        const firstExpr = exprParser(text, cursor);\n        if (!firstExpr) {\n            return null;\n        }\n        cursor = firstExpr.cursor;\n        let expr = firstExpr.evaluable;\n        for (;;) {\n            const op = readBinaryOperator(ops, text, cursor);\n            if (!op) {\n                break;\n            }\n            cursor = op.cursor;\n            const nextExpr = exprParser(text, cursor);\n            if (!nextExpr) {\n                return null;\n            }\n            cursor = nextExpr.cursor;\n            expr = new BinaryOperationNode(op.operator, expr, nextExpr.evaluable);\n        }\n        return expr\n            ? {\n                cursor: cursor,\n                evaluable: expr,\n            }\n            : null;\n    };\n}\nconst parseBinaryOperationExpression = [\n    ['**'],\n    ['*', '/', '%'],\n    ['+', '-'],\n    ['<<', '>>>', '>>'],\n    ['&'],\n    ['^'],\n    ['|'],\n].reduce((parser, ops) => {\n    return createBinaryOperationExpressionParser(parser, ops);\n}, parseUnaryExpression);\nfunction parseExpression(text, cursor) {\n    cursor += readWhitespace(text, cursor).length;\n    return parseBinaryOperationExpression(text, cursor);\n}\nfunction parseEcmaNumberExpression(text) {\n    const expr = parseExpression(text, 0);\n    if (!expr) {\n        return null;\n    }\n    const cursor = expr.cursor + readWhitespace(text, expr.cursor).length;\n    if (cursor !== text.length) {\n        return null;\n    }\n    return expr.evaluable;\n}\n\nfunction parseNumber(text) {\n    var _a;\n    const r = parseEcmaNumberExpression(text);\n    return (_a = r === null || r === void 0 ? void 0 : r.evaluate()) !== null && _a !== void 0 ? _a : null;\n}\nfunction numberFromUnknown(value) {\n    if (typeof value === 'number') {\n        return value;\n    }\n    if (typeof value === 'string') {\n        const pv = parseNumber(value);\n        if (!isEmpty(pv)) {\n            return pv;\n        }\n    }\n    return 0;\n}\nfunction createNumberFormatter(digits) {\n    return (value) => {\n        return value.toFixed(Math.max(Math.min(digits, 20), 0));\n    };\n}\n\nfunction mapRange(value, start1, end1, start2, end2) {\n    const p = (value - start1) / (end1 - start1);\n    return start2 + p * (end2 - start2);\n}\nfunction getDecimalDigits(value) {\n    const text = String(value.toFixed(10));\n    const frac = text.split('.')[1];\n    return frac.replace(/0+$/, '').length;\n}\nfunction constrainRange(value, min, max) {\n    return Math.min(Math.max(value, min), max);\n}\nfunction loopRange(value, max) {\n    return ((value % max) + max) % max;\n}\nfunction getSuitableDecimalDigits(params, rawValue) {\n    return !isEmpty(params.step)\n        ? getDecimalDigits(params.step)\n        : Math.max(getDecimalDigits(rawValue), 2);\n}\nfunction getSuitableKeyScale(params) {\n    var _a;\n    return (_a = params.step) !== null && _a !== void 0 ? _a : 1;\n}\nfunction getSuitablePointerScale(params, rawValue) {\n    var _a;\n    const base = Math.abs((_a = params.step) !== null && _a !== void 0 ? _a : rawValue);\n    return base === 0 ? 0.1 : Math.pow(10, Math.floor(Math.log10(base)) - 1);\n}\nfunction createStepConstraint(params, initialValue) {\n    if (!isEmpty(params.step)) {\n        return new StepConstraint(params.step, initialValue);\n    }\n    return null;\n}\nfunction createRangeConstraint(params) {\n    if (!isEmpty(params.max) && !isEmpty(params.min)) {\n        return new DefiniteRangeConstraint({\n            max: params.max,\n            min: params.min,\n        });\n    }\n    if (!isEmpty(params.max) || !isEmpty(params.min)) {\n        return new RangeConstraint({\n            max: params.max,\n            min: params.min,\n        });\n    }\n    return null;\n}\nfunction createNumberTextPropsObject(params, initialValue) {\n    var _a, _b, _c;\n    return {\n        formatter: (_a = params.format) !== null && _a !== void 0 ? _a : createNumberFormatter(getSuitableDecimalDigits(params, initialValue)),\n        keyScale: (_b = params.keyScale) !== null && _b !== void 0 ? _b : getSuitableKeyScale(params),\n        pointerScale: (_c = params.pointerScale) !== null && _c !== void 0 ? _c : getSuitablePointerScale(params, initialValue),\n    };\n}\nfunction createNumberTextInputParamsParser(p) {\n    return {\n        format: p.optional.function,\n        keyScale: p.optional.number,\n        max: p.optional.number,\n        min: p.optional.number,\n        pointerScale: p.optional.number,\n        step: p.optional.number,\n    };\n}\n\nfunction createPointAxis(config) {\n    return {\n        constraint: config.constraint,\n        textProps: ValueMap.fromObject(createNumberTextPropsObject(config.params, config.initialValue)),\n    };\n}\n\nclass BladeApi {\n    constructor(controller) {\n        this.controller = controller;\n    }\n    get element() {\n        return this.controller.view.element;\n    }\n    get disabled() {\n        return this.controller.viewProps.get('disabled');\n    }\n    set disabled(disabled) {\n        this.controller.viewProps.set('disabled', disabled);\n    }\n    get hidden() {\n        return this.controller.viewProps.get('hidden');\n    }\n    set hidden(hidden) {\n        this.controller.viewProps.set('hidden', hidden);\n    }\n    dispose() {\n        this.controller.viewProps.set('disposed', true);\n    }\n    importState(state) {\n        return this.controller.importState(state);\n    }\n    exportState() {\n        return this.controller.exportState();\n    }\n}\n\nclass TpEvent {\n    constructor(target) {\n        this.target = target;\n    }\n}\nclass TpChangeEvent extends TpEvent {\n    constructor(target, value, last) {\n        super(target);\n        this.value = value;\n        this.last = last !== null && last !== void 0 ? last : true;\n    }\n}\nclass TpFoldEvent extends TpEvent {\n    constructor(target, expanded) {\n        super(target);\n        this.expanded = expanded;\n    }\n}\nclass TpTabSelectEvent extends TpEvent {\n    constructor(target, index) {\n        super(target);\n        this.index = index;\n    }\n}\n\nclass BindingApi extends BladeApi {\n    constructor(controller) {\n        super(controller);\n        this.onValueChange_ = this.onValueChange_.bind(this);\n        this.emitter_ = new Emitter();\n        this.controller.value.emitter.on('change', this.onValueChange_);\n    }\n    get label() {\n        return this.controller.labelController.props.get('label');\n    }\n    set label(label) {\n        this.controller.labelController.props.set('label', label);\n    }\n    get key() {\n        return this.controller.value.binding.target.key;\n    }\n    get tag() {\n        return this.controller.tag;\n    }\n    set tag(tag) {\n        this.controller.tag = tag;\n    }\n    on(eventName, handler) {\n        const bh = handler.bind(this);\n        this.emitter_.on(eventName, (ev) => {\n            bh(ev);\n        });\n        return this;\n    }\n    refresh() {\n        this.controller.value.fetch();\n    }\n    onValueChange_(ev) {\n        const value = this.controller.value;\n        this.emitter_.emit('change', new TpChangeEvent(this, forceCast(value.binding.target.read()), ev.options.last));\n    }\n}\n\nfunction parseObject(value, keyToParserMap) {\n    const keys = Object.keys(keyToParserMap);\n    const result = keys.reduce((tmp, key) => {\n        if (tmp === undefined) {\n            return undefined;\n        }\n        const parser = keyToParserMap[key];\n        const result = parser(value[key]);\n        return result.succeeded\n            ? Object.assign(Object.assign({}, tmp), { [key]: result.value }) : undefined;\n    }, {});\n    return forceCast(result);\n}\nfunction parseArray(value, parseItem) {\n    return value.reduce((tmp, item) => {\n        if (tmp === undefined) {\n            return undefined;\n        }\n        const result = parseItem(item);\n        if (!result.succeeded || result.value === undefined) {\n            return undefined;\n        }\n        return [...tmp, result.value];\n    }, []);\n}\nfunction isObject(value) {\n    if (value === null) {\n        return false;\n    }\n    return typeof value === 'object';\n}\nfunction createMicroParserBuilder(parse) {\n    return (optional) => (v) => {\n        if (!optional && v === undefined) {\n            return {\n                succeeded: false,\n                value: undefined,\n            };\n        }\n        if (optional && v === undefined) {\n            return {\n                succeeded: true,\n                value: undefined,\n            };\n        }\n        const result = parse(v);\n        return result !== undefined\n            ? {\n                succeeded: true,\n                value: result,\n            }\n            : {\n                succeeded: false,\n                value: undefined,\n            };\n    };\n}\nfunction createMicroParserBuilders(optional) {\n    return {\n        custom: (parse) => createMicroParserBuilder(parse)(optional),\n        boolean: createMicroParserBuilder((v) => typeof v === 'boolean' ? v : undefined)(optional),\n        number: createMicroParserBuilder((v) => typeof v === 'number' ? v : undefined)(optional),\n        string: createMicroParserBuilder((v) => typeof v === 'string' ? v : undefined)(optional),\n        function: createMicroParserBuilder((v) =>\n        typeof v === 'function' ? v : undefined)(optional),\n        constant: (value) => createMicroParserBuilder((v) => (v === value ? value : undefined))(optional),\n        raw: createMicroParserBuilder((v) => v)(optional),\n        object: (keyToParserMap) => createMicroParserBuilder((v) => {\n            if (!isObject(v)) {\n                return undefined;\n            }\n            return parseObject(v, keyToParserMap);\n        })(optional),\n        array: (itemParser) => createMicroParserBuilder((v) => {\n            if (!Array.isArray(v)) {\n                return undefined;\n            }\n            return parseArray(v, itemParser);\n        })(optional),\n    };\n}\nconst MicroParsers = {\n    optional: createMicroParserBuilders(true),\n    required: createMicroParserBuilders(false),\n};\nfunction parseRecord(value, keyToParserMap) {\n    const map = keyToParserMap(MicroParsers);\n    const result = MicroParsers.required.object(map)(value);\n    return result.succeeded ? result.value : undefined;\n}\n\nfunction importBladeState(state, superImport, parser, callback) {\n    if (superImport && !superImport(state)) {\n        return false;\n    }\n    const result = parseRecord(state, parser);\n    return result ? callback(result) : false;\n}\nfunction exportBladeState(superExport, thisState) {\n    var _a;\n    return deepMerge((_a = superExport === null || superExport === void 0 ? void 0 : superExport()) !== null && _a !== void 0 ? _a : {}, thisState);\n}\n\nfunction isValueBladeController(bc) {\n    return 'value' in bc;\n}\n\nfunction isBindingValue(v) {\n    if (!isObject$1(v) || !('binding' in v)) {\n        return false;\n    }\n    const b = v.binding;\n    return isBinding(b);\n}\n\nconst SVG_NS = 'http://www.w3.org/2000/svg';\nfunction forceReflow(element) {\n    element.offsetHeight;\n}\nfunction disableTransitionTemporarily(element, callback) {\n    const t = element.style.transition;\n    element.style.transition = 'none';\n    callback();\n    element.style.transition = t;\n}\nfunction supportsTouch(doc) {\n    return doc.ontouchstart !== undefined;\n}\nfunction getCanvasContext(canvasElement) {\n    const win = canvasElement.ownerDocument.defaultView;\n    if (!win) {\n        return null;\n    }\n    const isBrowser = 'document' in win;\n    return isBrowser\n        ? canvasElement.getContext('2d', {\n            willReadFrequently: true,\n        })\n        : null;\n}\nconst ICON_ID_TO_INNER_HTML_MAP = {\n    check: '<path d=\"M2 8l4 4l8 -8\"/>',\n    dropdown: '<path d=\"M5 7h6l-3 3 z\"/>',\n    p2dpad: '<path d=\"M8 4v8\"/><path d=\"M4 8h8\"/><circle cx=\"12\" cy=\"12\" r=\"1.2\"/>',\n};\nfunction createSvgIconElement(document, iconId) {\n    const elem = document.createElementNS(SVG_NS, 'svg');\n    elem.innerHTML = ICON_ID_TO_INNER_HTML_MAP[iconId];\n    return elem;\n}\nfunction insertElementAt(parentElement, element, index) {\n    parentElement.insertBefore(element, parentElement.children[index]);\n}\nfunction removeElement(element) {\n    if (element.parentElement) {\n        element.parentElement.removeChild(element);\n    }\n}\nfunction removeChildElements(element) {\n    while (element.children.length > 0) {\n        element.removeChild(element.children[0]);\n    }\n}\nfunction removeChildNodes(element) {\n    while (element.childNodes.length > 0) {\n        element.removeChild(element.childNodes[0]);\n    }\n}\nfunction findNextTarget(ev) {\n    if (ev.relatedTarget) {\n        return forceCast(ev.relatedTarget);\n    }\n    if ('explicitOriginalTarget' in ev) {\n        return ev.explicitOriginalTarget;\n    }\n    return null;\n}\n\nfunction bindValue(value, applyValue) {\n    value.emitter.on('change', (ev) => {\n        applyValue(ev.rawValue);\n    });\n    applyValue(value.rawValue);\n}\nfunction bindValueMap(valueMap, key, applyValue) {\n    bindValue(valueMap.value(key), applyValue);\n}\n\nconst PREFIX = 'tp';\nfunction ClassName(viewName) {\n    const fn = (opt_elementName, opt_modifier) => {\n        return [\n            PREFIX,\n            '-',\n            viewName,\n            'v',\n            opt_elementName ? `_${opt_elementName}` : '',\n            opt_modifier ? `-${opt_modifier}` : '',\n        ].join('');\n    };\n    return fn;\n}\n\nconst cn$q = ClassName('lbl');\nfunction createLabelNode(doc, label) {\n    const frag = doc.createDocumentFragment();\n    const lineNodes = label.split('\\n').map((line) => {\n        return doc.createTextNode(line);\n    });\n    lineNodes.forEach((lineNode, index) => {\n        if (index > 0) {\n            frag.appendChild(doc.createElement('br'));\n        }\n        frag.appendChild(lineNode);\n    });\n    return frag;\n}\nclass LabelView {\n    constructor(doc, config) {\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$q());\n        config.viewProps.bindClassModifiers(this.element);\n        const labelElem = doc.createElement('div');\n        labelElem.classList.add(cn$q('l'));\n        bindValueMap(config.props, 'label', (value) => {\n            if (isEmpty(value)) {\n                this.element.classList.add(cn$q(undefined, 'nol'));\n            }\n            else {\n                this.element.classList.remove(cn$q(undefined, 'nol'));\n                removeChildNodes(labelElem);\n                labelElem.appendChild(createLabelNode(doc, value));\n            }\n        });\n        this.element.appendChild(labelElem);\n        this.labelElement = labelElem;\n        const valueElem = doc.createElement('div');\n        valueElem.classList.add(cn$q('v'));\n        this.element.appendChild(valueElem);\n        this.valueElement = valueElem;\n    }\n}\n\nclass LabelController {\n    constructor(doc, config) {\n        this.props = config.props;\n        this.valueController = config.valueController;\n        this.viewProps = config.valueController.viewProps;\n        this.view = new LabelView(doc, {\n            props: config.props,\n            viewProps: this.viewProps,\n        });\n        this.view.valueElement.appendChild(this.valueController.view.element);\n    }\n    importProps(state) {\n        return importBladeState(state, null, (p) => ({\n            label: p.optional.string,\n        }), (result) => {\n            this.props.set('label', result.label);\n            return true;\n        });\n    }\n    exportProps() {\n        return exportBladeState(null, {\n            label: this.props.get('label'),\n        });\n    }\n}\n\nfunction getAllBladePositions() {\n    return ['veryfirst', 'first', 'last', 'verylast'];\n}\n\nconst cn$p = ClassName('');\nconst POS_TO_CLASS_NAME_MAP = {\n    veryfirst: 'vfst',\n    first: 'fst',\n    last: 'lst',\n    verylast: 'vlst',\n};\nclass BladeController {\n    constructor(config) {\n        this.parent_ = null;\n        this.blade = config.blade;\n        this.view = config.view;\n        this.viewProps = config.viewProps;\n        const elem = this.view.element;\n        this.blade.value('positions').emitter.on('change', () => {\n            getAllBladePositions().forEach((pos) => {\n                elem.classList.remove(cn$p(undefined, POS_TO_CLASS_NAME_MAP[pos]));\n            });\n            this.blade.get('positions').forEach((pos) => {\n                elem.classList.add(cn$p(undefined, POS_TO_CLASS_NAME_MAP[pos]));\n            });\n        });\n        this.viewProps.handleDispose(() => {\n            removeElement(elem);\n        });\n    }\n    get parent() {\n        return this.parent_;\n    }\n    set parent(parent) {\n        this.parent_ = parent;\n        this.viewProps.set('parent', this.parent_ ? this.parent_.viewProps : null);\n    }\n    importState(state) {\n        return importBladeState(state, null, (p) => ({\n            disabled: p.required.boolean,\n            hidden: p.required.boolean,\n        }), (result) => {\n            this.viewProps.importState(result);\n            return true;\n        });\n    }\n    exportState() {\n        return exportBladeState(null, Object.assign({}, this.viewProps.exportState()));\n    }\n}\n\nclass LabeledValueBladeController extends BladeController {\n    constructor(doc, config) {\n        if (config.value !== config.valueController.value) {\n            throw TpError.shouldNeverHappen();\n        }\n        const viewProps = config.valueController.viewProps;\n        const lc = new LabelController(doc, {\n            blade: config.blade,\n            props: config.props,\n            valueController: config.valueController,\n        });\n        super(Object.assign(Object.assign({}, config), { view: new LabelView(doc, {\n                props: config.props,\n                viewProps: viewProps,\n            }), viewProps: viewProps }));\n        this.labelController = lc;\n        this.value = config.value;\n        this.valueController = config.valueController;\n        this.view.valueElement.appendChild(this.valueController.view.element);\n    }\n    importState(state) {\n        return importBladeState(state, (s) => {\n            var _a, _b, _c;\n            return super.importState(s) &&\n                this.labelController.importProps(s) &&\n                ((_c = (_b = (_a = this.valueController).importProps) === null || _b === void 0 ? void 0 : _b.call(_a, state)) !== null && _c !== void 0 ? _c : true);\n        }, (p) => ({\n            value: p.optional.raw,\n        }), (result) => {\n            if (result.value) {\n                this.value.rawValue = result.value;\n            }\n            return true;\n        });\n    }\n    exportState() {\n        var _a, _b, _c;\n        return exportBladeState(() => super.exportState(), Object.assign(Object.assign({ value: this.value.rawValue }, this.labelController.exportProps()), ((_c = (_b = (_a = this.valueController).exportProps) === null || _b === void 0 ? void 0 : _b.call(_a)) !== null && _c !== void 0 ? _c : {})));\n    }\n}\n\nfunction fillBuffer(buffer, bufferSize) {\n    while (buffer.length < bufferSize) {\n        buffer.push(undefined);\n    }\n}\nfunction initializeBuffer(bufferSize) {\n    const buffer = [];\n    fillBuffer(buffer, bufferSize);\n    return buffer;\n}\nfunction createTrimmedBuffer(buffer) {\n    const index = buffer.indexOf(undefined);\n    return forceCast(index < 0 ? buffer : buffer.slice(0, index));\n}\nfunction createPushedBuffer(buffer, newValue) {\n    const newBuffer = [...createTrimmedBuffer(buffer), newValue];\n    if (newBuffer.length > buffer.length) {\n        newBuffer.splice(0, newBuffer.length - buffer.length);\n    }\n    else {\n        fillBuffer(newBuffer, buffer.length);\n    }\n    return newBuffer;\n}\n\nclass ButtonApi extends BladeApi {\n    get label() {\n        return this.controller.labelController.props.get('label');\n    }\n    set label(label) {\n        this.controller.labelController.props.set('label', label);\n    }\n    get title() {\n        var _a;\n        return (_a = this.controller.buttonController.props.get('title')) !== null && _a !== void 0 ? _a : '';\n    }\n    set title(title) {\n        this.controller.buttonController.props.set('title', title);\n    }\n    on(eventName, handler) {\n        const bh = handler.bind(this);\n        const emitter = this.controller.buttonController.emitter;\n        emitter.on(eventName, () => {\n            bh(new TpEvent(this));\n        });\n        return this;\n    }\n}\n\nfunction applyClass(elem, className, active) {\n    if (active) {\n        elem.classList.add(className);\n    }\n    else {\n        elem.classList.remove(className);\n    }\n}\nfunction valueToClassName(elem, className) {\n    return (value) => {\n        applyClass(elem, className, value);\n    };\n}\nfunction bindValueToTextContent(value, elem) {\n    bindValue(value, (text) => {\n        elem.textContent = text !== null && text !== void 0 ? text : '';\n    });\n}\n\nconst cn$o = ClassName('btn');\nclass ButtonView {\n    constructor(doc, config) {\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$o());\n        config.viewProps.bindClassModifiers(this.element);\n        const buttonElem = doc.createElement('button');\n        buttonElem.classList.add(cn$o('b'));\n        config.viewProps.bindDisabled(buttonElem);\n        this.element.appendChild(buttonElem);\n        this.buttonElement = buttonElem;\n        const titleElem = doc.createElement('div');\n        titleElem.classList.add(cn$o('t'));\n        bindValueToTextContent(config.props.value('title'), titleElem);\n        this.buttonElement.appendChild(titleElem);\n    }\n}\n\nclass ButtonController {\n    constructor(doc, config) {\n        this.emitter = new Emitter();\n        this.onClick_ = this.onClick_.bind(this);\n        this.props = config.props;\n        this.viewProps = config.viewProps;\n        this.view = new ButtonView(doc, {\n            props: this.props,\n            viewProps: this.viewProps,\n        });\n        this.view.buttonElement.addEventListener('click', this.onClick_);\n    }\n    importProps(state) {\n        return importBladeState(state, null, (p) => ({\n            title: p.optional.string,\n        }), (result) => {\n            this.props.set('title', result.title);\n            return true;\n        });\n    }\n    exportProps() {\n        return exportBladeState(null, {\n            title: this.props.get('title'),\n        });\n    }\n    onClick_() {\n        this.emitter.emit('click', {\n            sender: this,\n        });\n    }\n}\n\nclass ButtonBladeController extends BladeController {\n    constructor(doc, config) {\n        const bc = new ButtonController(doc, {\n            props: config.buttonProps,\n            viewProps: config.viewProps,\n        });\n        const lc = new LabelController(doc, {\n            blade: config.blade,\n            props: config.labelProps,\n            valueController: bc,\n        });\n        super({\n            blade: config.blade,\n            view: lc.view,\n            viewProps: config.viewProps,\n        });\n        this.buttonController = bc;\n        this.labelController = lc;\n    }\n    importState(state) {\n        return importBladeState(state, (s) => super.importState(s) &&\n            this.buttonController.importProps(s) &&\n            this.labelController.importProps(s), () => ({}), () => true);\n    }\n    exportState() {\n        return exportBladeState(() => super.exportState(), Object.assign(Object.assign({}, this.buttonController.exportProps()), this.labelController.exportProps()));\n    }\n}\n\nclass Semver {\n    constructor(text) {\n        const [core, prerelease] = text.split('-');\n        const coreComps = core.split('.');\n        this.major = parseInt(coreComps[0], 10);\n        this.minor = parseInt(coreComps[1], 10);\n        this.patch = parseInt(coreComps[2], 10);\n        this.prerelease = prerelease !== null && prerelease !== void 0 ? prerelease : null;\n    }\n    toString() {\n        const core = [this.major, this.minor, this.patch].join('.');\n        return this.prerelease !== null ? [core, this.prerelease].join('-') : core;\n    }\n}\n\nconst VERSION = new Semver('2.0.0-beta.2');\n\nfunction createPlugin(plugin) {\n    return Object.assign({ core: VERSION }, plugin);\n}\n\ncreatePlugin({\n    id: 'button',\n    type: 'blade',\n    accept(params) {\n        const result = parseRecord(params, (p) => ({\n            title: p.required.string,\n            view: p.required.constant('button'),\n            label: p.optional.string,\n        }));\n        return result ? { params: result } : null;\n    },\n    controller(args) {\n        return new ButtonBladeController(args.document, {\n            blade: args.blade,\n            buttonProps: ValueMap.fromObject({\n                title: args.params.title,\n            }),\n            labelProps: ValueMap.fromObject({\n                label: args.params.label,\n            }),\n            viewProps: args.viewProps,\n        });\n    },\n    api(args) {\n        if (args.controller instanceof ButtonBladeController) {\n            return new ButtonApi(args.controller);\n        }\n        return null;\n    },\n});\n\nfunction addButtonAsBlade(api, params) {\n    return api.addBlade(Object.assign(Object.assign({}, params), { view: 'button' }));\n}\nfunction addFolderAsBlade(api, params) {\n    return api.addBlade(Object.assign(Object.assign({}, params), { view: 'folder' }));\n}\nfunction addTabAsBlade(api, params) {\n    return api.addBlade(Object.assign(Object.assign({}, params), { view: 'tab' }));\n}\n\nfunction isRefreshable(value) {\n    if (!isObject$1(value)) {\n        return false;\n    }\n    return 'refresh' in value && typeof value.refresh === 'function';\n}\n\nfunction createBindingTarget(obj, key) {\n    if (!BindingTarget.isBindable(obj)) {\n        throw TpError.notBindable();\n    }\n    return new BindingTarget(obj, key);\n}\nclass RackApi {\n    constructor(controller, pool) {\n        this.onRackValueChange_ = this.onRackValueChange_.bind(this);\n        this.controller_ = controller;\n        this.emitter_ = new Emitter();\n        this.pool_ = pool;\n        const rack = this.controller_.rack;\n        rack.emitter.on('valuechange', this.onRackValueChange_);\n    }\n    get children() {\n        return this.controller_.rack.children.map((bc) => this.pool_.createApi(bc));\n    }\n    addBinding(object, key, opt_params) {\n        const params = opt_params !== null && opt_params !== void 0 ? opt_params : {};\n        const doc = this.controller_.element.ownerDocument;\n        const bc = this.pool_.createBinding(doc, createBindingTarget(object, key), params);\n        const api = this.pool_.createBindingApi(bc);\n        return this.add(api, params.index);\n    }\n    addFolder(params) {\n        return addFolderAsBlade(this, params);\n    }\n    addButton(params) {\n        return addButtonAsBlade(this, params);\n    }\n    addTab(params) {\n        return addTabAsBlade(this, params);\n    }\n    add(api, opt_index) {\n        const bc = api.controller;\n        this.controller_.rack.add(bc, opt_index);\n        return api;\n    }\n    remove(api) {\n        this.controller_.rack.remove(api.controller);\n    }\n    addBlade(params) {\n        const doc = this.controller_.element.ownerDocument;\n        const bc = this.pool_.createBlade(doc, params);\n        const api = this.pool_.createApi(bc);\n        return this.add(api, params.index);\n    }\n    on(eventName, handler) {\n        const bh = handler.bind(this);\n        this.emitter_.on(eventName, (ev) => {\n            bh(ev);\n        });\n        return this;\n    }\n    refresh() {\n        this.children.forEach((c) => {\n            if (isRefreshable(c)) {\n                c.refresh();\n            }\n        });\n    }\n    onRackValueChange_(ev) {\n        const bc = ev.bladeController;\n        const api = this.pool_.createApi(bc);\n        const binding = isBindingValue(bc.value) ? bc.value.binding : null;\n        this.emitter_.emit('change', new TpChangeEvent(api, binding ? binding.target.read() : bc.value.rawValue, ev.options.last));\n    }\n}\n\nclass ContainerBladeApi extends BladeApi {\n    constructor(controller, pool) {\n        super(controller);\n        this.rackApi_ = new RackApi(controller.rackController, pool);\n    }\n}\n\nclass ContainerBladeController extends BladeController {\n    constructor(config) {\n        super({\n            blade: config.blade,\n            view: config.view,\n            viewProps: config.rackController.viewProps,\n        });\n        this.rackController = config.rackController;\n    }\n    importState(state) {\n        return importBladeState(state, (s) => super.importState(s), (p) => ({\n            children: p.required.array(p.required.raw),\n        }), (result) => {\n            return this.rackController.rack.children.every((c, index) => {\n                return c.importState(result.children[index]);\n            });\n        });\n    }\n    exportState() {\n        return exportBladeState(() => super.exportState(), {\n            children: this.rackController.rack.children.map((c) => c.exportState()),\n        });\n    }\n}\nfunction isContainerBladeController(bc) {\n    return 'rackController' in bc;\n}\n\nclass NestedOrderedSet {\n    constructor(extract) {\n        this.emitter = new Emitter();\n        this.items_ = [];\n        this.cache_ = new Set();\n        this.onSubListAdd_ = this.onSubListAdd_.bind(this);\n        this.onSubListRemove_ = this.onSubListRemove_.bind(this);\n        this.extract_ = extract;\n    }\n    get items() {\n        return this.items_;\n    }\n    allItems() {\n        return Array.from(this.cache_);\n    }\n    find(callback) {\n        for (const item of this.allItems()) {\n            if (callback(item)) {\n                return item;\n            }\n        }\n        return null;\n    }\n    includes(item) {\n        return this.cache_.has(item);\n    }\n    add(item, opt_index) {\n        if (this.includes(item)) {\n            throw TpError.shouldNeverHappen();\n        }\n        const index = opt_index !== undefined ? opt_index : this.items_.length;\n        this.items_.splice(index, 0, item);\n        this.cache_.add(item);\n        const subList = this.extract_(item);\n        if (subList) {\n            subList.emitter.on('add', this.onSubListAdd_);\n            subList.emitter.on('remove', this.onSubListRemove_);\n            subList.allItems().forEach((i) => {\n                this.cache_.add(i);\n            });\n        }\n        this.emitter.emit('add', {\n            index: index,\n            item: item,\n            root: this,\n            target: this,\n        });\n    }\n    remove(item) {\n        const index = this.items_.indexOf(item);\n        if (index < 0) {\n            return;\n        }\n        this.items_.splice(index, 1);\n        this.cache_.delete(item);\n        const subList = this.extract_(item);\n        if (subList) {\n            subList.allItems().forEach((i) => {\n                this.cache_.delete(i);\n            });\n            subList.emitter.off('add', this.onSubListAdd_);\n            subList.emitter.off('remove', this.onSubListRemove_);\n        }\n        this.emitter.emit('remove', {\n            index: index,\n            item: item,\n            root: this,\n            target: this,\n        });\n    }\n    onSubListAdd_(ev) {\n        this.cache_.add(ev.item);\n        this.emitter.emit('add', {\n            index: ev.index,\n            item: ev.item,\n            root: this,\n            target: ev.target,\n        });\n    }\n    onSubListRemove_(ev) {\n        this.cache_.delete(ev.item);\n        this.emitter.emit('remove', {\n            index: ev.index,\n            item: ev.item,\n            root: this,\n            target: ev.target,\n        });\n    }\n}\n\nfunction findValueBladeController(bcs, v) {\n    for (let i = 0; i < bcs.length; i++) {\n        const bc = bcs[i];\n        if (isValueBladeController(bc) && bc.value === v) {\n            return bc;\n        }\n    }\n    return null;\n}\nfunction findSubBladeControllerSet(bc) {\n    return isContainerBladeController(bc)\n        ? bc.rackController.rack['bcSet_']\n        : null;\n}\nclass Rack {\n    constructor(config) {\n        var _a, _b;\n        this.emitter = new Emitter();\n        this.onBladePositionsChange_ = this.onBladePositionsChange_.bind(this);\n        this.onSetAdd_ = this.onSetAdd_.bind(this);\n        this.onSetRemove_ = this.onSetRemove_.bind(this);\n        this.onChildDispose_ = this.onChildDispose_.bind(this);\n        this.onChildPositionsChange_ = this.onChildPositionsChange_.bind(this);\n        this.onChildValueChange_ = this.onChildValueChange_.bind(this);\n        this.onChildViewPropsChange_ = this.onChildViewPropsChange_.bind(this);\n        this.onRackLayout_ = this.onRackLayout_.bind(this);\n        this.onRackValueChange_ = this.onRackValueChange_.bind(this);\n        this.blade_ = (_a = config.blade) !== null && _a !== void 0 ? _a : null;\n        (_b = this.blade_) === null || _b === void 0 ? void 0 : _b.value('positions').emitter.on('change', this.onBladePositionsChange_);\n        this.viewProps = config.viewProps;\n        this.bcSet_ = new NestedOrderedSet(findSubBladeControllerSet);\n        this.bcSet_.emitter.on('add', this.onSetAdd_);\n        this.bcSet_.emitter.on('remove', this.onSetRemove_);\n    }\n    get children() {\n        return this.bcSet_.items;\n    }\n    add(bc, opt_index) {\n        var _a;\n        (_a = bc.parent) === null || _a === void 0 ? void 0 : _a.remove(bc);\n        bc.parent = this;\n        this.bcSet_.add(bc, opt_index);\n    }\n    remove(bc) {\n        bc.parent = null;\n        this.bcSet_.remove(bc);\n    }\n    find(finder) {\n        return this.bcSet_.allItems().filter(finder);\n    }\n    onSetAdd_(ev) {\n        this.updatePositions_();\n        const root = ev.target === ev.root;\n        this.emitter.emit('add', {\n            bladeController: ev.item,\n            index: ev.index,\n            root: root,\n            sender: this,\n        });\n        if (!root) {\n            return;\n        }\n        const bc = ev.item;\n        bc.viewProps.emitter.on('change', this.onChildViewPropsChange_);\n        bc.blade\n            .value('positions')\n            .emitter.on('change', this.onChildPositionsChange_);\n        bc.viewProps.handleDispose(this.onChildDispose_);\n        if (isValueBladeController(bc)) {\n            bc.value.emitter.on('change', this.onChildValueChange_);\n        }\n        else if (isContainerBladeController(bc)) {\n            const rack = bc.rackController.rack;\n            if (rack) {\n                const emitter = rack.emitter;\n                emitter.on('layout', this.onRackLayout_);\n                emitter.on('valuechange', this.onRackValueChange_);\n            }\n        }\n    }\n    onSetRemove_(ev) {\n        this.updatePositions_();\n        const root = ev.target === ev.root;\n        this.emitter.emit('remove', {\n            bladeController: ev.item,\n            root: root,\n            sender: this,\n        });\n        if (!root) {\n            return;\n        }\n        const bc = ev.item;\n        if (isValueBladeController(bc)) {\n            bc.value.emitter.off('change', this.onChildValueChange_);\n        }\n        else if (isContainerBladeController(bc)) {\n            const rack = bc.rackController.rack;\n            if (rack) {\n                const emitter = rack.emitter;\n                emitter.off('layout', this.onRackLayout_);\n                emitter.off('valuechange', this.onRackValueChange_);\n            }\n        }\n    }\n    updatePositions_() {\n        const visibleItems = this.bcSet_.items.filter((bc) => !bc.viewProps.get('hidden'));\n        const firstVisibleItem = visibleItems[0];\n        const lastVisibleItem = visibleItems[visibleItems.length - 1];\n        this.bcSet_.items.forEach((bc) => {\n            const ps = [];\n            if (bc === firstVisibleItem) {\n                ps.push('first');\n                if (!this.blade_ ||\n                    this.blade_.get('positions').includes('veryfirst')) {\n                    ps.push('veryfirst');\n                }\n            }\n            if (bc === lastVisibleItem) {\n                ps.push('last');\n                if (!this.blade_ || this.blade_.get('positions').includes('verylast')) {\n                    ps.push('verylast');\n                }\n            }\n            bc.blade.set('positions', ps);\n        });\n    }\n    onChildPositionsChange_() {\n        this.updatePositions_();\n        this.emitter.emit('layout', {\n            sender: this,\n        });\n    }\n    onChildViewPropsChange_(_ev) {\n        this.updatePositions_();\n        this.emitter.emit('layout', {\n            sender: this,\n        });\n    }\n    onChildDispose_() {\n        const disposedUcs = this.bcSet_.items.filter((bc) => {\n            return bc.viewProps.get('disposed');\n        });\n        disposedUcs.forEach((bc) => {\n            this.bcSet_.remove(bc);\n        });\n    }\n    onChildValueChange_(ev) {\n        const bc = findValueBladeController(this.find(isValueBladeController), ev.sender);\n        if (!bc) {\n            throw TpError.alreadyDisposed();\n        }\n        this.emitter.emit('valuechange', {\n            bladeController: bc,\n            options: ev.options,\n            sender: this,\n        });\n    }\n    onRackLayout_(_) {\n        this.updatePositions_();\n        this.emitter.emit('layout', {\n            sender: this,\n        });\n    }\n    onRackValueChange_(ev) {\n        this.emitter.emit('valuechange', {\n            bladeController: ev.bladeController,\n            options: ev.options,\n            sender: this,\n        });\n    }\n    onBladePositionsChange_() {\n        this.updatePositions_();\n    }\n}\n\nclass RackController {\n    constructor(config) {\n        this.onRackAdd_ = this.onRackAdd_.bind(this);\n        this.onRackRemove_ = this.onRackRemove_.bind(this);\n        this.element = config.element;\n        this.viewProps = config.viewProps;\n        const rack = new Rack({\n            blade: config.root ? undefined : config.blade,\n            viewProps: config.viewProps,\n        });\n        rack.emitter.on('add', this.onRackAdd_);\n        rack.emitter.on('remove', this.onRackRemove_);\n        this.rack = rack;\n        this.viewProps.handleDispose(() => {\n            for (let i = this.rack.children.length - 1; i >= 0; i--) {\n                const bc = this.rack.children[i];\n                bc.viewProps.set('disposed', true);\n            }\n        });\n    }\n    onRackAdd_(ev) {\n        if (!ev.root) {\n            return;\n        }\n        insertElementAt(this.element, ev.bladeController.view.element, ev.index);\n    }\n    onRackRemove_(ev) {\n        if (!ev.root) {\n            return;\n        }\n        removeElement(ev.bladeController.view.element);\n    }\n}\n\nfunction createBlade() {\n    return new ValueMap({\n        positions: createValue([], {\n            equals: deepEqualsArray,\n        }),\n    });\n}\n\nclass Foldable extends ValueMap {\n    constructor(valueMap) {\n        super(valueMap);\n    }\n    static create(expanded) {\n        const coreObj = {\n            completed: true,\n            expanded: expanded,\n            expandedHeight: null,\n            shouldFixHeight: false,\n            temporaryExpanded: null,\n        };\n        const core = ValueMap.createCore(coreObj);\n        return new Foldable(core);\n    }\n    get styleExpanded() {\n        var _a;\n        return (_a = this.get('temporaryExpanded')) !== null && _a !== void 0 ? _a : this.get('expanded');\n    }\n    get styleHeight() {\n        if (!this.styleExpanded) {\n            return '0';\n        }\n        const exHeight = this.get('expandedHeight');\n        if (this.get('shouldFixHeight') && !isEmpty(exHeight)) {\n            return `${exHeight}px`;\n        }\n        return 'auto';\n    }\n    bindExpandedClass(elem, expandedClassName) {\n        const onExpand = () => {\n            const expanded = this.styleExpanded;\n            if (expanded) {\n                elem.classList.add(expandedClassName);\n            }\n            else {\n                elem.classList.remove(expandedClassName);\n            }\n        };\n        bindValueMap(this, 'expanded', onExpand);\n        bindValueMap(this, 'temporaryExpanded', onExpand);\n    }\n    cleanUpTransition() {\n        this.set('shouldFixHeight', false);\n        this.set('expandedHeight', null);\n        this.set('completed', true);\n    }\n}\nfunction computeExpandedFolderHeight(folder, containerElement) {\n    let height = 0;\n    disableTransitionTemporarily(containerElement, () => {\n        folder.set('expandedHeight', null);\n        folder.set('temporaryExpanded', true);\n        forceReflow(containerElement);\n        height = containerElement.clientHeight;\n        folder.set('temporaryExpanded', null);\n        forceReflow(containerElement);\n    });\n    return height;\n}\nfunction applyHeight(foldable, elem) {\n    elem.style.height = foldable.styleHeight;\n}\nfunction bindFoldable(foldable, elem) {\n    foldable.value('expanded').emitter.on('beforechange', () => {\n        foldable.set('completed', false);\n        if (isEmpty(foldable.get('expandedHeight'))) {\n            const h = computeExpandedFolderHeight(foldable, elem);\n            if (h > 0) {\n                foldable.set('expandedHeight', h);\n            }\n        }\n        foldable.set('shouldFixHeight', true);\n        forceReflow(elem);\n    });\n    foldable.emitter.on('change', () => {\n        applyHeight(foldable, elem);\n    });\n    applyHeight(foldable, elem);\n    elem.addEventListener('transitionend', (ev) => {\n        if (ev.propertyName !== 'height') {\n            return;\n        }\n        foldable.cleanUpTransition();\n    });\n}\n\nclass FolderApi extends ContainerBladeApi {\n    constructor(controller, pool) {\n        super(controller, pool);\n        this.emitter_ = new Emitter();\n        this.controller.foldable\n            .value('expanded')\n            .emitter.on('change', (ev) => {\n            this.emitter_.emit('fold', new TpFoldEvent(this, ev.sender.rawValue));\n        });\n        this.rackApi_.on('change', (ev) => {\n            this.emitter_.emit('change', ev);\n        });\n    }\n    get expanded() {\n        return this.controller.foldable.get('expanded');\n    }\n    set expanded(expanded) {\n        this.controller.foldable.set('expanded', expanded);\n    }\n    get title() {\n        return this.controller.props.get('title');\n    }\n    set title(title) {\n        this.controller.props.set('title', title);\n    }\n    get children() {\n        return this.rackApi_.children;\n    }\n    addBinding(object, key, opt_params) {\n        return this.rackApi_.addBinding(object, key, opt_params);\n    }\n    addFolder(params) {\n        return this.rackApi_.addFolder(params);\n    }\n    addButton(params) {\n        return this.rackApi_.addButton(params);\n    }\n    addTab(params) {\n        return this.rackApi_.addTab(params);\n    }\n    add(api, opt_index) {\n        return this.rackApi_.add(api, opt_index);\n    }\n    remove(api) {\n        this.rackApi_.remove(api);\n    }\n    addBlade(params) {\n        return this.rackApi_.addBlade(params);\n    }\n    on(eventName, handler) {\n        const bh = handler.bind(this);\n        this.emitter_.on(eventName, (ev) => {\n            bh(ev);\n        });\n        return this;\n    }\n    refresh() {\n        this.rackApi_.refresh();\n    }\n}\n\nconst bladeContainerClassName = ClassName('cnt');\n\nclass FolderView {\n    constructor(doc, config) {\n        var _a;\n        this.className_ = ClassName((_a = config.viewName) !== null && _a !== void 0 ? _a : 'fld');\n        this.element = doc.createElement('div');\n        this.element.classList.add(this.className_(), bladeContainerClassName());\n        config.viewProps.bindClassModifiers(this.element);\n        this.foldable_ = config.foldable;\n        this.foldable_.bindExpandedClass(this.element, this.className_(undefined, 'expanded'));\n        bindValueMap(this.foldable_, 'completed', valueToClassName(this.element, this.className_(undefined, 'cpl')));\n        const buttonElem = doc.createElement('button');\n        buttonElem.classList.add(this.className_('b'));\n        bindValueMap(config.props, 'title', (title) => {\n            if (isEmpty(title)) {\n                this.element.classList.add(this.className_(undefined, 'not'));\n            }\n            else {\n                this.element.classList.remove(this.className_(undefined, 'not'));\n            }\n        });\n        config.viewProps.bindDisabled(buttonElem);\n        this.element.appendChild(buttonElem);\n        this.buttonElement = buttonElem;\n        const indentElem = doc.createElement('div');\n        indentElem.classList.add(this.className_('i'));\n        this.element.appendChild(indentElem);\n        const titleElem = doc.createElement('div');\n        titleElem.classList.add(this.className_('t'));\n        bindValueToTextContent(config.props.value('title'), titleElem);\n        this.buttonElement.appendChild(titleElem);\n        this.titleElement = titleElem;\n        const markElem = doc.createElement('div');\n        markElem.classList.add(this.className_('m'));\n        this.buttonElement.appendChild(markElem);\n        const containerElem = doc.createElement('div');\n        containerElem.classList.add(this.className_('c'));\n        this.element.appendChild(containerElem);\n        this.containerElement = containerElem;\n    }\n}\n\nclass FolderController extends ContainerBladeController {\n    constructor(doc, config) {\n        var _a;\n        const foldable = Foldable.create((_a = config.expanded) !== null && _a !== void 0 ? _a : true);\n        const view = new FolderView(doc, {\n            foldable: foldable,\n            props: config.props,\n            viewName: config.root ? 'rot' : undefined,\n            viewProps: config.viewProps,\n        });\n        super(Object.assign(Object.assign({}, config), { rackController: new RackController({\n                blade: config.blade,\n                element: view.containerElement,\n                root: config.root,\n                viewProps: config.viewProps,\n            }), view: view }));\n        this.onTitleClick_ = this.onTitleClick_.bind(this);\n        this.props = config.props;\n        this.foldable = foldable;\n        bindFoldable(this.foldable, this.view.containerElement);\n        this.rackController.rack.emitter.on('add', () => {\n            this.foldable.cleanUpTransition();\n        });\n        this.rackController.rack.emitter.on('remove', () => {\n            this.foldable.cleanUpTransition();\n        });\n        this.view.buttonElement.addEventListener('click', this.onTitleClick_);\n    }\n    get document() {\n        return this.view.element.ownerDocument;\n    }\n    importState(state) {\n        return importBladeState(state, (s) => super.importState(s), (p) => ({\n            expanded: p.required.boolean,\n            title: p.optional.string,\n        }), (result) => {\n            this.foldable.set('expanded', result.expanded);\n            this.props.set('title', result.title);\n            return true;\n        });\n    }\n    exportState() {\n        return exportBladeState(() => super.exportState(), {\n            expanded: this.foldable.get('expanded'),\n            title: this.props.get('title'),\n        });\n    }\n    onTitleClick_() {\n        this.foldable.set('expanded', !this.foldable.get('expanded'));\n    }\n}\n\ncreatePlugin({\n    id: 'folder',\n    type: 'blade',\n    accept(params) {\n        const result = parseRecord(params, (p) => ({\n            title: p.required.string,\n            view: p.required.constant('folder'),\n            expanded: p.optional.boolean,\n        }));\n        return result ? { params: result } : null;\n    },\n    controller(args) {\n        return new FolderController(args.document, {\n            blade: args.blade,\n            expanded: args.params.expanded,\n            props: ValueMap.fromObject({\n                title: args.params.title,\n            }),\n            viewProps: args.viewProps,\n        });\n    },\n    api(args) {\n        if (!(args.controller instanceof FolderController)) {\n            return null;\n        }\n        return new FolderApi(args.controller, args.pool);\n    },\n});\n\nconst cn$n = ClassName('');\nfunction valueToModifier(elem, modifier) {\n    return valueToClassName(elem, cn$n(undefined, modifier));\n}\nclass ViewProps extends ValueMap {\n    constructor(valueMap) {\n        var _a;\n        super(valueMap);\n        this.onDisabledChange_ = this.onDisabledChange_.bind(this);\n        this.onParentChange_ = this.onParentChange_.bind(this);\n        this.onParentGlobalDisabledChange_ =\n            this.onParentGlobalDisabledChange_.bind(this);\n        [this.globalDisabled_, this.setGlobalDisabled_] = createReadonlyValue(createValue(this.getGlobalDisabled_()));\n        this.value('disabled').emitter.on('change', this.onDisabledChange_);\n        this.value('parent').emitter.on('change', this.onParentChange_);\n        (_a = this.get('parent')) === null || _a === void 0 ? void 0 : _a.globalDisabled.emitter.on('change', this.onParentGlobalDisabledChange_);\n    }\n    static create(opt_initialValue) {\n        var _a, _b, _c;\n        const initialValue = opt_initialValue !== null && opt_initialValue !== void 0 ? opt_initialValue : {};\n        return new ViewProps(ValueMap.createCore({\n            disabled: (_a = initialValue.disabled) !== null && _a !== void 0 ? _a : false,\n            disposed: false,\n            hidden: (_b = initialValue.hidden) !== null && _b !== void 0 ? _b : false,\n            parent: (_c = initialValue.parent) !== null && _c !== void 0 ? _c : null,\n        }));\n    }\n    get globalDisabled() {\n        return this.globalDisabled_;\n    }\n    bindClassModifiers(elem) {\n        bindValue(this.globalDisabled_, valueToModifier(elem, 'disabled'));\n        bindValueMap(this, 'hidden', valueToModifier(elem, 'hidden'));\n    }\n    bindDisabled(target) {\n        bindValue(this.globalDisabled_, (disabled) => {\n            target.disabled = disabled;\n        });\n    }\n    bindTabIndex(elem) {\n        bindValue(this.globalDisabled_, (disabled) => {\n            elem.tabIndex = disabled ? -1 : 0;\n        });\n    }\n    handleDispose(callback) {\n        this.value('disposed').emitter.on('change', (disposed) => {\n            if (disposed) {\n                callback();\n            }\n        });\n    }\n    importState(state) {\n        this.set('disabled', state.disabled);\n        this.set('hidden', state.hidden);\n    }\n    exportState() {\n        return {\n            disabled: this.get('disabled'),\n            hidden: this.get('hidden'),\n        };\n    }\n    getGlobalDisabled_() {\n        const parent = this.get('parent');\n        const parentDisabled = parent ? parent.globalDisabled.rawValue : false;\n        return parentDisabled || this.get('disabled');\n    }\n    updateGlobalDisabled_() {\n        this.setGlobalDisabled_(this.getGlobalDisabled_());\n    }\n    onDisabledChange_() {\n        this.updateGlobalDisabled_();\n    }\n    onParentGlobalDisabledChange_() {\n        this.updateGlobalDisabled_();\n    }\n    onParentChange_(ev) {\n        var _a;\n        const prevParent = ev.previousRawValue;\n        prevParent === null || prevParent === void 0 ? void 0 : prevParent.globalDisabled.emitter.off('change', this.onParentGlobalDisabledChange_);\n        (_a = this.get('parent')) === null || _a === void 0 ? void 0 : _a.globalDisabled.emitter.on('change', this.onParentGlobalDisabledChange_);\n        this.updateGlobalDisabled_();\n    }\n}\n\nconst cn$m = ClassName('tbp');\nclass TabPageView {\n    constructor(doc, config) {\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$m());\n        config.viewProps.bindClassModifiers(this.element);\n        const containerElem = doc.createElement('div');\n        containerElem.classList.add(cn$m('c'));\n        this.element.appendChild(containerElem);\n        this.containerElement = containerElem;\n    }\n}\n\nconst cn$l = ClassName('tbi');\nclass TabItemView {\n    constructor(doc, config) {\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$l());\n        config.viewProps.bindClassModifiers(this.element);\n        bindValueMap(config.props, 'selected', (selected) => {\n            if (selected) {\n                this.element.classList.add(cn$l(undefined, 'sel'));\n            }\n            else {\n                this.element.classList.remove(cn$l(undefined, 'sel'));\n            }\n        });\n        const buttonElem = doc.createElement('button');\n        buttonElem.classList.add(cn$l('b'));\n        config.viewProps.bindDisabled(buttonElem);\n        this.element.appendChild(buttonElem);\n        this.buttonElement = buttonElem;\n        const titleElem = doc.createElement('div');\n        titleElem.classList.add(cn$l('t'));\n        bindValueToTextContent(config.props.value('title'), titleElem);\n        this.buttonElement.appendChild(titleElem);\n        this.titleElement = titleElem;\n    }\n}\n\nclass TabItemController {\n    constructor(doc, config) {\n        this.emitter = new Emitter();\n        this.onClick_ = this.onClick_.bind(this);\n        this.props = config.props;\n        this.viewProps = config.viewProps;\n        this.view = new TabItemView(doc, {\n            props: config.props,\n            viewProps: config.viewProps,\n        });\n        this.view.buttonElement.addEventListener('click', this.onClick_);\n    }\n    onClick_() {\n        this.emitter.emit('click', {\n            sender: this,\n        });\n    }\n}\n\nclass TabPageController extends ContainerBladeController {\n    constructor(doc, config) {\n        const view = new TabPageView(doc, {\n            viewProps: config.viewProps,\n        });\n        super(Object.assign(Object.assign({}, config), { rackController: new RackController({\n                blade: config.blade,\n                element: view.containerElement,\n                viewProps: config.viewProps,\n            }), view: view }));\n        this.onItemClick_ = this.onItemClick_.bind(this);\n        this.ic_ = new TabItemController(doc, {\n            props: config.itemProps,\n            viewProps: ViewProps.create(),\n        });\n        this.ic_.emitter.on('click', this.onItemClick_);\n        this.props = config.props;\n        bindValueMap(this.props, 'selected', (selected) => {\n            this.itemController.props.set('selected', selected);\n            this.viewProps.set('hidden', !selected);\n        });\n    }\n    get itemController() {\n        return this.ic_;\n    }\n    importState(state) {\n        return importBladeState(state, (s) => super.importState(s), (p) => ({\n            selected: p.required.boolean,\n            title: p.required.string,\n        }), (result) => {\n            this.ic_.props.set('selected', result.selected);\n            this.ic_.props.set('title', result.title);\n            return true;\n        });\n    }\n    exportState() {\n        return exportBladeState(() => super.exportState(), {\n            selected: this.ic_.props.get('selected'),\n            title: this.ic_.props.get('title'),\n        });\n    }\n    onItemClick_() {\n        this.props.set('selected', true);\n    }\n}\n\nclass TabApi extends ContainerBladeApi {\n    constructor(controller, pool) {\n        super(controller, pool);\n        this.emitter_ = new Emitter();\n        this.onSelect_ = this.onSelect_.bind(this);\n        this.pool_ = pool;\n        this.rackApi_.on('change', (ev) => {\n            this.emitter_.emit('change', ev);\n        });\n        this.controller.tab.selectedIndex.emitter.on('change', this.onSelect_);\n    }\n    get pages() {\n        return this.rackApi_.children;\n    }\n    addPage(params) {\n        const doc = this.controller.view.element.ownerDocument;\n        const pc = new TabPageController(doc, {\n            blade: createBlade(),\n            itemProps: ValueMap.fromObject({\n                selected: false,\n                title: params.title,\n            }),\n            props: ValueMap.fromObject({\n                selected: false,\n            }),\n            viewProps: ViewProps.create(),\n        });\n        const papi = this.pool_.createApi(pc);\n        return this.rackApi_.add(papi, params.index);\n    }\n    removePage(index) {\n        this.rackApi_.remove(this.rackApi_.children[index]);\n    }\n    on(eventName, handler) {\n        const bh = handler.bind(this);\n        this.emitter_.on(eventName, (ev) => {\n            bh(ev);\n        });\n        return this;\n    }\n    onSelect_(ev) {\n        this.emitter_.emit('select', new TpTabSelectEvent(this, ev.rawValue));\n    }\n}\n\nclass TabPageApi extends ContainerBladeApi {\n    get title() {\n        var _a;\n        return (_a = this.controller.itemController.props.get('title')) !== null && _a !== void 0 ? _a : '';\n    }\n    set title(title) {\n        this.controller.itemController.props.set('title', title);\n    }\n    get selected() {\n        return this.controller.props.get('selected');\n    }\n    set selected(selected) {\n        this.controller.props.set('selected', selected);\n    }\n    get children() {\n        return this.rackApi_.children;\n    }\n    addButton(params) {\n        return this.rackApi_.addButton(params);\n    }\n    addFolder(params) {\n        return this.rackApi_.addFolder(params);\n    }\n    addTab(params) {\n        return this.rackApi_.addTab(params);\n    }\n    add(api, opt_index) {\n        this.rackApi_.add(api, opt_index);\n    }\n    remove(api) {\n        this.rackApi_.remove(api);\n    }\n    addBinding(object, key, opt_params) {\n        return this.rackApi_.addBinding(object, key, opt_params);\n    }\n    addBlade(params) {\n        return this.rackApi_.addBlade(params);\n    }\n    refresh() {\n        this.rackApi_.refresh();\n    }\n}\n\nconst INDEX_NOT_SELECTED = -1;\nclass Tab {\n    constructor() {\n        this.onItemSelectedChange_ = this.onItemSelectedChange_.bind(this);\n        this.empty = createValue(true);\n        this.selectedIndex = createValue(INDEX_NOT_SELECTED);\n        this.items_ = [];\n    }\n    add(item, opt_index) {\n        const index = opt_index !== null && opt_index !== void 0 ? opt_index : this.items_.length;\n        this.items_.splice(index, 0, item);\n        item.emitter.on('change', this.onItemSelectedChange_);\n        this.keepSelection_();\n    }\n    remove(item) {\n        const index = this.items_.indexOf(item);\n        if (index < 0) {\n            return;\n        }\n        this.items_.splice(index, 1);\n        item.emitter.off('change', this.onItemSelectedChange_);\n        this.keepSelection_();\n    }\n    keepSelection_() {\n        if (this.items_.length === 0) {\n            this.selectedIndex.rawValue = INDEX_NOT_SELECTED;\n            this.empty.rawValue = true;\n            return;\n        }\n        const firstSelIndex = this.items_.findIndex((s) => s.rawValue);\n        if (firstSelIndex < 0) {\n            this.items_.forEach((s, i) => {\n                s.rawValue = i === 0;\n            });\n            this.selectedIndex.rawValue = 0;\n        }\n        else {\n            this.items_.forEach((s, i) => {\n                s.rawValue = i === firstSelIndex;\n            });\n            this.selectedIndex.rawValue = firstSelIndex;\n        }\n        this.empty.rawValue = false;\n    }\n    onItemSelectedChange_(ev) {\n        if (ev.rawValue) {\n            const index = this.items_.findIndex((s) => s === ev.sender);\n            this.items_.forEach((s, i) => {\n                s.rawValue = i === index;\n            });\n            this.selectedIndex.rawValue = index;\n        }\n        else {\n            this.keepSelection_();\n        }\n    }\n}\n\nconst cn$k = ClassName('tab');\nclass TabView {\n    constructor(doc, config) {\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$k(), bladeContainerClassName());\n        config.viewProps.bindClassModifiers(this.element);\n        bindValue(config.empty, valueToClassName(this.element, cn$k(undefined, 'nop')));\n        const titleElem = doc.createElement('div');\n        titleElem.classList.add(cn$k('t'));\n        this.element.appendChild(titleElem);\n        this.itemsElement = titleElem;\n        const indentElem = doc.createElement('div');\n        indentElem.classList.add(cn$k('i'));\n        this.element.appendChild(indentElem);\n        const contentsElem = doc.createElement('div');\n        contentsElem.classList.add(cn$k('c'));\n        this.element.appendChild(contentsElem);\n        this.contentsElement = contentsElem;\n    }\n}\n\nclass TabController extends ContainerBladeController {\n    constructor(doc, config) {\n        const tab = new Tab();\n        const view = new TabView(doc, {\n            empty: tab.empty,\n            viewProps: config.viewProps,\n        });\n        super({\n            blade: config.blade,\n            rackController: new RackController({\n                blade: config.blade,\n                element: view.contentsElement,\n                viewProps: config.viewProps,\n            }),\n            view: view,\n        });\n        this.onRackAdd_ = this.onRackAdd_.bind(this);\n        this.onRackRemove_ = this.onRackRemove_.bind(this);\n        const rack = this.rackController.rack;\n        rack.emitter.on('add', this.onRackAdd_);\n        rack.emitter.on('remove', this.onRackRemove_);\n        this.tab = tab;\n    }\n    add(pc, opt_index) {\n        this.rackController.rack.add(pc, opt_index);\n    }\n    remove(index) {\n        this.rackController.rack.remove(this.rackController.rack.children[index]);\n    }\n    onRackAdd_(ev) {\n        if (!ev.root) {\n            return;\n        }\n        const pc = ev.bladeController;\n        insertElementAt(this.view.itemsElement, pc.itemController.view.element, ev.index);\n        pc.itemController.viewProps.set('parent', this.viewProps);\n        this.tab.add(pc.props.value('selected'));\n    }\n    onRackRemove_(ev) {\n        if (!ev.root) {\n            return;\n        }\n        const pc = ev.bladeController;\n        removeElement(pc.itemController.view.element);\n        pc.itemController.viewProps.set('parent', null);\n        this.tab.remove(pc.props.value('selected'));\n    }\n}\n\ncreatePlugin({\n    id: 'tab',\n    type: 'blade',\n    accept(params) {\n        const result = parseRecord(params, (p) => ({\n            pages: p.required.array(p.required.object({ title: p.required.string })),\n            view: p.required.constant('tab'),\n        }));\n        if (!result || result.pages.length === 0) {\n            return null;\n        }\n        return { params: result };\n    },\n    controller(args) {\n        const c = new TabController(args.document, {\n            blade: args.blade,\n            viewProps: args.viewProps,\n        });\n        args.params.pages.forEach((p) => {\n            const pc = new TabPageController(args.document, {\n                blade: createBlade(),\n                itemProps: ValueMap.fromObject({\n                    selected: false,\n                    title: p.title,\n                }),\n                props: ValueMap.fromObject({\n                    selected: false,\n                }),\n                viewProps: ViewProps.create(),\n            });\n            c.add(pc);\n        });\n        return c;\n    },\n    api(args) {\n        if (args.controller instanceof TabController) {\n            return new TabApi(args.controller, args.pool);\n        }\n        if (args.controller instanceof TabPageController) {\n            return new TabPageApi(args.controller, args.pool);\n        }\n        return null;\n    },\n});\n\nclass ListInputBindingApi extends BindingApi {\n    get options() {\n        return this.controller.valueController.props.get('options');\n    }\n    set options(options) {\n        this.controller.valueController.props.set('options', options);\n    }\n}\n\nclass ManualTicker {\n    constructor() {\n        this.disabled = false;\n        this.emitter = new Emitter();\n    }\n    dispose() { }\n    tick() {\n        if (this.disabled) {\n            return;\n        }\n        this.emitter.emit('tick', {\n            sender: this,\n        });\n    }\n}\n\nclass IntervalTicker {\n    constructor(doc, interval) {\n        this.disabled_ = false;\n        this.timerId_ = null;\n        this.onTick_ = this.onTick_.bind(this);\n        this.doc_ = doc;\n        this.emitter = new Emitter();\n        this.interval_ = interval;\n        this.setTimer_();\n    }\n    get disabled() {\n        return this.disabled_;\n    }\n    set disabled(inactive) {\n        this.disabled_ = inactive;\n        if (this.disabled_) {\n            this.clearTimer_();\n        }\n        else {\n            this.setTimer_();\n        }\n    }\n    dispose() {\n        this.clearTimer_();\n    }\n    clearTimer_() {\n        if (this.timerId_ === null) {\n            return;\n        }\n        const win = this.doc_.defaultView;\n        if (win) {\n            win.clearInterval(this.timerId_);\n        }\n        this.timerId_ = null;\n    }\n    setTimer_() {\n        this.clearTimer_();\n        if (this.interval_ <= 0) {\n            return;\n        }\n        const win = this.doc_.defaultView;\n        if (win) {\n            this.timerId_ = win.setInterval(this.onTick_, this.interval_);\n        }\n    }\n    onTick_() {\n        if (this.disabled_) {\n            return;\n        }\n        this.emitter.emit('tick', {\n            sender: this,\n        });\n    }\n}\n\nclass CompositeConstraint {\n    constructor(constraints) {\n        this.constraints = constraints;\n    }\n    constrain(value) {\n        return this.constraints.reduce((result, c) => {\n            return c.constrain(result);\n        }, value);\n    }\n}\nfunction findConstraint(c, constraintClass) {\n    if (c instanceof constraintClass) {\n        return c;\n    }\n    if (c instanceof CompositeConstraint) {\n        const result = c.constraints.reduce((tmpResult, sc) => {\n            if (tmpResult) {\n                return tmpResult;\n            }\n            return sc instanceof constraintClass ? sc : null;\n        }, null);\n        if (result) {\n            return result;\n        }\n    }\n    return null;\n}\n\nclass ListConstraint {\n    constructor(options) {\n        this.values = ValueMap.fromObject({\n            options: options,\n        });\n    }\n    constrain(value) {\n        const opts = this.values.get('options');\n        if (opts.length === 0) {\n            return value;\n        }\n        const matched = opts.filter((item) => {\n            return item.value === value;\n        }).length > 0;\n        return matched ? value : opts[0].value;\n    }\n}\n\nfunction parseListOptions(value) {\n    var _a;\n    const p = MicroParsers;\n    if (Array.isArray(value)) {\n        return (_a = parseRecord({ items: value }, (p) => ({\n            items: p.required.array(p.required.object({\n                text: p.required.string,\n                value: p.required.raw,\n            })),\n        }))) === null || _a === void 0 ? void 0 : _a.items;\n    }\n    if (typeof value === 'object') {\n        return p.required.raw(value)\n            .value;\n    }\n    return undefined;\n}\nfunction normalizeListOptions(options) {\n    if (Array.isArray(options)) {\n        return options;\n    }\n    const items = [];\n    Object.keys(options).forEach((text) => {\n        items.push({ text: text, value: options[text] });\n    });\n    return items;\n}\nfunction createListConstraint(options) {\n    return !isEmpty(options)\n        ? new ListConstraint(normalizeListOptions(forceCast(options)))\n        : null;\n}\n\nconst cn$j = ClassName('lst');\nclass ListView {\n    constructor(doc, config) {\n        this.onValueChange_ = this.onValueChange_.bind(this);\n        this.props_ = config.props;\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$j());\n        config.viewProps.bindClassModifiers(this.element);\n        const selectElem = doc.createElement('select');\n        selectElem.classList.add(cn$j('s'));\n        config.viewProps.bindDisabled(selectElem);\n        this.element.appendChild(selectElem);\n        this.selectElement = selectElem;\n        const markElem = doc.createElement('div');\n        markElem.classList.add(cn$j('m'));\n        markElem.appendChild(createSvgIconElement(doc, 'dropdown'));\n        this.element.appendChild(markElem);\n        config.value.emitter.on('change', this.onValueChange_);\n        this.value_ = config.value;\n        bindValueMap(this.props_, 'options', (opts) => {\n            removeChildElements(this.selectElement);\n            opts.forEach((item) => {\n                const optionElem = doc.createElement('option');\n                optionElem.textContent = item.text;\n                this.selectElement.appendChild(optionElem);\n            });\n            this.update_();\n        });\n    }\n    update_() {\n        const values = this.props_.get('options').map((o) => o.value);\n        this.selectElement.selectedIndex = values.indexOf(this.value_.rawValue);\n    }\n    onValueChange_() {\n        this.update_();\n    }\n}\n\nclass ListController {\n    constructor(doc, config) {\n        this.onSelectChange_ = this.onSelectChange_.bind(this);\n        this.props = config.props;\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.view = new ListView(doc, {\n            props: this.props,\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        this.view.selectElement.addEventListener('change', this.onSelectChange_);\n    }\n    onSelectChange_(e) {\n        const selectElem = forceCast(e.currentTarget);\n        this.value.rawValue =\n            this.props.get('options')[selectElem.selectedIndex].value;\n    }\n    importProps(state) {\n        return importBladeState(state, null, (p) => ({\n            options: p.required.custom(parseListOptions),\n        }), (result) => {\n            this.props.set('options', normalizeListOptions(result.options));\n            return true;\n        });\n    }\n    exportProps() {\n        return exportBladeState(null, {\n            options: this.props.get('options'),\n        });\n    }\n}\n\nconst cn$i = ClassName('pop');\nclass PopupView {\n    constructor(doc, config) {\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$i());\n        config.viewProps.bindClassModifiers(this.element);\n        bindValue(config.shows, valueToClassName(this.element, cn$i(undefined, 'v')));\n    }\n}\n\nclass PopupController {\n    constructor(doc, config) {\n        this.shows = createValue(false);\n        this.viewProps = config.viewProps;\n        this.view = new PopupView(doc, {\n            shows: this.shows,\n            viewProps: this.viewProps,\n        });\n    }\n}\n\nconst cn$h = ClassName('txt');\nclass TextView {\n    constructor(doc, config) {\n        this.onChange_ = this.onChange_.bind(this);\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$h());\n        config.viewProps.bindClassModifiers(this.element);\n        this.props_ = config.props;\n        this.props_.emitter.on('change', this.onChange_);\n        const inputElem = doc.createElement('input');\n        inputElem.classList.add(cn$h('i'));\n        inputElem.type = 'text';\n        config.viewProps.bindDisabled(inputElem);\n        this.element.appendChild(inputElem);\n        this.inputElement = inputElem;\n        config.value.emitter.on('change', this.onChange_);\n        this.value_ = config.value;\n        this.refresh();\n    }\n    refresh() {\n        const formatter = this.props_.get('formatter');\n        this.inputElement.value = formatter(this.value_.rawValue);\n    }\n    onChange_() {\n        this.refresh();\n    }\n}\n\nclass TextController {\n    constructor(doc, config) {\n        this.onInputChange_ = this.onInputChange_.bind(this);\n        this.parser_ = config.parser;\n        this.props = config.props;\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.view = new TextView(doc, {\n            props: config.props,\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        this.view.inputElement.addEventListener('change', this.onInputChange_);\n    }\n    onInputChange_(e) {\n        const inputElem = forceCast(e.currentTarget);\n        const value = inputElem.value;\n        const parsedValue = this.parser_(value);\n        if (!isEmpty(parsedValue)) {\n            this.value.rawValue = parsedValue;\n        }\n        this.view.refresh();\n    }\n}\n\nfunction boolToString(value) {\n    return String(value);\n}\nfunction boolFromUnknown(value) {\n    if (value === 'false') {\n        return false;\n    }\n    return !!value;\n}\nfunction BooleanFormatter(value) {\n    return boolToString(value);\n}\n\nfunction composeParsers(parsers) {\n    return (text) => {\n        return parsers.reduce((result, parser) => {\n            if (result !== null) {\n                return result;\n            }\n            return parser(text);\n        }, null);\n    };\n}\n\nconst innerFormatter = createNumberFormatter(0);\nfunction formatPercentage(value) {\n    return innerFormatter(value) + '%';\n}\n\nfunction stringFromUnknown(value) {\n    return String(value);\n}\nfunction formatString(value) {\n    return value;\n}\n\nfunction connectValues({ primary, secondary, forward, backward, }) {\n    let changing = false;\n    function preventFeedback(callback) {\n        if (changing) {\n            return;\n        }\n        changing = true;\n        callback();\n        changing = false;\n    }\n    primary.emitter.on('change', (ev) => {\n        preventFeedback(() => {\n            secondary.setRawValue(forward(primary.rawValue, secondary.rawValue), ev.options);\n        });\n    });\n    secondary.emitter.on('change', (ev) => {\n        preventFeedback(() => {\n            primary.setRawValue(backward(primary.rawValue, secondary.rawValue), ev.options);\n        });\n        preventFeedback(() => {\n            secondary.setRawValue(forward(primary.rawValue, secondary.rawValue), ev.options);\n        });\n    });\n    preventFeedback(() => {\n        secondary.setRawValue(forward(primary.rawValue, secondary.rawValue), {\n            forceEmit: false,\n            last: true,\n        });\n    });\n}\n\nfunction getStepForKey(keyScale, keys) {\n    const step = keyScale * (keys.altKey ? 0.1 : 1) * (keys.shiftKey ? 10 : 1);\n    if (keys.upKey) {\n        return +step;\n    }\n    else if (keys.downKey) {\n        return -step;\n    }\n    return 0;\n}\nfunction getVerticalStepKeys(ev) {\n    return {\n        altKey: ev.altKey,\n        downKey: ev.key === 'ArrowDown',\n        shiftKey: ev.shiftKey,\n        upKey: ev.key === 'ArrowUp',\n    };\n}\nfunction getHorizontalStepKeys(ev) {\n    return {\n        altKey: ev.altKey,\n        downKey: ev.key === 'ArrowLeft',\n        shiftKey: ev.shiftKey,\n        upKey: ev.key === 'ArrowRight',\n    };\n}\nfunction isVerticalArrowKey(key) {\n    return key === 'ArrowUp' || key === 'ArrowDown';\n}\nfunction isArrowKey(key) {\n    return isVerticalArrowKey(key) || key === 'ArrowLeft' || key === 'ArrowRight';\n}\n\nfunction computeOffset$1(ev, elem) {\n    var _a, _b;\n    const win = elem.ownerDocument.defaultView;\n    const rect = elem.getBoundingClientRect();\n    return {\n        x: ev.pageX - (((_a = (win && win.scrollX)) !== null && _a !== void 0 ? _a : 0) + rect.left),\n        y: ev.pageY - (((_b = (win && win.scrollY)) !== null && _b !== void 0 ? _b : 0) + rect.top),\n    };\n}\nclass PointerHandler {\n    constructor(element) {\n        this.lastTouch_ = null;\n        this.onDocumentMouseMove_ = this.onDocumentMouseMove_.bind(this);\n        this.onDocumentMouseUp_ = this.onDocumentMouseUp_.bind(this);\n        this.onMouseDown_ = this.onMouseDown_.bind(this);\n        this.onTouchEnd_ = this.onTouchEnd_.bind(this);\n        this.onTouchMove_ = this.onTouchMove_.bind(this);\n        this.onTouchStart_ = this.onTouchStart_.bind(this);\n        this.elem_ = element;\n        this.emitter = new Emitter();\n        element.addEventListener('touchstart', this.onTouchStart_, {\n            passive: false,\n        });\n        element.addEventListener('touchmove', this.onTouchMove_, {\n            passive: true,\n        });\n        element.addEventListener('touchend', this.onTouchEnd_);\n        element.addEventListener('mousedown', this.onMouseDown_);\n    }\n    computePosition_(offset) {\n        const rect = this.elem_.getBoundingClientRect();\n        return {\n            bounds: {\n                width: rect.width,\n                height: rect.height,\n            },\n            point: offset\n                ? {\n                    x: offset.x,\n                    y: offset.y,\n                }\n                : null,\n        };\n    }\n    onMouseDown_(ev) {\n        var _a;\n        ev.preventDefault();\n        (_a = ev.currentTarget) === null || _a === void 0 ? void 0 : _a.focus();\n        const doc = this.elem_.ownerDocument;\n        doc.addEventListener('mousemove', this.onDocumentMouseMove_);\n        doc.addEventListener('mouseup', this.onDocumentMouseUp_);\n        this.emitter.emit('down', {\n            altKey: ev.altKey,\n            data: this.computePosition_(computeOffset$1(ev, this.elem_)),\n            sender: this,\n            shiftKey: ev.shiftKey,\n        });\n    }\n    onDocumentMouseMove_(ev) {\n        this.emitter.emit('move', {\n            altKey: ev.altKey,\n            data: this.computePosition_(computeOffset$1(ev, this.elem_)),\n            sender: this,\n            shiftKey: ev.shiftKey,\n        });\n    }\n    onDocumentMouseUp_(ev) {\n        const doc = this.elem_.ownerDocument;\n        doc.removeEventListener('mousemove', this.onDocumentMouseMove_);\n        doc.removeEventListener('mouseup', this.onDocumentMouseUp_);\n        this.emitter.emit('up', {\n            altKey: ev.altKey,\n            data: this.computePosition_(computeOffset$1(ev, this.elem_)),\n            sender: this,\n            shiftKey: ev.shiftKey,\n        });\n    }\n    onTouchStart_(ev) {\n        ev.preventDefault();\n        const touch = ev.targetTouches.item(0);\n        const rect = this.elem_.getBoundingClientRect();\n        this.emitter.emit('down', {\n            altKey: ev.altKey,\n            data: this.computePosition_(touch\n                ? {\n                    x: touch.clientX - rect.left,\n                    y: touch.clientY - rect.top,\n                }\n                : undefined),\n            sender: this,\n            shiftKey: ev.shiftKey,\n        });\n        this.lastTouch_ = touch;\n    }\n    onTouchMove_(ev) {\n        const touch = ev.targetTouches.item(0);\n        const rect = this.elem_.getBoundingClientRect();\n        this.emitter.emit('move', {\n            altKey: ev.altKey,\n            data: this.computePosition_(touch\n                ? {\n                    x: touch.clientX - rect.left,\n                    y: touch.clientY - rect.top,\n                }\n                : undefined),\n            sender: this,\n            shiftKey: ev.shiftKey,\n        });\n        this.lastTouch_ = touch;\n    }\n    onTouchEnd_(ev) {\n        var _a;\n        const touch = (_a = ev.targetTouches.item(0)) !== null && _a !== void 0 ? _a : this.lastTouch_;\n        const rect = this.elem_.getBoundingClientRect();\n        this.emitter.emit('up', {\n            altKey: ev.altKey,\n            data: this.computePosition_(touch\n                ? {\n                    x: touch.clientX - rect.left,\n                    y: touch.clientY - rect.top,\n                }\n                : undefined),\n            sender: this,\n            shiftKey: ev.shiftKey,\n        });\n    }\n}\n\nconst cn$g = ClassName('txt');\nclass NumberTextView {\n    constructor(doc, config) {\n        this.onChange_ = this.onChange_.bind(this);\n        this.props_ = config.props;\n        this.props_.emitter.on('change', this.onChange_);\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$g(), cn$g(undefined, 'num'));\n        if (config.arrayPosition) {\n            this.element.classList.add(cn$g(undefined, config.arrayPosition));\n        }\n        config.viewProps.bindClassModifiers(this.element);\n        const inputElem = doc.createElement('input');\n        inputElem.classList.add(cn$g('i'));\n        inputElem.type = 'text';\n        config.viewProps.bindDisabled(inputElem);\n        this.element.appendChild(inputElem);\n        this.inputElement = inputElem;\n        this.onDraggingChange_ = this.onDraggingChange_.bind(this);\n        this.dragging_ = config.dragging;\n        this.dragging_.emitter.on('change', this.onDraggingChange_);\n        this.element.classList.add(cn$g());\n        this.inputElement.classList.add(cn$g('i'));\n        const knobElem = doc.createElement('div');\n        knobElem.classList.add(cn$g('k'));\n        this.element.appendChild(knobElem);\n        this.knobElement = knobElem;\n        const guideElem = doc.createElementNS(SVG_NS, 'svg');\n        guideElem.classList.add(cn$g('g'));\n        this.knobElement.appendChild(guideElem);\n        const bodyElem = doc.createElementNS(SVG_NS, 'path');\n        bodyElem.classList.add(cn$g('gb'));\n        guideElem.appendChild(bodyElem);\n        this.guideBodyElem_ = bodyElem;\n        const headElem = doc.createElementNS(SVG_NS, 'path');\n        headElem.classList.add(cn$g('gh'));\n        guideElem.appendChild(headElem);\n        this.guideHeadElem_ = headElem;\n        const tooltipElem = doc.createElement('div');\n        tooltipElem.classList.add(ClassName('tt')());\n        this.knobElement.appendChild(tooltipElem);\n        this.tooltipElem_ = tooltipElem;\n        config.value.emitter.on('change', this.onChange_);\n        this.value = config.value;\n        this.refresh();\n    }\n    onDraggingChange_(ev) {\n        if (ev.rawValue === null) {\n            this.element.classList.remove(cn$g(undefined, 'drg'));\n            return;\n        }\n        this.element.classList.add(cn$g(undefined, 'drg'));\n        const x = ev.rawValue / this.props_.get('pointerScale');\n        const aox = x + (x > 0 ? -1 : x < 0 ? +1 : 0);\n        const adx = constrainRange(-aox, -4, +4);\n        this.guideHeadElem_.setAttributeNS(null, 'd', [`M ${aox + adx},0 L${aox},4 L${aox + adx},8`, `M ${x},-1 L${x},9`].join(' '));\n        this.guideBodyElem_.setAttributeNS(null, 'd', `M 0,4 L${x},4`);\n        const formatter = this.props_.get('formatter');\n        this.tooltipElem_.textContent = formatter(this.value.rawValue);\n        this.tooltipElem_.style.left = `${x}px`;\n    }\n    refresh() {\n        const formatter = this.props_.get('formatter');\n        this.inputElement.value = formatter(this.value.rawValue);\n    }\n    onChange_() {\n        this.refresh();\n    }\n}\n\nclass NumberTextController {\n    constructor(doc, config) {\n        var _a;\n        this.originRawValue_ = 0;\n        this.onInputChange_ = this.onInputChange_.bind(this);\n        this.onInputKeyDown_ = this.onInputKeyDown_.bind(this);\n        this.onInputKeyUp_ = this.onInputKeyUp_.bind(this);\n        this.onPointerDown_ = this.onPointerDown_.bind(this);\n        this.onPointerMove_ = this.onPointerMove_.bind(this);\n        this.onPointerUp_ = this.onPointerUp_.bind(this);\n        this.parser_ = config.parser;\n        this.props = config.props;\n        this.sliderProps_ = (_a = config.sliderProps) !== null && _a !== void 0 ? _a : null;\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.dragging_ = createValue(null);\n        this.view = new NumberTextView(doc, {\n            arrayPosition: config.arrayPosition,\n            dragging: this.dragging_,\n            props: this.props,\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        this.view.inputElement.addEventListener('change', this.onInputChange_);\n        this.view.inputElement.addEventListener('keydown', this.onInputKeyDown_);\n        this.view.inputElement.addEventListener('keyup', this.onInputKeyUp_);\n        const ph = new PointerHandler(this.view.knobElement);\n        ph.emitter.on('down', this.onPointerDown_);\n        ph.emitter.on('move', this.onPointerMove_);\n        ph.emitter.on('up', this.onPointerUp_);\n    }\n    constrainValue_(value) {\n        var _a, _b;\n        const min = (_a = this.sliderProps_) === null || _a === void 0 ? void 0 : _a.get('min');\n        const max = (_b = this.sliderProps_) === null || _b === void 0 ? void 0 : _b.get('max');\n        let v = value;\n        if (min !== undefined) {\n            v = Math.max(v, min);\n        }\n        if (max !== undefined) {\n            v = Math.min(v, max);\n        }\n        return v;\n    }\n    onInputChange_(e) {\n        const inputElem = forceCast(e.currentTarget);\n        const value = inputElem.value;\n        const parsedValue = this.parser_(value);\n        if (!isEmpty(parsedValue)) {\n            this.value.rawValue = this.constrainValue_(parsedValue);\n        }\n        this.view.refresh();\n    }\n    onInputKeyDown_(ev) {\n        const step = getStepForKey(this.props.get('keyScale'), getVerticalStepKeys(ev));\n        if (step === 0) {\n            return;\n        }\n        this.value.setRawValue(this.constrainValue_(this.value.rawValue + step), {\n            forceEmit: false,\n            last: false,\n        });\n    }\n    onInputKeyUp_(ev) {\n        const step = getStepForKey(this.props.get('keyScale'), getVerticalStepKeys(ev));\n        if (step === 0) {\n            return;\n        }\n        this.value.setRawValue(this.value.rawValue, {\n            forceEmit: true,\n            last: true,\n        });\n    }\n    onPointerDown_() {\n        this.originRawValue_ = this.value.rawValue;\n        this.dragging_.rawValue = 0;\n    }\n    computeDraggingValue_(data) {\n        if (!data.point) {\n            return null;\n        }\n        const dx = data.point.x - data.bounds.width / 2;\n        return this.constrainValue_(this.originRawValue_ + dx * this.props.get('pointerScale'));\n    }\n    onPointerMove_(ev) {\n        const v = this.computeDraggingValue_(ev.data);\n        if (v === null) {\n            return;\n        }\n        this.value.setRawValue(v, {\n            forceEmit: false,\n            last: false,\n        });\n        this.dragging_.rawValue = this.value.rawValue - this.originRawValue_;\n    }\n    onPointerUp_(ev) {\n        const v = this.computeDraggingValue_(ev.data);\n        if (v === null) {\n            return;\n        }\n        this.value.setRawValue(v, {\n            forceEmit: true,\n            last: true,\n        });\n        this.dragging_.rawValue = null;\n    }\n}\n\nconst cn$f = ClassName('sld');\nclass SliderView {\n    constructor(doc, config) {\n        this.onChange_ = this.onChange_.bind(this);\n        this.props_ = config.props;\n        this.props_.emitter.on('change', this.onChange_);\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$f());\n        config.viewProps.bindClassModifiers(this.element);\n        const trackElem = doc.createElement('div');\n        trackElem.classList.add(cn$f('t'));\n        config.viewProps.bindTabIndex(trackElem);\n        this.element.appendChild(trackElem);\n        this.trackElement = trackElem;\n        const knobElem = doc.createElement('div');\n        knobElem.classList.add(cn$f('k'));\n        this.trackElement.appendChild(knobElem);\n        this.knobElement = knobElem;\n        config.value.emitter.on('change', this.onChange_);\n        this.value = config.value;\n        this.update_();\n    }\n    update_() {\n        const p = constrainRange(mapRange(this.value.rawValue, this.props_.get('min'), this.props_.get('max'), 0, 100), 0, 100);\n        this.knobElement.style.width = `${p}%`;\n    }\n    onChange_() {\n        this.update_();\n    }\n}\n\nclass SliderController {\n    constructor(doc, config) {\n        this.onKeyDown_ = this.onKeyDown_.bind(this);\n        this.onKeyUp_ = this.onKeyUp_.bind(this);\n        this.onPointerDownOrMove_ = this.onPointerDownOrMove_.bind(this);\n        this.onPointerUp_ = this.onPointerUp_.bind(this);\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.props = config.props;\n        this.view = new SliderView(doc, {\n            props: this.props,\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        this.ptHandler_ = new PointerHandler(this.view.trackElement);\n        this.ptHandler_.emitter.on('down', this.onPointerDownOrMove_);\n        this.ptHandler_.emitter.on('move', this.onPointerDownOrMove_);\n        this.ptHandler_.emitter.on('up', this.onPointerUp_);\n        this.view.trackElement.addEventListener('keydown', this.onKeyDown_);\n        this.view.trackElement.addEventListener('keyup', this.onKeyUp_);\n    }\n    handlePointerEvent_(d, opts) {\n        if (!d.point) {\n            return;\n        }\n        this.value.setRawValue(mapRange(constrainRange(d.point.x, 0, d.bounds.width), 0, d.bounds.width, this.props.get('min'), this.props.get('max')), opts);\n    }\n    onPointerDownOrMove_(ev) {\n        this.handlePointerEvent_(ev.data, {\n            forceEmit: false,\n            last: false,\n        });\n    }\n    onPointerUp_(ev) {\n        this.handlePointerEvent_(ev.data, {\n            forceEmit: true,\n            last: true,\n        });\n    }\n    onKeyDown_(ev) {\n        const step = getStepForKey(this.props.get('keyScale'), getHorizontalStepKeys(ev));\n        if (step === 0) {\n            return;\n        }\n        this.value.setRawValue(this.value.rawValue + step, {\n            forceEmit: false,\n            last: false,\n        });\n    }\n    onKeyUp_(ev) {\n        const step = getStepForKey(this.props.get('keyScale'), getHorizontalStepKeys(ev));\n        if (step === 0) {\n            return;\n        }\n        this.value.setRawValue(this.value.rawValue, {\n            forceEmit: true,\n            last: true,\n        });\n    }\n}\n\nconst cn$e = ClassName('sldtxt');\nclass SliderTextView {\n    constructor(doc, config) {\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$e());\n        const sliderElem = doc.createElement('div');\n        sliderElem.classList.add(cn$e('s'));\n        this.sliderView_ = config.sliderView;\n        sliderElem.appendChild(this.sliderView_.element);\n        this.element.appendChild(sliderElem);\n        const textElem = doc.createElement('div');\n        textElem.classList.add(cn$e('t'));\n        this.textView_ = config.textView;\n        textElem.appendChild(this.textView_.element);\n        this.element.appendChild(textElem);\n    }\n}\n\nclass SliderTextController {\n    constructor(doc, config) {\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.sliderC_ = new SliderController(doc, {\n            props: config.sliderProps,\n            value: config.value,\n            viewProps: this.viewProps,\n        });\n        this.textC_ = new NumberTextController(doc, {\n            parser: config.parser,\n            props: config.textProps,\n            sliderProps: config.sliderProps,\n            value: config.value,\n            viewProps: config.viewProps,\n        });\n        this.view = new SliderTextView(doc, {\n            sliderView: this.sliderC_.view,\n            textView: this.textC_.view,\n        });\n    }\n    get sliderController() {\n        return this.sliderC_;\n    }\n    get textController() {\n        return this.textC_;\n    }\n    importProps(state) {\n        return importBladeState(state, null, (p) => ({\n            max: p.required.number,\n            min: p.required.number,\n        }), (result) => {\n            const sliderProps = this.sliderC_.props;\n            sliderProps.set('max', result.max);\n            sliderProps.set('min', result.min);\n            return true;\n        });\n    }\n    exportProps() {\n        const sliderProps = this.sliderC_.props;\n        return exportBladeState(null, {\n            max: sliderProps.get('max'),\n            min: sliderProps.get('min'),\n        });\n    }\n}\nfunction createSliderTextProps(config) {\n    return {\n        sliderProps: new ValueMap({\n            keyScale: config.keyScale,\n            max: config.max,\n            min: config.min,\n        }),\n        textProps: new ValueMap({\n            formatter: createValue(config.formatter),\n            keyScale: config.keyScale,\n            pointerScale: createValue(config.pointerScale),\n        }),\n    };\n}\n\nconst CSS_VAR_MAP = {\n    containerUnitSize: 'cnt-usz',\n};\nfunction getCssVar(key) {\n    return `--${CSS_VAR_MAP[key]}`;\n}\n\nclass PlainView {\n    constructor(doc, config) {\n        const cn = ClassName(config.viewName);\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn());\n        config.viewProps.bindClassModifiers(this.element);\n    }\n}\n\nfunction createPointDimensionParser(p) {\n    return createNumberTextInputParamsParser(p);\n}\nfunction parsePointDimensionParams(value) {\n    if (!isRecord(value)) {\n        return undefined;\n    }\n    return parseRecord(value, createPointDimensionParser);\n}\nfunction createDimensionConstraint(params, initialValue) {\n    if (!params) {\n        return undefined;\n    }\n    const constraints = [];\n    const cs = createStepConstraint(params, initialValue);\n    if (cs) {\n        constraints.push(cs);\n    }\n    const rs = createRangeConstraint(params);\n    if (rs) {\n        constraints.push(rs);\n    }\n    return new CompositeConstraint(constraints);\n}\n\nfunction parsePickerLayout(value) {\n    if (value === 'inline' || value === 'popup') {\n        return value;\n    }\n    return undefined;\n}\n\nfunction writePrimitive(target, value) {\n    target.write(value);\n}\n\nconst cn$d = ClassName('ckb');\nclass CheckboxView {\n    constructor(doc, config) {\n        this.onValueChange_ = this.onValueChange_.bind(this);\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$d());\n        config.viewProps.bindClassModifiers(this.element);\n        const labelElem = doc.createElement('label');\n        labelElem.classList.add(cn$d('l'));\n        this.element.appendChild(labelElem);\n        const inputElem = doc.createElement('input');\n        inputElem.classList.add(cn$d('i'));\n        inputElem.type = 'checkbox';\n        labelElem.appendChild(inputElem);\n        this.inputElement = inputElem;\n        config.viewProps.bindDisabled(this.inputElement);\n        const wrapperElem = doc.createElement('div');\n        wrapperElem.classList.add(cn$d('w'));\n        labelElem.appendChild(wrapperElem);\n        const markElem = createSvgIconElement(doc, 'check');\n        wrapperElem.appendChild(markElem);\n        config.value.emitter.on('change', this.onValueChange_);\n        this.value = config.value;\n        this.update_();\n    }\n    update_() {\n        this.inputElement.checked = this.value.rawValue;\n    }\n    onValueChange_() {\n        this.update_();\n    }\n}\n\nclass CheckboxController {\n    constructor(doc, config) {\n        this.onInputChange_ = this.onInputChange_.bind(this);\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.view = new CheckboxView(doc, {\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        this.view.inputElement.addEventListener('change', this.onInputChange_);\n    }\n    onInputChange_(e) {\n        const inputElem = forceCast(e.currentTarget);\n        this.value.rawValue = inputElem.checked;\n    }\n}\n\nfunction createConstraint$8(params) {\n    const constraints = [];\n    const lc = createListConstraint(params.options);\n    if (lc) {\n        constraints.push(lc);\n    }\n    return new CompositeConstraint(constraints);\n}\ncreatePlugin({\n    id: 'input-bool',\n    type: 'input',\n    accept: (value, params) => {\n        if (typeof value !== 'boolean') {\n            return null;\n        }\n        const result = parseRecord(params, (p) => ({\n            options: p.optional.custom(parseListOptions),\n            readonly: p.optional.constant(false),\n        }));\n        return result\n            ? {\n                initialValue: value,\n                params: result,\n            }\n            : null;\n    },\n    binding: {\n        reader: (_args) => boolFromUnknown,\n        constraint: (args) => createConstraint$8(args.params),\n        writer: (_args) => writePrimitive,\n    },\n    controller: (args) => {\n        const doc = args.document;\n        const value = args.value;\n        const c = args.constraint;\n        const lc = c && findConstraint(c, ListConstraint);\n        if (lc) {\n            return new ListController(doc, {\n                props: new ValueMap({\n                    options: lc.values.value('options'),\n                }),\n                value: value,\n                viewProps: args.viewProps,\n            });\n        }\n        return new CheckboxController(doc, {\n            value: value,\n            viewProps: args.viewProps,\n        });\n    },\n    api(args) {\n        if (typeof args.controller.value.rawValue !== 'boolean') {\n            return null;\n        }\n        if (args.controller.valueController instanceof ListController) {\n            return new ListInputBindingApi(args.controller);\n        }\n        return null;\n    },\n});\n\nconst cn$c = ClassName('col');\nclass ColorView {\n    constructor(doc, config) {\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$c());\n        config.foldable.bindExpandedClass(this.element, cn$c(undefined, 'expanded'));\n        bindValueMap(config.foldable, 'completed', valueToClassName(this.element, cn$c(undefined, 'cpl')));\n        const headElem = doc.createElement('div');\n        headElem.classList.add(cn$c('h'));\n        this.element.appendChild(headElem);\n        const swatchElem = doc.createElement('div');\n        swatchElem.classList.add(cn$c('s'));\n        headElem.appendChild(swatchElem);\n        this.swatchElement = swatchElem;\n        const textElem = doc.createElement('div');\n        textElem.classList.add(cn$c('t'));\n        headElem.appendChild(textElem);\n        this.textElement = textElem;\n        if (config.pickerLayout === 'inline') {\n            const pickerElem = doc.createElement('div');\n            pickerElem.classList.add(cn$c('p'));\n            this.element.appendChild(pickerElem);\n            this.pickerElement = pickerElem;\n        }\n        else {\n            this.pickerElement = null;\n        }\n    }\n}\n\nfunction rgbToHslInt(r, g, b) {\n    const rp = constrainRange(r / 255, 0, 1);\n    const gp = constrainRange(g / 255, 0, 1);\n    const bp = constrainRange(b / 255, 0, 1);\n    const cmax = Math.max(rp, gp, bp);\n    const cmin = Math.min(rp, gp, bp);\n    const c = cmax - cmin;\n    let h = 0;\n    let s = 0;\n    const l = (cmin + cmax) / 2;\n    if (c !== 0) {\n        s = c / (1 - Math.abs(cmax + cmin - 1));\n        if (rp === cmax) {\n            h = (gp - bp) / c;\n        }\n        else if (gp === cmax) {\n            h = 2 + (bp - rp) / c;\n        }\n        else {\n            h = 4 + (rp - gp) / c;\n        }\n        h = h / 6 + (h < 0 ? 1 : 0);\n    }\n    return [h * 360, s * 100, l * 100];\n}\nfunction hslToRgbInt(h, s, l) {\n    const hp = ((h % 360) + 360) % 360;\n    const sp = constrainRange(s / 100, 0, 1);\n    const lp = constrainRange(l / 100, 0, 1);\n    const c = (1 - Math.abs(2 * lp - 1)) * sp;\n    const x = c * (1 - Math.abs(((hp / 60) % 2) - 1));\n    const m = lp - c / 2;\n    let rp, gp, bp;\n    if (hp >= 0 && hp < 60) {\n        [rp, gp, bp] = [c, x, 0];\n    }\n    else if (hp >= 60 && hp < 120) {\n        [rp, gp, bp] = [x, c, 0];\n    }\n    else if (hp >= 120 && hp < 180) {\n        [rp, gp, bp] = [0, c, x];\n    }\n    else if (hp >= 180 && hp < 240) {\n        [rp, gp, bp] = [0, x, c];\n    }\n    else if (hp >= 240 && hp < 300) {\n        [rp, gp, bp] = [x, 0, c];\n    }\n    else {\n        [rp, gp, bp] = [c, 0, x];\n    }\n    return [(rp + m) * 255, (gp + m) * 255, (bp + m) * 255];\n}\nfunction rgbToHsvInt(r, g, b) {\n    const rp = constrainRange(r / 255, 0, 1);\n    const gp = constrainRange(g / 255, 0, 1);\n    const bp = constrainRange(b / 255, 0, 1);\n    const cmax = Math.max(rp, gp, bp);\n    const cmin = Math.min(rp, gp, bp);\n    const d = cmax - cmin;\n    let h;\n    if (d === 0) {\n        h = 0;\n    }\n    else if (cmax === rp) {\n        h = 60 * (((((gp - bp) / d) % 6) + 6) % 6);\n    }\n    else if (cmax === gp) {\n        h = 60 * ((bp - rp) / d + 2);\n    }\n    else {\n        h = 60 * ((rp - gp) / d + 4);\n    }\n    const s = cmax === 0 ? 0 : d / cmax;\n    const v = cmax;\n    return [h, s * 100, v * 100];\n}\nfunction hsvToRgbInt(h, s, v) {\n    const hp = loopRange(h, 360);\n    const sp = constrainRange(s / 100, 0, 1);\n    const vp = constrainRange(v / 100, 0, 1);\n    const c = vp * sp;\n    const x = c * (1 - Math.abs(((hp / 60) % 2) - 1));\n    const m = vp - c;\n    let rp, gp, bp;\n    if (hp >= 0 && hp < 60) {\n        [rp, gp, bp] = [c, x, 0];\n    }\n    else if (hp >= 60 && hp < 120) {\n        [rp, gp, bp] = [x, c, 0];\n    }\n    else if (hp >= 120 && hp < 180) {\n        [rp, gp, bp] = [0, c, x];\n    }\n    else if (hp >= 180 && hp < 240) {\n        [rp, gp, bp] = [0, x, c];\n    }\n    else if (hp >= 240 && hp < 300) {\n        [rp, gp, bp] = [x, 0, c];\n    }\n    else {\n        [rp, gp, bp] = [c, 0, x];\n    }\n    return [(rp + m) * 255, (gp + m) * 255, (bp + m) * 255];\n}\nfunction hslToHsvInt(h, s, l) {\n    const sd = l + (s * (100 - Math.abs(2 * l - 100))) / (2 * 100);\n    return [\n        h,\n        sd !== 0 ? (s * (100 - Math.abs(2 * l - 100))) / sd : 0,\n        l + (s * (100 - Math.abs(2 * l - 100))) / (2 * 100),\n    ];\n}\nfunction hsvToHslInt(h, s, v) {\n    const sd = 100 - Math.abs((v * (200 - s)) / 100 - 100);\n    return [h, sd !== 0 ? (s * v) / sd : 0, (v * (200 - s)) / (2 * 100)];\n}\nfunction removeAlphaComponent(comps) {\n    return [comps[0], comps[1], comps[2]];\n}\nfunction appendAlphaComponent(comps, alpha) {\n    return [comps[0], comps[1], comps[2], alpha];\n}\nconst MODE_CONVERTER_MAP = {\n    hsl: {\n        hsl: (h, s, l) => [h, s, l],\n        hsv: hslToHsvInt,\n        rgb: hslToRgbInt,\n    },\n    hsv: {\n        hsl: hsvToHslInt,\n        hsv: (h, s, v) => [h, s, v],\n        rgb: hsvToRgbInt,\n    },\n    rgb: {\n        hsl: rgbToHslInt,\n        hsv: rgbToHsvInt,\n        rgb: (r, g, b) => [r, g, b],\n    },\n};\nfunction getColorMaxComponents(mode, type) {\n    return [\n        type === 'float' ? 1 : mode === 'rgb' ? 255 : 360,\n        type === 'float' ? 1 : mode === 'rgb' ? 255 : 100,\n        type === 'float' ? 1 : mode === 'rgb' ? 255 : 100,\n    ];\n}\nfunction loopHueRange(hue, max) {\n    return hue === max ? max : loopRange(hue, max);\n}\nfunction constrainColorComponents(components, mode, type) {\n    var _a;\n    const ms = getColorMaxComponents(mode, type);\n    return [\n        mode === 'rgb'\n            ? constrainRange(components[0], 0, ms[0])\n            : loopHueRange(components[0], ms[0]),\n        constrainRange(components[1], 0, ms[1]),\n        constrainRange(components[2], 0, ms[2]),\n        constrainRange((_a = components[3]) !== null && _a !== void 0 ? _a : 1, 0, 1),\n    ];\n}\nfunction convertColorType(comps, mode, from, to) {\n    const fms = getColorMaxComponents(mode, from);\n    const tms = getColorMaxComponents(mode, to);\n    return comps.map((c, index) => (c / fms[index]) * tms[index]);\n}\nfunction convertColor(components, from, to) {\n    const intComps = convertColorType(components, from.mode, from.type, 'int');\n    const result = MODE_CONVERTER_MAP[from.mode][to.mode](...intComps);\n    return convertColorType(result, to.mode, 'int', to.type);\n}\n\nclass IntColor {\n    static black() {\n        return new IntColor([0, 0, 0], 'rgb');\n    }\n    constructor(comps, mode) {\n        this.type = 'int';\n        this.mode = mode;\n        this.comps_ = constrainColorComponents(comps, mode, this.type);\n    }\n    getComponents(opt_mode) {\n        return appendAlphaComponent(convertColor(removeAlphaComponent(this.comps_), { mode: this.mode, type: this.type }, { mode: opt_mode !== null && opt_mode !== void 0 ? opt_mode : this.mode, type: this.type }), this.comps_[3]);\n    }\n    toRgbaObject() {\n        const rgbComps = this.getComponents('rgb');\n        return {\n            r: rgbComps[0],\n            g: rgbComps[1],\n            b: rgbComps[2],\n            a: rgbComps[3],\n        };\n    }\n}\n\nconst cn$b = ClassName('colp');\nclass ColorPickerView {\n    constructor(doc, config) {\n        this.alphaViews_ = null;\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$b());\n        config.viewProps.bindClassModifiers(this.element);\n        const hsvElem = doc.createElement('div');\n        hsvElem.classList.add(cn$b('hsv'));\n        const svElem = doc.createElement('div');\n        svElem.classList.add(cn$b('sv'));\n        this.svPaletteView_ = config.svPaletteView;\n        svElem.appendChild(this.svPaletteView_.element);\n        hsvElem.appendChild(svElem);\n        const hElem = doc.createElement('div');\n        hElem.classList.add(cn$b('h'));\n        this.hPaletteView_ = config.hPaletteView;\n        hElem.appendChild(this.hPaletteView_.element);\n        hsvElem.appendChild(hElem);\n        this.element.appendChild(hsvElem);\n        const rgbElem = doc.createElement('div');\n        rgbElem.classList.add(cn$b('rgb'));\n        this.textsView_ = config.textsView;\n        rgbElem.appendChild(this.textsView_.element);\n        this.element.appendChild(rgbElem);\n        if (config.alphaViews) {\n            this.alphaViews_ = {\n                palette: config.alphaViews.palette,\n                text: config.alphaViews.text,\n            };\n            const aElem = doc.createElement('div');\n            aElem.classList.add(cn$b('a'));\n            const apElem = doc.createElement('div');\n            apElem.classList.add(cn$b('ap'));\n            apElem.appendChild(this.alphaViews_.palette.element);\n            aElem.appendChild(apElem);\n            const atElem = doc.createElement('div');\n            atElem.classList.add(cn$b('at'));\n            atElem.appendChild(this.alphaViews_.text.element);\n            aElem.appendChild(atElem);\n            this.element.appendChild(aElem);\n        }\n    }\n    get allFocusableElements() {\n        const elems = [\n            this.svPaletteView_.element,\n            this.hPaletteView_.element,\n            this.textsView_.modeSelectElement,\n            ...this.textsView_.inputViews.map((v) => v.inputElement),\n        ];\n        if (this.alphaViews_) {\n            elems.push(this.alphaViews_.palette.element, this.alphaViews_.text.inputElement);\n        }\n        return elems;\n    }\n}\n\nfunction parseColorType(value) {\n    return value === 'int' ? 'int' : value === 'float' ? 'float' : undefined;\n}\nfunction parseColorInputParams(params) {\n    return parseRecord(params, (p) => ({\n        color: p.optional.object({\n            alpha: p.optional.boolean,\n            type: p.optional.custom(parseColorType),\n        }),\n        expanded: p.optional.boolean,\n        picker: p.optional.custom(parsePickerLayout),\n        readonly: p.optional.constant(false),\n    }));\n}\nfunction getKeyScaleForColor(forAlpha) {\n    return forAlpha ? 0.1 : 1;\n}\nfunction extractColorType(params) {\n    var _a;\n    return (_a = params.color) === null || _a === void 0 ? void 0 : _a.type;\n}\n\nclass FloatColor {\n    constructor(comps, mode) {\n        this.type = 'float';\n        this.mode = mode;\n        this.comps_ = constrainColorComponents(comps, mode, this.type);\n    }\n    getComponents(opt_mode) {\n        return appendAlphaComponent(convertColor(removeAlphaComponent(this.comps_), { mode: this.mode, type: this.type }, { mode: opt_mode !== null && opt_mode !== void 0 ? opt_mode : this.mode, type: this.type }), this.comps_[3]);\n    }\n    toRgbaObject() {\n        const rgbComps = this.getComponents('rgb');\n        return {\n            r: rgbComps[0],\n            g: rgbComps[1],\n            b: rgbComps[2],\n            a: rgbComps[3],\n        };\n    }\n}\n\nconst TYPE_TO_CONSTRUCTOR_MAP = {\n    int: (comps, mode) => new IntColor(comps, mode),\n    float: (comps, mode) => new FloatColor(comps, mode),\n};\nfunction createColor(comps, mode, type) {\n    return TYPE_TO_CONSTRUCTOR_MAP[type](comps, mode);\n}\nfunction isFloatColor(c) {\n    return c.type === 'float';\n}\nfunction isIntColor(c) {\n    return c.type === 'int';\n}\nfunction convertFloatToInt(cf) {\n    const comps = cf.getComponents();\n    const ms = getColorMaxComponents(cf.mode, 'int');\n    return new IntColor([\n        Math.round(mapRange(comps[0], 0, 1, 0, ms[0])),\n        Math.round(mapRange(comps[1], 0, 1, 0, ms[1])),\n        Math.round(mapRange(comps[2], 0, 1, 0, ms[2])),\n        comps[3],\n    ], cf.mode);\n}\nfunction convertIntToFloat(ci) {\n    const comps = ci.getComponents();\n    const ms = getColorMaxComponents(ci.mode, 'int');\n    return new FloatColor([\n        mapRange(comps[0], 0, ms[0], 0, 1),\n        mapRange(comps[1], 0, ms[1], 0, 1),\n        mapRange(comps[2], 0, ms[2], 0, 1),\n        comps[3],\n    ], ci.mode);\n}\nfunction mapColorType(c, type) {\n    if (c.type === type) {\n        return c;\n    }\n    if (isIntColor(c) && type === 'float') {\n        return convertIntToFloat(c);\n    }\n    if (isFloatColor(c) && type === 'int') {\n        return convertFloatToInt(c);\n    }\n    throw TpError.shouldNeverHappen();\n}\n\nfunction equalsStringColorFormat(f1, f2) {\n    return (f1.alpha === f2.alpha &&\n        f1.mode === f2.mode &&\n        f1.notation === f2.notation &&\n        f1.type === f2.type);\n}\nfunction parseCssNumberOrPercentage(text, max) {\n    const m = text.match(/^(.+)%$/);\n    if (!m) {\n        return Math.min(parseFloat(text), max);\n    }\n    return Math.min(parseFloat(m[1]) * 0.01 * max, max);\n}\nconst ANGLE_TO_DEG_MAP = {\n    deg: (angle) => angle,\n    grad: (angle) => (angle * 360) / 400,\n    rad: (angle) => (angle * 360) / (2 * Math.PI),\n    turn: (angle) => angle * 360,\n};\nfunction parseCssNumberOrAngle(text) {\n    const m = text.match(/^([0-9.]+?)(deg|grad|rad|turn)$/);\n    if (!m) {\n        return parseFloat(text);\n    }\n    const angle = parseFloat(m[1]);\n    const unit = m[2];\n    return ANGLE_TO_DEG_MAP[unit](angle);\n}\nfunction parseFunctionalRgbColorComponents(text) {\n    const m = text.match(/^rgb\\(\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*\\)$/);\n    if (!m) {\n        return null;\n    }\n    const comps = [\n        parseCssNumberOrPercentage(m[1], 255),\n        parseCssNumberOrPercentage(m[2], 255),\n        parseCssNumberOrPercentage(m[3], 255),\n    ];\n    if (isNaN(comps[0]) || isNaN(comps[1]) || isNaN(comps[2])) {\n        return null;\n    }\n    return comps;\n}\nfunction parseFunctionalRgbColor(text) {\n    const comps = parseFunctionalRgbColorComponents(text);\n    return comps ? new IntColor(comps, 'rgb') : null;\n}\nfunction parseFunctionalRgbaColorComponents(text) {\n    const m = text.match(/^rgba\\(\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*\\)$/);\n    if (!m) {\n        return null;\n    }\n    const comps = [\n        parseCssNumberOrPercentage(m[1], 255),\n        parseCssNumberOrPercentage(m[2], 255),\n        parseCssNumberOrPercentage(m[3], 255),\n        parseCssNumberOrPercentage(m[4], 1),\n    ];\n    if (isNaN(comps[0]) ||\n        isNaN(comps[1]) ||\n        isNaN(comps[2]) ||\n        isNaN(comps[3])) {\n        return null;\n    }\n    return comps;\n}\nfunction parseFunctionalRgbaColor(text) {\n    const comps = parseFunctionalRgbaColorComponents(text);\n    return comps ? new IntColor(comps, 'rgb') : null;\n}\nfunction parseFunctionalHslColorComponents(text) {\n    const m = text.match(/^hsl\\(\\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*\\)$/);\n    if (!m) {\n        return null;\n    }\n    const comps = [\n        parseCssNumberOrAngle(m[1]),\n        parseCssNumberOrPercentage(m[2], 100),\n        parseCssNumberOrPercentage(m[3], 100),\n    ];\n    if (isNaN(comps[0]) || isNaN(comps[1]) || isNaN(comps[2])) {\n        return null;\n    }\n    return comps;\n}\nfunction parseFunctionalHslColor(text) {\n    const comps = parseFunctionalHslColorComponents(text);\n    return comps ? new IntColor(comps, 'hsl') : null;\n}\nfunction parseHslaColorComponents(text) {\n    const m = text.match(/^hsla\\(\\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*\\)$/);\n    if (!m) {\n        return null;\n    }\n    const comps = [\n        parseCssNumberOrAngle(m[1]),\n        parseCssNumberOrPercentage(m[2], 100),\n        parseCssNumberOrPercentage(m[3], 100),\n        parseCssNumberOrPercentage(m[4], 1),\n    ];\n    if (isNaN(comps[0]) ||\n        isNaN(comps[1]) ||\n        isNaN(comps[2]) ||\n        isNaN(comps[3])) {\n        return null;\n    }\n    return comps;\n}\nfunction parseFunctionalHslaColor(text) {\n    const comps = parseHslaColorComponents(text);\n    return comps ? new IntColor(comps, 'hsl') : null;\n}\nfunction parseHexRgbColorComponents(text) {\n    const mRgb = text.match(/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);\n    if (mRgb) {\n        return [\n            parseInt(mRgb[1] + mRgb[1], 16),\n            parseInt(mRgb[2] + mRgb[2], 16),\n            parseInt(mRgb[3] + mRgb[3], 16),\n        ];\n    }\n    const mRrggbb = text.match(/^(?:#|0x)([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);\n    if (mRrggbb) {\n        return [\n            parseInt(mRrggbb[1], 16),\n            parseInt(mRrggbb[2], 16),\n            parseInt(mRrggbb[3], 16),\n        ];\n    }\n    return null;\n}\nfunction parseHexRgbColor(text) {\n    const comps = parseHexRgbColorComponents(text);\n    return comps ? new IntColor(comps, 'rgb') : null;\n}\nfunction parseHexRgbaColorComponents(text) {\n    const mRgb = text.match(/^#?([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);\n    if (mRgb) {\n        return [\n            parseInt(mRgb[1] + mRgb[1], 16),\n            parseInt(mRgb[2] + mRgb[2], 16),\n            parseInt(mRgb[3] + mRgb[3], 16),\n            mapRange(parseInt(mRgb[4] + mRgb[4], 16), 0, 255, 0, 1),\n        ];\n    }\n    const mRrggbb = text.match(/^(?:#|0x)?([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);\n    if (mRrggbb) {\n        return [\n            parseInt(mRrggbb[1], 16),\n            parseInt(mRrggbb[2], 16),\n            parseInt(mRrggbb[3], 16),\n            mapRange(parseInt(mRrggbb[4], 16), 0, 255, 0, 1),\n        ];\n    }\n    return null;\n}\nfunction parseHexRgbaColor(text) {\n    const comps = parseHexRgbaColorComponents(text);\n    return comps ? new IntColor(comps, 'rgb') : null;\n}\nfunction parseObjectRgbColorComponents(text) {\n    const m = text.match(/^\\{\\s*r\\s*:\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*g\\s*:\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*b\\s*:\\s*([0-9A-Fa-f.]+%?)\\s*\\}$/);\n    if (!m) {\n        return null;\n    }\n    const comps = [\n        parseFloat(m[1]),\n        parseFloat(m[2]),\n        parseFloat(m[3]),\n    ];\n    if (isNaN(comps[0]) || isNaN(comps[1]) || isNaN(comps[2])) {\n        return null;\n    }\n    return comps;\n}\nfunction createObjectRgbColorParser(type) {\n    return (text) => {\n        const comps = parseObjectRgbColorComponents(text);\n        return comps ? createColor(comps, 'rgb', type) : null;\n    };\n}\nfunction parseObjectRgbaColorComponents(text) {\n    const m = text.match(/^\\{\\s*r\\s*:\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*g\\s*:\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*b\\s*:\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*a\\s*:\\s*([0-9A-Fa-f.]+%?)\\s*\\}$/);\n    if (!m) {\n        return null;\n    }\n    const comps = [\n        parseFloat(m[1]),\n        parseFloat(m[2]),\n        parseFloat(m[3]),\n        parseFloat(m[4]),\n    ];\n    if (isNaN(comps[0]) ||\n        isNaN(comps[1]) ||\n        isNaN(comps[2]) ||\n        isNaN(comps[3])) {\n        return null;\n    }\n    return comps;\n}\nfunction createObjectRgbaColorParser(type) {\n    return (text) => {\n        const comps = parseObjectRgbaColorComponents(text);\n        return comps ? createColor(comps, 'rgb', type) : null;\n    };\n}\nconst PARSER_AND_RESULT = [\n    {\n        parser: parseHexRgbColorComponents,\n        result: {\n            alpha: false,\n            mode: 'rgb',\n            notation: 'hex',\n        },\n    },\n    {\n        parser: parseHexRgbaColorComponents,\n        result: {\n            alpha: true,\n            mode: 'rgb',\n            notation: 'hex',\n        },\n    },\n    {\n        parser: parseFunctionalRgbColorComponents,\n        result: {\n            alpha: false,\n            mode: 'rgb',\n            notation: 'func',\n        },\n    },\n    {\n        parser: parseFunctionalRgbaColorComponents,\n        result: {\n            alpha: true,\n            mode: 'rgb',\n            notation: 'func',\n        },\n    },\n    {\n        parser: parseFunctionalHslColorComponents,\n        result: {\n            alpha: false,\n            mode: 'hsl',\n            notation: 'func',\n        },\n    },\n    {\n        parser: parseHslaColorComponents,\n        result: {\n            alpha: true,\n            mode: 'hsl',\n            notation: 'func',\n        },\n    },\n    {\n        parser: parseObjectRgbColorComponents,\n        result: {\n            alpha: false,\n            mode: 'rgb',\n            notation: 'object',\n        },\n    },\n    {\n        parser: parseObjectRgbaColorComponents,\n        result: {\n            alpha: true,\n            mode: 'rgb',\n            notation: 'object',\n        },\n    },\n];\nfunction detectStringColor(text) {\n    return PARSER_AND_RESULT.reduce((prev, { parser, result: detection }) => {\n        if (prev) {\n            return prev;\n        }\n        return parser(text) ? detection : null;\n    }, null);\n}\nfunction detectStringColorFormat(text, type = 'int') {\n    const r = detectStringColor(text);\n    if (!r) {\n        return null;\n    }\n    if (r.notation === 'hex' && type !== 'float') {\n        return Object.assign(Object.assign({}, r), { type: 'int' });\n    }\n    if (r.notation === 'func') {\n        return Object.assign(Object.assign({}, r), { type: type });\n    }\n    return null;\n}\nfunction createColorStringParser(type) {\n    const parsers = [\n        parseHexRgbColor,\n        parseHexRgbaColor,\n        parseFunctionalRgbColor,\n        parseFunctionalRgbaColor,\n        parseFunctionalHslColor,\n        parseFunctionalHslaColor,\n    ];\n    if (type === 'int') {\n        parsers.push(createObjectRgbColorParser('int'), createObjectRgbaColorParser('int'));\n    }\n    if (type === 'float') {\n        parsers.push(createObjectRgbColorParser('float'), createObjectRgbaColorParser('float'));\n    }\n    const parser = composeParsers(parsers);\n    return (text) => {\n        const result = parser(text);\n        return result ? mapColorType(result, type) : null;\n    };\n}\nfunction readIntColorString(value) {\n    const parser = createColorStringParser('int');\n    if (typeof value !== 'string') {\n        return IntColor.black();\n    }\n    const result = parser(value);\n    return result !== null && result !== void 0 ? result : IntColor.black();\n}\nfunction zerofill(comp) {\n    const hex = constrainRange(Math.floor(comp), 0, 255).toString(16);\n    return hex.length === 1 ? `0${hex}` : hex;\n}\nfunction colorToHexRgbString(value, prefix = '#') {\n    const hexes = removeAlphaComponent(value.getComponents('rgb'))\n        .map(zerofill)\n        .join('');\n    return `${prefix}${hexes}`;\n}\nfunction colorToHexRgbaString(value, prefix = '#') {\n    const rgbaComps = value.getComponents('rgb');\n    const hexes = [rgbaComps[0], rgbaComps[1], rgbaComps[2], rgbaComps[3] * 255]\n        .map(zerofill)\n        .join('');\n    return `${prefix}${hexes}`;\n}\nfunction colorToFunctionalRgbString(value) {\n    const formatter = createNumberFormatter(0);\n    const ci = mapColorType(value, 'int');\n    const comps = removeAlphaComponent(ci.getComponents('rgb')).map((comp) => formatter(comp));\n    return `rgb(${comps.join(', ')})`;\n}\nfunction colorToFunctionalRgbaString(value) {\n    const aFormatter = createNumberFormatter(2);\n    const rgbFormatter = createNumberFormatter(0);\n    const ci = mapColorType(value, 'int');\n    const comps = ci.getComponents('rgb').map((comp, index) => {\n        const formatter = index === 3 ? aFormatter : rgbFormatter;\n        return formatter(comp);\n    });\n    return `rgba(${comps.join(', ')})`;\n}\nfunction colorToFunctionalHslString(value) {\n    const formatters = [\n        createNumberFormatter(0),\n        formatPercentage,\n        formatPercentage,\n    ];\n    const ci = mapColorType(value, 'int');\n    const comps = removeAlphaComponent(ci.getComponents('hsl')).map((comp, index) => formatters[index](comp));\n    return `hsl(${comps.join(', ')})`;\n}\nfunction colorToFunctionalHslaString(value) {\n    const formatters = [\n        createNumberFormatter(0),\n        formatPercentage,\n        formatPercentage,\n        createNumberFormatter(2),\n    ];\n    const ci = mapColorType(value, 'int');\n    const comps = ci\n        .getComponents('hsl')\n        .map((comp, index) => formatters[index](comp));\n    return `hsla(${comps.join(', ')})`;\n}\nfunction colorToObjectRgbString(value, type) {\n    const formatter = createNumberFormatter(type === 'float' ? 2 : 0);\n    const names = ['r', 'g', 'b'];\n    const cc = mapColorType(value, type);\n    const comps = removeAlphaComponent(cc.getComponents('rgb')).map((comp, index) => `${names[index]}: ${formatter(comp)}`);\n    return `{${comps.join(', ')}}`;\n}\nfunction createObjectRgbColorFormatter(type) {\n    return (value) => colorToObjectRgbString(value, type);\n}\nfunction colorToObjectRgbaString(value, type) {\n    const aFormatter = createNumberFormatter(2);\n    const rgbFormatter = createNumberFormatter(type === 'float' ? 2 : 0);\n    const names = ['r', 'g', 'b', 'a'];\n    const cc = mapColorType(value, type);\n    const comps = cc.getComponents('rgb').map((comp, index) => {\n        const formatter = index === 3 ? aFormatter : rgbFormatter;\n        return `${names[index]}: ${formatter(comp)}`;\n    });\n    return `{${comps.join(', ')}}`;\n}\nfunction createObjectRgbaColorFormatter(type) {\n    return (value) => colorToObjectRgbaString(value, type);\n}\nconst FORMAT_AND_STRINGIFIERS = [\n    {\n        format: {\n            alpha: false,\n            mode: 'rgb',\n            notation: 'hex',\n            type: 'int',\n        },\n        stringifier: colorToHexRgbString,\n    },\n    {\n        format: {\n            alpha: true,\n            mode: 'rgb',\n            notation: 'hex',\n            type: 'int',\n        },\n        stringifier: colorToHexRgbaString,\n    },\n    {\n        format: {\n            alpha: false,\n            mode: 'rgb',\n            notation: 'func',\n            type: 'int',\n        },\n        stringifier: colorToFunctionalRgbString,\n    },\n    {\n        format: {\n            alpha: true,\n            mode: 'rgb',\n            notation: 'func',\n            type: 'int',\n        },\n        stringifier: colorToFunctionalRgbaString,\n    },\n    {\n        format: {\n            alpha: false,\n            mode: 'hsl',\n            notation: 'func',\n            type: 'int',\n        },\n        stringifier: colorToFunctionalHslString,\n    },\n    {\n        format: {\n            alpha: true,\n            mode: 'hsl',\n            notation: 'func',\n            type: 'int',\n        },\n        stringifier: colorToFunctionalHslaString,\n    },\n    ...['int', 'float'].reduce((prev, type) => {\n        return [\n            ...prev,\n            {\n                format: {\n                    alpha: false,\n                    mode: 'rgb',\n                    notation: 'object',\n                    type: type,\n                },\n                stringifier: createObjectRgbColorFormatter(type),\n            },\n            {\n                format: {\n                    alpha: true,\n                    mode: 'rgb',\n                    notation: 'object',\n                    type: type,\n                },\n                stringifier: createObjectRgbaColorFormatter(type),\n            },\n        ];\n    }, []),\n];\nfunction findColorStringifier(format) {\n    return FORMAT_AND_STRINGIFIERS.reduce((prev, fas) => {\n        if (prev) {\n            return prev;\n        }\n        return equalsStringColorFormat(fas.format, format)\n            ? fas.stringifier\n            : null;\n    }, null);\n}\n\nconst cn$a = ClassName('apl');\nclass APaletteView {\n    constructor(doc, config) {\n        this.onValueChange_ = this.onValueChange_.bind(this);\n        this.value = config.value;\n        this.value.emitter.on('change', this.onValueChange_);\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$a());\n        config.viewProps.bindClassModifiers(this.element);\n        config.viewProps.bindTabIndex(this.element);\n        const barElem = doc.createElement('div');\n        barElem.classList.add(cn$a('b'));\n        this.element.appendChild(barElem);\n        const colorElem = doc.createElement('div');\n        colorElem.classList.add(cn$a('c'));\n        barElem.appendChild(colorElem);\n        this.colorElem_ = colorElem;\n        const markerElem = doc.createElement('div');\n        markerElem.classList.add(cn$a('m'));\n        this.element.appendChild(markerElem);\n        this.markerElem_ = markerElem;\n        const previewElem = doc.createElement('div');\n        previewElem.classList.add(cn$a('p'));\n        this.markerElem_.appendChild(previewElem);\n        this.previewElem_ = previewElem;\n        this.update_();\n    }\n    update_() {\n        const c = this.value.rawValue;\n        const rgbaComps = c.getComponents('rgb');\n        const leftColor = new IntColor([rgbaComps[0], rgbaComps[1], rgbaComps[2], 0], 'rgb');\n        const rightColor = new IntColor([rgbaComps[0], rgbaComps[1], rgbaComps[2], 255], 'rgb');\n        const gradientComps = [\n            'to right',\n            colorToFunctionalRgbaString(leftColor),\n            colorToFunctionalRgbaString(rightColor),\n        ];\n        this.colorElem_.style.background = `linear-gradient(${gradientComps.join(',')})`;\n        this.previewElem_.style.backgroundColor = colorToFunctionalRgbaString(c);\n        const left = mapRange(rgbaComps[3], 0, 1, 0, 100);\n        this.markerElem_.style.left = `${left}%`;\n    }\n    onValueChange_() {\n        this.update_();\n    }\n}\n\nclass APaletteController {\n    constructor(doc, config) {\n        this.onKeyDown_ = this.onKeyDown_.bind(this);\n        this.onKeyUp_ = this.onKeyUp_.bind(this);\n        this.onPointerDown_ = this.onPointerDown_.bind(this);\n        this.onPointerMove_ = this.onPointerMove_.bind(this);\n        this.onPointerUp_ = this.onPointerUp_.bind(this);\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.view = new APaletteView(doc, {\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        this.ptHandler_ = new PointerHandler(this.view.element);\n        this.ptHandler_.emitter.on('down', this.onPointerDown_);\n        this.ptHandler_.emitter.on('move', this.onPointerMove_);\n        this.ptHandler_.emitter.on('up', this.onPointerUp_);\n        this.view.element.addEventListener('keydown', this.onKeyDown_);\n        this.view.element.addEventListener('keyup', this.onKeyUp_);\n    }\n    handlePointerEvent_(d, opts) {\n        if (!d.point) {\n            return;\n        }\n        const alpha = d.point.x / d.bounds.width;\n        const c = this.value.rawValue;\n        const [h, s, v] = c.getComponents('hsv');\n        this.value.setRawValue(new IntColor([h, s, v, alpha], 'hsv'), opts);\n    }\n    onPointerDown_(ev) {\n        this.handlePointerEvent_(ev.data, {\n            forceEmit: false,\n            last: false,\n        });\n    }\n    onPointerMove_(ev) {\n        this.handlePointerEvent_(ev.data, {\n            forceEmit: false,\n            last: false,\n        });\n    }\n    onPointerUp_(ev) {\n        this.handlePointerEvent_(ev.data, {\n            forceEmit: true,\n            last: true,\n        });\n    }\n    onKeyDown_(ev) {\n        const step = getStepForKey(getKeyScaleForColor(true), getHorizontalStepKeys(ev));\n        if (step === 0) {\n            return;\n        }\n        const c = this.value.rawValue;\n        const [h, s, v, a] = c.getComponents('hsv');\n        this.value.setRawValue(new IntColor([h, s, v, a + step], 'hsv'), {\n            forceEmit: false,\n            last: false,\n        });\n    }\n    onKeyUp_(ev) {\n        const step = getStepForKey(getKeyScaleForColor(true), getHorizontalStepKeys(ev));\n        if (step === 0) {\n            return;\n        }\n        this.value.setRawValue(this.value.rawValue, {\n            forceEmit: true,\n            last: true,\n        });\n    }\n}\n\nconst cn$9 = ClassName('coltxt');\nfunction createModeSelectElement(doc) {\n    const selectElem = doc.createElement('select');\n    const items = [\n        { text: 'RGB', value: 'rgb' },\n        { text: 'HSL', value: 'hsl' },\n        { text: 'HSV', value: 'hsv' },\n        { text: 'HEX', value: 'hex' },\n    ];\n    selectElem.appendChild(items.reduce((frag, item) => {\n        const optElem = doc.createElement('option');\n        optElem.textContent = item.text;\n        optElem.value = item.value;\n        frag.appendChild(optElem);\n        return frag;\n    }, doc.createDocumentFragment()));\n    return selectElem;\n}\nclass ColorTextsView {\n    constructor(doc, config) {\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$9());\n        config.viewProps.bindClassModifiers(this.element);\n        const modeElem = doc.createElement('div');\n        modeElem.classList.add(cn$9('m'));\n        this.modeElem_ = createModeSelectElement(doc);\n        this.modeElem_.classList.add(cn$9('ms'));\n        modeElem.appendChild(this.modeSelectElement);\n        config.viewProps.bindDisabled(this.modeElem_);\n        const modeMarkerElem = doc.createElement('div');\n        modeMarkerElem.classList.add(cn$9('mm'));\n        modeMarkerElem.appendChild(createSvgIconElement(doc, 'dropdown'));\n        modeElem.appendChild(modeMarkerElem);\n        this.element.appendChild(modeElem);\n        const inputsElem = doc.createElement('div');\n        inputsElem.classList.add(cn$9('w'));\n        this.element.appendChild(inputsElem);\n        this.inputsElem_ = inputsElem;\n        this.inputViews_ = config.inputViews;\n        this.applyInputViews_();\n        bindValue(config.mode, (mode) => {\n            this.modeElem_.value = mode;\n        });\n    }\n    get modeSelectElement() {\n        return this.modeElem_;\n    }\n    get inputViews() {\n        return this.inputViews_;\n    }\n    set inputViews(inputViews) {\n        this.inputViews_ = inputViews;\n        this.applyInputViews_();\n    }\n    applyInputViews_() {\n        removeChildElements(this.inputsElem_);\n        const doc = this.element.ownerDocument;\n        this.inputViews_.forEach((v) => {\n            const compElem = doc.createElement('div');\n            compElem.classList.add(cn$9('c'));\n            compElem.appendChild(v.element);\n            this.inputsElem_.appendChild(compElem);\n        });\n    }\n}\n\nfunction createFormatter$2(type) {\n    return createNumberFormatter(type === 'float' ? 2 : 0);\n}\nfunction createConstraint$7(mode, type, index) {\n    const max = getColorMaxComponents(mode, type)[index];\n    return new DefiniteRangeConstraint({\n        min: 0,\n        max: max,\n    });\n}\nfunction createComponentController(doc, config, index) {\n    return new NumberTextController(doc, {\n        arrayPosition: index === 0 ? 'fst' : index === 3 - 1 ? 'lst' : 'mid',\n        parser: config.parser,\n        props: ValueMap.fromObject({\n            formatter: createFormatter$2(config.colorType),\n            keyScale: getKeyScaleForColor(false),\n            pointerScale: config.colorType === 'float' ? 0.01 : 1,\n        }),\n        value: createValue(0, {\n            constraint: createConstraint$7(config.colorMode, config.colorType, index),\n        }),\n        viewProps: config.viewProps,\n    });\n}\nfunction createComponentControllers(doc, config) {\n    const cc = {\n        colorMode: config.colorMode,\n        colorType: config.colorType,\n        parser: parseNumber,\n        viewProps: config.viewProps,\n    };\n    return [0, 1, 2].map((i) => {\n        const c = createComponentController(doc, cc, i);\n        connectValues({\n            primary: config.value,\n            secondary: c.value,\n            forward(p) {\n                const mc = mapColorType(p, config.colorType);\n                return mc.getComponents(config.colorMode)[i];\n            },\n            backward(p, s) {\n                const pickedMode = config.colorMode;\n                const mc = mapColorType(p, config.colorType);\n                const comps = mc.getComponents(pickedMode);\n                comps[i] = s;\n                const c = createColor(appendAlphaComponent(removeAlphaComponent(comps), comps[3]), pickedMode, config.colorType);\n                return mapColorType(c, 'int');\n            },\n        });\n        return c;\n    });\n}\nfunction createHexController(doc, config) {\n    const c = new TextController(doc, {\n        parser: createColorStringParser('int'),\n        props: ValueMap.fromObject({\n            formatter: colorToHexRgbString,\n        }),\n        value: createValue(IntColor.black()),\n        viewProps: config.viewProps,\n    });\n    connectValues({\n        primary: config.value,\n        secondary: c.value,\n        forward: (p) => new IntColor(removeAlphaComponent(p.getComponents()), p.mode),\n        backward: (p, s) => new IntColor(appendAlphaComponent(removeAlphaComponent(s.getComponents(p.mode)), p.getComponents()[3]), p.mode),\n    });\n    return [c];\n}\nfunction isColorMode(mode) {\n    return mode !== 'hex';\n}\nclass ColorTextsController {\n    constructor(doc, config) {\n        this.onModeSelectChange_ = this.onModeSelectChange_.bind(this);\n        this.colorType_ = config.colorType;\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.colorMode = createValue(this.value.rawValue.mode);\n        this.ccs_ = this.createComponentControllers_(doc);\n        this.view = new ColorTextsView(doc, {\n            mode: this.colorMode,\n            inputViews: [this.ccs_[0].view, this.ccs_[1].view, this.ccs_[2].view],\n            viewProps: this.viewProps,\n        });\n        this.view.modeSelectElement.addEventListener('change', this.onModeSelectChange_);\n    }\n    createComponentControllers_(doc) {\n        const mode = this.colorMode.rawValue;\n        if (isColorMode(mode)) {\n            return createComponentControllers(doc, {\n                colorMode: mode,\n                colorType: this.colorType_,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n        }\n        return createHexController(doc, {\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n    }\n    onModeSelectChange_(ev) {\n        const selectElem = ev.currentTarget;\n        this.colorMode.rawValue = selectElem.value;\n        this.ccs_ = this.createComponentControllers_(this.view.element.ownerDocument);\n        this.view.inputViews = this.ccs_.map((cc) => cc.view);\n    }\n}\n\nconst cn$8 = ClassName('hpl');\nclass HPaletteView {\n    constructor(doc, config) {\n        this.onValueChange_ = this.onValueChange_.bind(this);\n        this.value = config.value;\n        this.value.emitter.on('change', this.onValueChange_);\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$8());\n        config.viewProps.bindClassModifiers(this.element);\n        config.viewProps.bindTabIndex(this.element);\n        const colorElem = doc.createElement('div');\n        colorElem.classList.add(cn$8('c'));\n        this.element.appendChild(colorElem);\n        const markerElem = doc.createElement('div');\n        markerElem.classList.add(cn$8('m'));\n        this.element.appendChild(markerElem);\n        this.markerElem_ = markerElem;\n        this.update_();\n    }\n    update_() {\n        const c = this.value.rawValue;\n        const [h] = c.getComponents('hsv');\n        this.markerElem_.style.backgroundColor = colorToFunctionalRgbString(new IntColor([h, 100, 100], 'hsv'));\n        const left = mapRange(h, 0, 360, 0, 100);\n        this.markerElem_.style.left = `${left}%`;\n    }\n    onValueChange_() {\n        this.update_();\n    }\n}\n\nclass HPaletteController {\n    constructor(doc, config) {\n        this.onKeyDown_ = this.onKeyDown_.bind(this);\n        this.onKeyUp_ = this.onKeyUp_.bind(this);\n        this.onPointerDown_ = this.onPointerDown_.bind(this);\n        this.onPointerMove_ = this.onPointerMove_.bind(this);\n        this.onPointerUp_ = this.onPointerUp_.bind(this);\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.view = new HPaletteView(doc, {\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        this.ptHandler_ = new PointerHandler(this.view.element);\n        this.ptHandler_.emitter.on('down', this.onPointerDown_);\n        this.ptHandler_.emitter.on('move', this.onPointerMove_);\n        this.ptHandler_.emitter.on('up', this.onPointerUp_);\n        this.view.element.addEventListener('keydown', this.onKeyDown_);\n        this.view.element.addEventListener('keyup', this.onKeyUp_);\n    }\n    handlePointerEvent_(d, opts) {\n        if (!d.point) {\n            return;\n        }\n        const hue = mapRange(constrainRange(d.point.x, 0, d.bounds.width), 0, d.bounds.width, 0, 360);\n        const c = this.value.rawValue;\n        const [, s, v, a] = c.getComponents('hsv');\n        this.value.setRawValue(new IntColor([hue, s, v, a], 'hsv'), opts);\n    }\n    onPointerDown_(ev) {\n        this.handlePointerEvent_(ev.data, {\n            forceEmit: false,\n            last: false,\n        });\n    }\n    onPointerMove_(ev) {\n        this.handlePointerEvent_(ev.data, {\n            forceEmit: false,\n            last: false,\n        });\n    }\n    onPointerUp_(ev) {\n        this.handlePointerEvent_(ev.data, {\n            forceEmit: true,\n            last: true,\n        });\n    }\n    onKeyDown_(ev) {\n        const step = getStepForKey(getKeyScaleForColor(false), getHorizontalStepKeys(ev));\n        if (step === 0) {\n            return;\n        }\n        const c = this.value.rawValue;\n        const [h, s, v, a] = c.getComponents('hsv');\n        this.value.setRawValue(new IntColor([h + step, s, v, a], 'hsv'), {\n            forceEmit: false,\n            last: false,\n        });\n    }\n    onKeyUp_(ev) {\n        const step = getStepForKey(getKeyScaleForColor(false), getHorizontalStepKeys(ev));\n        if (step === 0) {\n            return;\n        }\n        this.value.setRawValue(this.value.rawValue, {\n            forceEmit: true,\n            last: true,\n        });\n    }\n}\n\nconst cn$7 = ClassName('svp');\nconst CANVAS_RESOL = 64;\nclass SvPaletteView {\n    constructor(doc, config) {\n        this.onValueChange_ = this.onValueChange_.bind(this);\n        this.value = config.value;\n        this.value.emitter.on('change', this.onValueChange_);\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$7());\n        config.viewProps.bindClassModifiers(this.element);\n        config.viewProps.bindTabIndex(this.element);\n        const canvasElem = doc.createElement('canvas');\n        canvasElem.height = CANVAS_RESOL;\n        canvasElem.width = CANVAS_RESOL;\n        canvasElem.classList.add(cn$7('c'));\n        this.element.appendChild(canvasElem);\n        this.canvasElement = canvasElem;\n        const markerElem = doc.createElement('div');\n        markerElem.classList.add(cn$7('m'));\n        this.element.appendChild(markerElem);\n        this.markerElem_ = markerElem;\n        this.update_();\n    }\n    update_() {\n        const ctx = getCanvasContext(this.canvasElement);\n        if (!ctx) {\n            return;\n        }\n        const c = this.value.rawValue;\n        const hsvComps = c.getComponents('hsv');\n        const width = this.canvasElement.width;\n        const height = this.canvasElement.height;\n        const imgData = ctx.getImageData(0, 0, width, height);\n        const data = imgData.data;\n        for (let iy = 0; iy < height; iy++) {\n            for (let ix = 0; ix < width; ix++) {\n                const s = mapRange(ix, 0, width, 0, 100);\n                const v = mapRange(iy, 0, height, 100, 0);\n                const rgbComps = hsvToRgbInt(hsvComps[0], s, v);\n                const i = (iy * width + ix) * 4;\n                data[i] = rgbComps[0];\n                data[i + 1] = rgbComps[1];\n                data[i + 2] = rgbComps[2];\n                data[i + 3] = 255;\n            }\n        }\n        ctx.putImageData(imgData, 0, 0);\n        const left = mapRange(hsvComps[1], 0, 100, 0, 100);\n        this.markerElem_.style.left = `${left}%`;\n        const top = mapRange(hsvComps[2], 0, 100, 100, 0);\n        this.markerElem_.style.top = `${top}%`;\n    }\n    onValueChange_() {\n        this.update_();\n    }\n}\n\nclass SvPaletteController {\n    constructor(doc, config) {\n        this.onKeyDown_ = this.onKeyDown_.bind(this);\n        this.onKeyUp_ = this.onKeyUp_.bind(this);\n        this.onPointerDown_ = this.onPointerDown_.bind(this);\n        this.onPointerMove_ = this.onPointerMove_.bind(this);\n        this.onPointerUp_ = this.onPointerUp_.bind(this);\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.view = new SvPaletteView(doc, {\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        this.ptHandler_ = new PointerHandler(this.view.element);\n        this.ptHandler_.emitter.on('down', this.onPointerDown_);\n        this.ptHandler_.emitter.on('move', this.onPointerMove_);\n        this.ptHandler_.emitter.on('up', this.onPointerUp_);\n        this.view.element.addEventListener('keydown', this.onKeyDown_);\n        this.view.element.addEventListener('keyup', this.onKeyUp_);\n    }\n    handlePointerEvent_(d, opts) {\n        if (!d.point) {\n            return;\n        }\n        const saturation = mapRange(d.point.x, 0, d.bounds.width, 0, 100);\n        const value = mapRange(d.point.y, 0, d.bounds.height, 100, 0);\n        const [h, , , a] = this.value.rawValue.getComponents('hsv');\n        this.value.setRawValue(new IntColor([h, saturation, value, a], 'hsv'), opts);\n    }\n    onPointerDown_(ev) {\n        this.handlePointerEvent_(ev.data, {\n            forceEmit: false,\n            last: false,\n        });\n    }\n    onPointerMove_(ev) {\n        this.handlePointerEvent_(ev.data, {\n            forceEmit: false,\n            last: false,\n        });\n    }\n    onPointerUp_(ev) {\n        this.handlePointerEvent_(ev.data, {\n            forceEmit: true,\n            last: true,\n        });\n    }\n    onKeyDown_(ev) {\n        if (isArrowKey(ev.key)) {\n            ev.preventDefault();\n        }\n        const [h, s, v, a] = this.value.rawValue.getComponents('hsv');\n        const keyScale = getKeyScaleForColor(false);\n        const ds = getStepForKey(keyScale, getHorizontalStepKeys(ev));\n        const dv = getStepForKey(keyScale, getVerticalStepKeys(ev));\n        if (ds === 0 && dv === 0) {\n            return;\n        }\n        this.value.setRawValue(new IntColor([h, s + ds, v + dv, a], 'hsv'), {\n            forceEmit: false,\n            last: false,\n        });\n    }\n    onKeyUp_(ev) {\n        const keyScale = getKeyScaleForColor(false);\n        const ds = getStepForKey(keyScale, getHorizontalStepKeys(ev));\n        const dv = getStepForKey(keyScale, getVerticalStepKeys(ev));\n        if (ds === 0 && dv === 0) {\n            return;\n        }\n        this.value.setRawValue(this.value.rawValue, {\n            forceEmit: true,\n            last: true,\n        });\n    }\n}\n\nclass ColorPickerController {\n    constructor(doc, config) {\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.hPaletteC_ = new HPaletteController(doc, {\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        this.svPaletteC_ = new SvPaletteController(doc, {\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        this.alphaIcs_ = config.supportsAlpha\n            ? {\n                palette: new APaletteController(doc, {\n                    value: this.value,\n                    viewProps: this.viewProps,\n                }),\n                text: new NumberTextController(doc, {\n                    parser: parseNumber,\n                    props: ValueMap.fromObject({\n                        pointerScale: 0.01,\n                        keyScale: 0.1,\n                        formatter: createNumberFormatter(2),\n                    }),\n                    value: createValue(0, {\n                        constraint: new DefiniteRangeConstraint({ min: 0, max: 1 }),\n                    }),\n                    viewProps: this.viewProps,\n                }),\n            }\n            : null;\n        if (this.alphaIcs_) {\n            connectValues({\n                primary: this.value,\n                secondary: this.alphaIcs_.text.value,\n                forward: (p) => p.getComponents()[3],\n                backward: (p, s) => {\n                    const comps = p.getComponents();\n                    comps[3] = s;\n                    return new IntColor(comps, p.mode);\n                },\n            });\n        }\n        this.textsC_ = new ColorTextsController(doc, {\n            colorType: config.colorType,\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        this.view = new ColorPickerView(doc, {\n            alphaViews: this.alphaIcs_\n                ? {\n                    palette: this.alphaIcs_.palette.view,\n                    text: this.alphaIcs_.text.view,\n                }\n                : null,\n            hPaletteView: this.hPaletteC_.view,\n            supportsAlpha: config.supportsAlpha,\n            svPaletteView: this.svPaletteC_.view,\n            textsView: this.textsC_.view,\n            viewProps: this.viewProps,\n        });\n    }\n    get textsController() {\n        return this.textsC_;\n    }\n}\n\nconst cn$6 = ClassName('colsw');\nclass ColorSwatchView {\n    constructor(doc, config) {\n        this.onValueChange_ = this.onValueChange_.bind(this);\n        config.value.emitter.on('change', this.onValueChange_);\n        this.value = config.value;\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$6());\n        config.viewProps.bindClassModifiers(this.element);\n        const swatchElem = doc.createElement('div');\n        swatchElem.classList.add(cn$6('sw'));\n        this.element.appendChild(swatchElem);\n        this.swatchElem_ = swatchElem;\n        const buttonElem = doc.createElement('button');\n        buttonElem.classList.add(cn$6('b'));\n        config.viewProps.bindDisabled(buttonElem);\n        this.element.appendChild(buttonElem);\n        this.buttonElement = buttonElem;\n        this.update_();\n    }\n    update_() {\n        const value = this.value.rawValue;\n        this.swatchElem_.style.backgroundColor = colorToHexRgbaString(value);\n    }\n    onValueChange_() {\n        this.update_();\n    }\n}\n\nclass ColorSwatchController {\n    constructor(doc, config) {\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.view = new ColorSwatchView(doc, {\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n    }\n}\n\nclass ColorController {\n    constructor(doc, config) {\n        this.onButtonBlur_ = this.onButtonBlur_.bind(this);\n        this.onButtonClick_ = this.onButtonClick_.bind(this);\n        this.onPopupChildBlur_ = this.onPopupChildBlur_.bind(this);\n        this.onPopupChildKeydown_ = this.onPopupChildKeydown_.bind(this);\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.foldable_ = Foldable.create(config.expanded);\n        this.swatchC_ = new ColorSwatchController(doc, {\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        const buttonElem = this.swatchC_.view.buttonElement;\n        buttonElem.addEventListener('blur', this.onButtonBlur_);\n        buttonElem.addEventListener('click', this.onButtonClick_);\n        this.textC_ = new TextController(doc, {\n            parser: config.parser,\n            props: ValueMap.fromObject({\n                formatter: config.formatter,\n            }),\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        this.view = new ColorView(doc, {\n            foldable: this.foldable_,\n            pickerLayout: config.pickerLayout,\n        });\n        this.view.swatchElement.appendChild(this.swatchC_.view.element);\n        this.view.textElement.appendChild(this.textC_.view.element);\n        this.popC_ =\n            config.pickerLayout === 'popup'\n                ? new PopupController(doc, {\n                    viewProps: this.viewProps,\n                })\n                : null;\n        const pickerC = new ColorPickerController(doc, {\n            colorType: config.colorType,\n            supportsAlpha: config.supportsAlpha,\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        pickerC.view.allFocusableElements.forEach((elem) => {\n            elem.addEventListener('blur', this.onPopupChildBlur_);\n            elem.addEventListener('keydown', this.onPopupChildKeydown_);\n        });\n        this.pickerC_ = pickerC;\n        if (this.popC_) {\n            this.view.element.appendChild(this.popC_.view.element);\n            this.popC_.view.element.appendChild(pickerC.view.element);\n            connectValues({\n                primary: this.foldable_.value('expanded'),\n                secondary: this.popC_.shows,\n                forward: (p) => p,\n                backward: (_, s) => s,\n            });\n        }\n        else if (this.view.pickerElement) {\n            this.view.pickerElement.appendChild(this.pickerC_.view.element);\n            bindFoldable(this.foldable_, this.view.pickerElement);\n        }\n    }\n    get textController() {\n        return this.textC_;\n    }\n    onButtonBlur_(e) {\n        if (!this.popC_) {\n            return;\n        }\n        const elem = this.view.element;\n        const nextTarget = forceCast(e.relatedTarget);\n        if (!nextTarget || !elem.contains(nextTarget)) {\n            this.popC_.shows.rawValue = false;\n        }\n    }\n    onButtonClick_() {\n        this.foldable_.set('expanded', !this.foldable_.get('expanded'));\n        if (this.foldable_.get('expanded')) {\n            this.pickerC_.view.allFocusableElements[0].focus();\n        }\n    }\n    onPopupChildBlur_(ev) {\n        if (!this.popC_) {\n            return;\n        }\n        const elem = this.popC_.view.element;\n        const nextTarget = findNextTarget(ev);\n        if (nextTarget && elem.contains(nextTarget)) {\n            return;\n        }\n        if (nextTarget &&\n            nextTarget === this.swatchC_.view.buttonElement &&\n            !supportsTouch(elem.ownerDocument)) {\n            return;\n        }\n        this.popC_.shows.rawValue = false;\n    }\n    onPopupChildKeydown_(ev) {\n        if (this.popC_) {\n            if (ev.key === 'Escape') {\n                this.popC_.shows.rawValue = false;\n            }\n        }\n        else if (this.view.pickerElement) {\n            if (ev.key === 'Escape') {\n                this.swatchC_.view.buttonElement.focus();\n            }\n        }\n    }\n}\n\nfunction colorToRgbNumber(value) {\n    return removeAlphaComponent(value.getComponents('rgb')).reduce((result, comp) => {\n        return (result << 8) | (Math.floor(comp) & 0xff);\n    }, 0);\n}\nfunction colorToRgbaNumber(value) {\n    return (value.getComponents('rgb').reduce((result, comp, index) => {\n        const hex = Math.floor(index === 3 ? comp * 255 : comp) & 0xff;\n        return (result << 8) | hex;\n    }, 0) >>> 0);\n}\nfunction numberToRgbColor(num) {\n    return new IntColor([(num >> 16) & 0xff, (num >> 8) & 0xff, num & 0xff], 'rgb');\n}\nfunction numberToRgbaColor(num) {\n    return new IntColor([\n        (num >> 24) & 0xff,\n        (num >> 16) & 0xff,\n        (num >> 8) & 0xff,\n        mapRange(num & 0xff, 0, 255, 0, 1),\n    ], 'rgb');\n}\nfunction colorFromRgbNumber(value) {\n    if (typeof value !== 'number') {\n        return IntColor.black();\n    }\n    return numberToRgbColor(value);\n}\nfunction colorFromRgbaNumber(value) {\n    if (typeof value !== 'number') {\n        return IntColor.black();\n    }\n    return numberToRgbaColor(value);\n}\n\nfunction isRgbColorComponent(obj, key) {\n    if (typeof obj !== 'object' || isEmpty(obj)) {\n        return false;\n    }\n    return key in obj && typeof obj[key] === 'number';\n}\nfunction isRgbColorObject(obj) {\n    return (isRgbColorComponent(obj, 'r') &&\n        isRgbColorComponent(obj, 'g') &&\n        isRgbColorComponent(obj, 'b'));\n}\nfunction isRgbaColorObject(obj) {\n    return isRgbColorObject(obj) && isRgbColorComponent(obj, 'a');\n}\nfunction isColorObject(obj) {\n    return isRgbColorObject(obj);\n}\nfunction equalsColor(v1, v2) {\n    if (v1.mode !== v2.mode) {\n        return false;\n    }\n    if (v1.type !== v2.type) {\n        return false;\n    }\n    const comps1 = v1.getComponents();\n    const comps2 = v2.getComponents();\n    for (let i = 0; i < comps1.length; i++) {\n        if (comps1[i] !== comps2[i]) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction createColorComponentsFromRgbObject(obj) {\n    return 'a' in obj ? [obj.r, obj.g, obj.b, obj.a] : [obj.r, obj.g, obj.b];\n}\n\nfunction createColorStringWriter(format) {\n    const stringify = findColorStringifier(format);\n    return stringify\n        ? (target, value) => {\n            writePrimitive(target, stringify(value));\n        }\n        : null;\n}\nfunction createColorNumberWriter(supportsAlpha) {\n    const colorToNumber = supportsAlpha ? colorToRgbaNumber : colorToRgbNumber;\n    return (target, value) => {\n        writePrimitive(target, colorToNumber(value));\n    };\n}\nfunction writeRgbaColorObject(target, value, type) {\n    const cc = mapColorType(value, type);\n    const obj = cc.toRgbaObject();\n    target.writeProperty('r', obj.r);\n    target.writeProperty('g', obj.g);\n    target.writeProperty('b', obj.b);\n    target.writeProperty('a', obj.a);\n}\nfunction writeRgbColorObject(target, value, type) {\n    const cc = mapColorType(value, type);\n    const obj = cc.toRgbaObject();\n    target.writeProperty('r', obj.r);\n    target.writeProperty('g', obj.g);\n    target.writeProperty('b', obj.b);\n}\nfunction createColorObjectWriter(supportsAlpha, type) {\n    return (target, inValue) => {\n        if (supportsAlpha) {\n            writeRgbaColorObject(target, inValue, type);\n        }\n        else {\n            writeRgbColorObject(target, inValue, type);\n        }\n    };\n}\n\nfunction shouldSupportAlpha$1(inputParams) {\n    var _a;\n    if ((_a = inputParams === null || inputParams === void 0 ? void 0 : inputParams.color) === null || _a === void 0 ? void 0 : _a.alpha) {\n        return true;\n    }\n    return false;\n}\nfunction createFormatter$1(supportsAlpha) {\n    return supportsAlpha\n        ? (v) => colorToHexRgbaString(v, '0x')\n        : (v) => colorToHexRgbString(v, '0x');\n}\nfunction isForColor(params) {\n    if ('color' in params) {\n        return true;\n    }\n    if (params.view === 'color') {\n        return true;\n    }\n    return false;\n}\ncreatePlugin({\n    id: 'input-color-number',\n    type: 'input',\n    accept: (value, params) => {\n        if (typeof value !== 'number') {\n            return null;\n        }\n        if (!isForColor(params)) {\n            return null;\n        }\n        const result = parseColorInputParams(params);\n        return result\n            ? {\n                initialValue: value,\n                params: Object.assign(Object.assign({}, result), { supportsAlpha: shouldSupportAlpha$1(params) }),\n            }\n            : null;\n    },\n    binding: {\n        reader: (args) => {\n            return args.params.supportsAlpha\n                ? colorFromRgbaNumber\n                : colorFromRgbNumber;\n        },\n        equals: equalsColor,\n        writer: (args) => {\n            return createColorNumberWriter(args.params.supportsAlpha);\n        },\n    },\n    controller: (args) => {\n        var _a, _b;\n        return new ColorController(args.document, {\n            colorType: 'int',\n            expanded: (_a = args.params.expanded) !== null && _a !== void 0 ? _a : false,\n            formatter: createFormatter$1(args.params.supportsAlpha),\n            parser: createColorStringParser('int'),\n            pickerLayout: (_b = args.params.picker) !== null && _b !== void 0 ? _b : 'popup',\n            supportsAlpha: args.params.supportsAlpha,\n            value: args.value,\n            viewProps: args.viewProps,\n        });\n    },\n});\n\nfunction colorFromObject(value, type) {\n    if (!isColorObject(value)) {\n        return mapColorType(IntColor.black(), type);\n    }\n    if (type === 'int') {\n        const comps = createColorComponentsFromRgbObject(value);\n        return new IntColor(comps, 'rgb');\n    }\n    if (type === 'float') {\n        const comps = createColorComponentsFromRgbObject(value);\n        return new FloatColor(comps, 'rgb');\n    }\n    return mapColorType(IntColor.black(), 'int');\n}\n\nfunction shouldSupportAlpha(initialValue) {\n    return isRgbaColorObject(initialValue);\n}\nfunction createColorObjectBindingReader(type) {\n    return (value) => {\n        const c = colorFromObject(value, type);\n        return mapColorType(c, 'int');\n    };\n}\nfunction createColorObjectFormatter(supportsAlpha, type) {\n    return (value) => {\n        if (supportsAlpha) {\n            return colorToObjectRgbaString(value, type);\n        }\n        return colorToObjectRgbString(value, type);\n    };\n}\ncreatePlugin({\n    id: 'input-color-object',\n    type: 'input',\n    accept: (value, params) => {\n        var _a;\n        if (!isColorObject(value)) {\n            return null;\n        }\n        const result = parseColorInputParams(params);\n        return result\n            ? {\n                initialValue: value,\n                params: Object.assign(Object.assign({}, result), { colorType: (_a = extractColorType(params)) !== null && _a !== void 0 ? _a : 'int' }),\n            }\n            : null;\n    },\n    binding: {\n        reader: (args) => createColorObjectBindingReader(args.params.colorType),\n        equals: equalsColor,\n        writer: (args) => createColorObjectWriter(shouldSupportAlpha(args.initialValue), args.params.colorType),\n    },\n    controller: (args) => {\n        var _a, _b;\n        const supportsAlpha = isRgbaColorObject(args.initialValue);\n        return new ColorController(args.document, {\n            colorType: args.params.colorType,\n            expanded: (_a = args.params.expanded) !== null && _a !== void 0 ? _a : false,\n            formatter: createColorObjectFormatter(supportsAlpha, args.params.colorType),\n            parser: createColorStringParser('int'),\n            pickerLayout: (_b = args.params.picker) !== null && _b !== void 0 ? _b : 'popup',\n            supportsAlpha: supportsAlpha,\n            value: args.value,\n            viewProps: args.viewProps,\n        });\n    },\n});\n\ncreatePlugin({\n    id: 'input-color-string',\n    type: 'input',\n    accept: (value, params) => {\n        if (typeof value !== 'string') {\n            return null;\n        }\n        if (params.view === 'text') {\n            return null;\n        }\n        const format = detectStringColorFormat(value, extractColorType(params));\n        if (!format) {\n            return null;\n        }\n        const stringifier = findColorStringifier(format);\n        if (!stringifier) {\n            return null;\n        }\n        const result = parseColorInputParams(params);\n        return result\n            ? {\n                initialValue: value,\n                params: Object.assign(Object.assign({}, result), { format: format, stringifier: stringifier }),\n            }\n            : null;\n    },\n    binding: {\n        reader: () => readIntColorString,\n        equals: equalsColor,\n        writer: (args) => {\n            const writer = createColorStringWriter(args.params.format);\n            if (!writer) {\n                throw TpError.notBindable();\n            }\n            return writer;\n        },\n    },\n    controller: (args) => {\n        var _a, _b;\n        return new ColorController(args.document, {\n            colorType: args.params.format.type,\n            expanded: (_a = args.params.expanded) !== null && _a !== void 0 ? _a : false,\n            formatter: args.params.stringifier,\n            parser: createColorStringParser('int'),\n            pickerLayout: (_b = args.params.picker) !== null && _b !== void 0 ? _b : 'popup',\n            supportsAlpha: args.params.format.alpha,\n            value: args.value,\n            viewProps: args.viewProps,\n        });\n    },\n});\n\nclass PointNdConstraint {\n    constructor(config) {\n        this.components = config.components;\n        this.asm_ = config.assembly;\n    }\n    constrain(value) {\n        const comps = this.asm_\n            .toComponents(value)\n            .map((comp, index) => { var _a, _b; return (_b = (_a = this.components[index]) === null || _a === void 0 ? void 0 : _a.constrain(comp)) !== null && _b !== void 0 ? _b : comp; });\n        return this.asm_.fromComponents(comps);\n    }\n}\n\nconst cn$5 = ClassName('pndtxt');\nclass PointNdTextView {\n    constructor(doc, config) {\n        this.textViews = config.textViews;\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$5());\n        this.textViews.forEach((v) => {\n            const axisElem = doc.createElement('div');\n            axisElem.classList.add(cn$5('a'));\n            axisElem.appendChild(v.element);\n            this.element.appendChild(axisElem);\n        });\n    }\n}\n\nfunction createAxisController(doc, config, index) {\n    return new NumberTextController(doc, {\n        arrayPosition: index === 0 ? 'fst' : index === config.axes.length - 1 ? 'lst' : 'mid',\n        parser: config.parser,\n        props: config.axes[index].textProps,\n        value: createValue(0, {\n            constraint: config.axes[index].constraint,\n        }),\n        viewProps: config.viewProps,\n    });\n}\nclass PointNdTextController {\n    constructor(doc, config) {\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.acs_ = config.axes.map((_, index) => createAxisController(doc, config, index));\n        this.acs_.forEach((c, index) => {\n            connectValues({\n                primary: this.value,\n                secondary: c.value,\n                forward: (p) => config.assembly.toComponents(p)[index],\n                backward: (p, s) => {\n                    const comps = config.assembly.toComponents(p);\n                    comps[index] = s;\n                    return config.assembly.fromComponents(comps);\n                },\n            });\n        });\n        this.view = new PointNdTextView(doc, {\n            textViews: this.acs_.map((ac) => ac.view),\n        });\n    }\n    get textControllers() {\n        return this.acs_;\n    }\n}\n\nclass SliderInputBindingApi extends BindingApi {\n    get max() {\n        return this.controller.valueController.sliderController.props.get('max');\n    }\n    set max(max) {\n        this.controller.valueController.sliderController.props.set('max', max);\n    }\n    get min() {\n        return this.controller.valueController.sliderController.props.get('min');\n    }\n    set min(max) {\n        this.controller.valueController.sliderController.props.set('min', max);\n    }\n}\n\nfunction createConstraint$6(params, initialValue) {\n    const constraints = [];\n    const sc = createStepConstraint(params, initialValue);\n    if (sc) {\n        constraints.push(sc);\n    }\n    const rc = createRangeConstraint(params);\n    if (rc) {\n        constraints.push(rc);\n    }\n    const lc = createListConstraint(params.options);\n    if (lc) {\n        constraints.push(lc);\n    }\n    return new CompositeConstraint(constraints);\n}\ncreatePlugin({\n    id: 'input-number',\n    type: 'input',\n    accept: (value, params) => {\n        if (typeof value !== 'number') {\n            return null;\n        }\n        const result = parseRecord(params, (p) => (Object.assign(Object.assign({}, createNumberTextInputParamsParser(p)), { options: p.optional.custom(parseListOptions), readonly: p.optional.constant(false) })));\n        return result\n            ? {\n                initialValue: value,\n                params: result,\n            }\n            : null;\n    },\n    binding: {\n        reader: (_args) => numberFromUnknown,\n        constraint: (args) => createConstraint$6(args.params, args.initialValue),\n        writer: (_args) => writePrimitive,\n    },\n    controller: (args) => {\n        const value = args.value;\n        const c = args.constraint;\n        const lc = c && findConstraint(c, ListConstraint);\n        if (lc) {\n            return new ListController(args.document, {\n                props: new ValueMap({\n                    options: lc.values.value('options'),\n                }),\n                value: value,\n                viewProps: args.viewProps,\n            });\n        }\n        const textPropsObj = createNumberTextPropsObject(args.params, value.rawValue);\n        const drc = c && findConstraint(c, DefiniteRangeConstraint);\n        if (drc) {\n            return new SliderTextController(args.document, Object.assign(Object.assign({}, createSliderTextProps(Object.assign(Object.assign({}, textPropsObj), { keyScale: createValue(textPropsObj.keyScale), max: drc.values.value('max'), min: drc.values.value('min') }))), { parser: parseNumber, value: value, viewProps: args.viewProps }));\n        }\n        return new NumberTextController(args.document, {\n            parser: parseNumber,\n            props: ValueMap.fromObject(textPropsObj),\n            value: value,\n            viewProps: args.viewProps,\n        });\n    },\n    api(args) {\n        if (typeof args.controller.value.rawValue !== 'number') {\n            return null;\n        }\n        if (args.controller.valueController instanceof SliderTextController) {\n            return new SliderInputBindingApi(args.controller);\n        }\n        if (args.controller.valueController instanceof ListController) {\n            return new ListInputBindingApi(args.controller);\n        }\n        return null;\n    },\n});\n\nclass Point2d {\n    constructor(x = 0, y = 0) {\n        this.x = x;\n        this.y = y;\n    }\n    getComponents() {\n        return [this.x, this.y];\n    }\n    static isObject(obj) {\n        if (isEmpty(obj)) {\n            return false;\n        }\n        const x = obj.x;\n        const y = obj.y;\n        if (typeof x !== 'number' || typeof y !== 'number') {\n            return false;\n        }\n        return true;\n    }\n    static equals(v1, v2) {\n        return v1.x === v2.x && v1.y === v2.y;\n    }\n    toObject() {\n        return {\n            x: this.x,\n            y: this.y,\n        };\n    }\n}\nconst Point2dAssembly = {\n    toComponents: (p) => p.getComponents(),\n    fromComponents: (comps) => new Point2d(...comps),\n};\n\nconst cn$4 = ClassName('p2d');\nclass Point2dView {\n    constructor(doc, config) {\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$4());\n        config.viewProps.bindClassModifiers(this.element);\n        bindValue(config.expanded, valueToClassName(this.element, cn$4(undefined, 'expanded')));\n        const headElem = doc.createElement('div');\n        headElem.classList.add(cn$4('h'));\n        this.element.appendChild(headElem);\n        const buttonElem = doc.createElement('button');\n        buttonElem.classList.add(cn$4('b'));\n        buttonElem.appendChild(createSvgIconElement(doc, 'p2dpad'));\n        config.viewProps.bindDisabled(buttonElem);\n        headElem.appendChild(buttonElem);\n        this.buttonElement = buttonElem;\n        const textElem = doc.createElement('div');\n        textElem.classList.add(cn$4('t'));\n        headElem.appendChild(textElem);\n        this.textElement = textElem;\n        if (config.pickerLayout === 'inline') {\n            const pickerElem = doc.createElement('div');\n            pickerElem.classList.add(cn$4('p'));\n            this.element.appendChild(pickerElem);\n            this.pickerElement = pickerElem;\n        }\n        else {\n            this.pickerElement = null;\n        }\n    }\n}\n\nconst cn$3 = ClassName('p2dp');\nclass Point2dPickerView {\n    constructor(doc, config) {\n        this.onFoldableChange_ = this.onFoldableChange_.bind(this);\n        this.onPropsChange_ = this.onPropsChange_.bind(this);\n        this.onValueChange_ = this.onValueChange_.bind(this);\n        this.props_ = config.props;\n        this.props_.emitter.on('change', this.onPropsChange_);\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$3());\n        if (config.layout === 'popup') {\n            this.element.classList.add(cn$3(undefined, 'p'));\n        }\n        config.viewProps.bindClassModifiers(this.element);\n        const padElem = doc.createElement('div');\n        padElem.classList.add(cn$3('p'));\n        config.viewProps.bindTabIndex(padElem);\n        this.element.appendChild(padElem);\n        this.padElement = padElem;\n        const svgElem = doc.createElementNS(SVG_NS, 'svg');\n        svgElem.classList.add(cn$3('g'));\n        this.padElement.appendChild(svgElem);\n        this.svgElem_ = svgElem;\n        const xAxisElem = doc.createElementNS(SVG_NS, 'line');\n        xAxisElem.classList.add(cn$3('ax'));\n        xAxisElem.setAttributeNS(null, 'x1', '0');\n        xAxisElem.setAttributeNS(null, 'y1', '50%');\n        xAxisElem.setAttributeNS(null, 'x2', '100%');\n        xAxisElem.setAttributeNS(null, 'y2', '50%');\n        this.svgElem_.appendChild(xAxisElem);\n        const yAxisElem = doc.createElementNS(SVG_NS, 'line');\n        yAxisElem.classList.add(cn$3('ax'));\n        yAxisElem.setAttributeNS(null, 'x1', '50%');\n        yAxisElem.setAttributeNS(null, 'y1', '0');\n        yAxisElem.setAttributeNS(null, 'x2', '50%');\n        yAxisElem.setAttributeNS(null, 'y2', '100%');\n        this.svgElem_.appendChild(yAxisElem);\n        const lineElem = doc.createElementNS(SVG_NS, 'line');\n        lineElem.classList.add(cn$3('l'));\n        lineElem.setAttributeNS(null, 'x1', '50%');\n        lineElem.setAttributeNS(null, 'y1', '50%');\n        this.svgElem_.appendChild(lineElem);\n        this.lineElem_ = lineElem;\n        const markerElem = doc.createElement('div');\n        markerElem.classList.add(cn$3('m'));\n        this.padElement.appendChild(markerElem);\n        this.markerElem_ = markerElem;\n        config.value.emitter.on('change', this.onValueChange_);\n        this.value = config.value;\n        this.update_();\n    }\n    get allFocusableElements() {\n        return [this.padElement];\n    }\n    update_() {\n        const [x, y] = this.value.rawValue.getComponents();\n        const max = this.props_.get('max');\n        const px = mapRange(x, -max, +max, 0, 100);\n        const py = mapRange(y, -max, +max, 0, 100);\n        const ipy = this.props_.get('invertsY') ? 100 - py : py;\n        this.lineElem_.setAttributeNS(null, 'x2', `${px}%`);\n        this.lineElem_.setAttributeNS(null, 'y2', `${ipy}%`);\n        this.markerElem_.style.left = `${px}%`;\n        this.markerElem_.style.top = `${ipy}%`;\n    }\n    onValueChange_() {\n        this.update_();\n    }\n    onPropsChange_() {\n        this.update_();\n    }\n    onFoldableChange_() {\n        this.update_();\n    }\n}\n\nfunction computeOffset(ev, keyScales, invertsY) {\n    return [\n        getStepForKey(keyScales[0], getHorizontalStepKeys(ev)),\n        getStepForKey(keyScales[1], getVerticalStepKeys(ev)) * (invertsY ? 1 : -1),\n    ];\n}\nclass Point2dPickerController {\n    constructor(doc, config) {\n        this.onPadKeyDown_ = this.onPadKeyDown_.bind(this);\n        this.onPadKeyUp_ = this.onPadKeyUp_.bind(this);\n        this.onPointerDown_ = this.onPointerDown_.bind(this);\n        this.onPointerMove_ = this.onPointerMove_.bind(this);\n        this.onPointerUp_ = this.onPointerUp_.bind(this);\n        this.props = config.props;\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.view = new Point2dPickerView(doc, {\n            layout: config.layout,\n            props: this.props,\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        this.ptHandler_ = new PointerHandler(this.view.padElement);\n        this.ptHandler_.emitter.on('down', this.onPointerDown_);\n        this.ptHandler_.emitter.on('move', this.onPointerMove_);\n        this.ptHandler_.emitter.on('up', this.onPointerUp_);\n        this.view.padElement.addEventListener('keydown', this.onPadKeyDown_);\n        this.view.padElement.addEventListener('keyup', this.onPadKeyUp_);\n    }\n    handlePointerEvent_(d, opts) {\n        if (!d.point) {\n            return;\n        }\n        const max = this.props.get('max');\n        const px = mapRange(d.point.x, 0, d.bounds.width, -max, +max);\n        const py = mapRange(this.props.get('invertsY') ? d.bounds.height - d.point.y : d.point.y, 0, d.bounds.height, -max, +max);\n        this.value.setRawValue(new Point2d(px, py), opts);\n    }\n    onPointerDown_(ev) {\n        this.handlePointerEvent_(ev.data, {\n            forceEmit: false,\n            last: false,\n        });\n    }\n    onPointerMove_(ev) {\n        this.handlePointerEvent_(ev.data, {\n            forceEmit: false,\n            last: false,\n        });\n    }\n    onPointerUp_(ev) {\n        this.handlePointerEvent_(ev.data, {\n            forceEmit: true,\n            last: true,\n        });\n    }\n    onPadKeyDown_(ev) {\n        if (isArrowKey(ev.key)) {\n            ev.preventDefault();\n        }\n        const [dx, dy] = computeOffset(ev, [this.props.get('xKeyScale'), this.props.get('yKeyScale')], this.props.get('invertsY'));\n        if (dx === 0 && dy === 0) {\n            return;\n        }\n        this.value.setRawValue(new Point2d(this.value.rawValue.x + dx, this.value.rawValue.y + dy), {\n            forceEmit: false,\n            last: false,\n        });\n    }\n    onPadKeyUp_(ev) {\n        const [dx, dy] = computeOffset(ev, [this.props.get('xKeyScale'), this.props.get('yKeyScale')], this.props.get('invertsY'));\n        if (dx === 0 && dy === 0) {\n            return;\n        }\n        this.value.setRawValue(this.value.rawValue, {\n            forceEmit: true,\n            last: true,\n        });\n    }\n}\n\nclass Point2dController {\n    constructor(doc, config) {\n        var _a, _b;\n        this.onPopupChildBlur_ = this.onPopupChildBlur_.bind(this);\n        this.onPopupChildKeydown_ = this.onPopupChildKeydown_.bind(this);\n        this.onPadButtonBlur_ = this.onPadButtonBlur_.bind(this);\n        this.onPadButtonClick_ = this.onPadButtonClick_.bind(this);\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.foldable_ = Foldable.create(config.expanded);\n        this.popC_ =\n            config.pickerLayout === 'popup'\n                ? new PopupController(doc, {\n                    viewProps: this.viewProps,\n                })\n                : null;\n        const padC = new Point2dPickerController(doc, {\n            layout: config.pickerLayout,\n            props: new ValueMap({\n                invertsY: createValue(config.invertsY),\n                max: createValue(config.max),\n                xKeyScale: config.axes[0].textProps.value('keyScale'),\n                yKeyScale: config.axes[1].textProps.value('keyScale'),\n            }),\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        padC.view.allFocusableElements.forEach((elem) => {\n            elem.addEventListener('blur', this.onPopupChildBlur_);\n            elem.addEventListener('keydown', this.onPopupChildKeydown_);\n        });\n        this.pickerC_ = padC;\n        this.textC_ = new PointNdTextController(doc, {\n            assembly: Point2dAssembly,\n            axes: config.axes,\n            parser: config.parser,\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        this.view = new Point2dView(doc, {\n            expanded: this.foldable_.value('expanded'),\n            pickerLayout: config.pickerLayout,\n            viewProps: this.viewProps,\n        });\n        this.view.textElement.appendChild(this.textC_.view.element);\n        (_a = this.view.buttonElement) === null || _a === void 0 ? void 0 : _a.addEventListener('blur', this.onPadButtonBlur_);\n        (_b = this.view.buttonElement) === null || _b === void 0 ? void 0 : _b.addEventListener('click', this.onPadButtonClick_);\n        if (this.popC_) {\n            this.view.element.appendChild(this.popC_.view.element);\n            this.popC_.view.element.appendChild(this.pickerC_.view.element);\n            connectValues({\n                primary: this.foldable_.value('expanded'),\n                secondary: this.popC_.shows,\n                forward: (p) => p,\n                backward: (_, s) => s,\n            });\n        }\n        else if (this.view.pickerElement) {\n            this.view.pickerElement.appendChild(this.pickerC_.view.element);\n            bindFoldable(this.foldable_, this.view.pickerElement);\n        }\n    }\n    get textController() {\n        return this.textC_;\n    }\n    onPadButtonBlur_(e) {\n        if (!this.popC_) {\n            return;\n        }\n        const elem = this.view.element;\n        const nextTarget = forceCast(e.relatedTarget);\n        if (!nextTarget || !elem.contains(nextTarget)) {\n            this.popC_.shows.rawValue = false;\n        }\n    }\n    onPadButtonClick_() {\n        this.foldable_.set('expanded', !this.foldable_.get('expanded'));\n        if (this.foldable_.get('expanded')) {\n            this.pickerC_.view.allFocusableElements[0].focus();\n        }\n    }\n    onPopupChildBlur_(ev) {\n        if (!this.popC_) {\n            return;\n        }\n        const elem = this.popC_.view.element;\n        const nextTarget = findNextTarget(ev);\n        if (nextTarget && elem.contains(nextTarget)) {\n            return;\n        }\n        if (nextTarget &&\n            nextTarget === this.view.buttonElement &&\n            !supportsTouch(elem.ownerDocument)) {\n            return;\n        }\n        this.popC_.shows.rawValue = false;\n    }\n    onPopupChildKeydown_(ev) {\n        if (this.popC_) {\n            if (ev.key === 'Escape') {\n                this.popC_.shows.rawValue = false;\n            }\n        }\n        else if (this.view.pickerElement) {\n            if (ev.key === 'Escape') {\n                this.view.buttonElement.focus();\n            }\n        }\n    }\n}\n\nfunction point2dFromUnknown(value) {\n    return Point2d.isObject(value)\n        ? new Point2d(value.x, value.y)\n        : new Point2d();\n}\nfunction writePoint2d(target, value) {\n    target.writeProperty('x', value.x);\n    target.writeProperty('y', value.y);\n}\n\nfunction createConstraint$5(params, initialValue) {\n    return new PointNdConstraint({\n        assembly: Point2dAssembly,\n        components: [\n            createDimensionConstraint(Object.assign(Object.assign({}, params), params.x), initialValue.x),\n            createDimensionConstraint(Object.assign(Object.assign({}, params), params.y), initialValue.y),\n        ],\n    });\n}\nfunction getSuitableMaxDimensionValue(params, rawValue) {\n    var _a, _b;\n    if (!isEmpty(params.min) || !isEmpty(params.max)) {\n        return Math.max(Math.abs((_a = params.min) !== null && _a !== void 0 ? _a : 0), Math.abs((_b = params.max) !== null && _b !== void 0 ? _b : 0));\n    }\n    const step = getSuitableKeyScale(params);\n    return Math.max(Math.abs(step) * 10, Math.abs(rawValue) * 10);\n}\nfunction getSuitableMax(params, initialValue) {\n    var _a, _b;\n    const xr = getSuitableMaxDimensionValue(deepMerge(params, ((_a = params.x) !== null && _a !== void 0 ? _a : {})), initialValue.x);\n    const yr = getSuitableMaxDimensionValue(deepMerge(params, ((_b = params.y) !== null && _b !== void 0 ? _b : {})), initialValue.y);\n    return Math.max(xr, yr);\n}\nfunction shouldInvertY(params) {\n    if (!('y' in params)) {\n        return false;\n    }\n    const yParams = params.y;\n    if (!yParams) {\n        return false;\n    }\n    return 'inverted' in yParams ? !!yParams.inverted : false;\n}\ncreatePlugin({\n    id: 'input-point2d',\n    type: 'input',\n    accept: (value, params) => {\n        if (!Point2d.isObject(value)) {\n            return null;\n        }\n        const result = parseRecord(params, (p) => (Object.assign(Object.assign({}, createPointDimensionParser(p)), { expanded: p.optional.boolean, picker: p.optional.custom(parsePickerLayout), readonly: p.optional.constant(false), x: p.optional.custom(parsePointDimensionParams), y: p.optional.object(Object.assign(Object.assign({}, createPointDimensionParser(p)), { inverted: p.optional.boolean })) })));\n        return result\n            ? {\n                initialValue: value,\n                params: result,\n            }\n            : null;\n    },\n    binding: {\n        reader: () => point2dFromUnknown,\n        constraint: (args) => createConstraint$5(args.params, args.initialValue),\n        equals: Point2d.equals,\n        writer: () => writePoint2d,\n    },\n    controller: (args) => {\n        var _a, _b;\n        const doc = args.document;\n        const value = args.value;\n        const c = args.constraint;\n        const dParams = [args.params.x, args.params.y];\n        return new Point2dController(doc, {\n            axes: value.rawValue.getComponents().map((comp, i) => {\n                var _a;\n                return createPointAxis({\n                    constraint: c.components[i],\n                    initialValue: comp,\n                    params: deepMerge(args.params, ((_a = dParams[i]) !== null && _a !== void 0 ? _a : {})),\n                });\n            }),\n            expanded: (_a = args.params.expanded) !== null && _a !== void 0 ? _a : false,\n            invertsY: shouldInvertY(args.params),\n            max: getSuitableMax(args.params, value.rawValue),\n            parser: parseNumber,\n            pickerLayout: (_b = args.params.picker) !== null && _b !== void 0 ? _b : 'popup',\n            value: value,\n            viewProps: args.viewProps,\n        });\n    },\n});\n\nclass Point3d {\n    constructor(x = 0, y = 0, z = 0) {\n        this.x = x;\n        this.y = y;\n        this.z = z;\n    }\n    getComponents() {\n        return [this.x, this.y, this.z];\n    }\n    static isObject(obj) {\n        if (isEmpty(obj)) {\n            return false;\n        }\n        const x = obj.x;\n        const y = obj.y;\n        const z = obj.z;\n        if (typeof x !== 'number' ||\n            typeof y !== 'number' ||\n            typeof z !== 'number') {\n            return false;\n        }\n        return true;\n    }\n    static equals(v1, v2) {\n        return v1.x === v2.x && v1.y === v2.y && v1.z === v2.z;\n    }\n    toObject() {\n        return {\n            x: this.x,\n            y: this.y,\n            z: this.z,\n        };\n    }\n}\nconst Point3dAssembly = {\n    toComponents: (p) => p.getComponents(),\n    fromComponents: (comps) => new Point3d(...comps),\n};\n\nfunction point3dFromUnknown(value) {\n    return Point3d.isObject(value)\n        ? new Point3d(value.x, value.y, value.z)\n        : new Point3d();\n}\nfunction writePoint3d(target, value) {\n    target.writeProperty('x', value.x);\n    target.writeProperty('y', value.y);\n    target.writeProperty('z', value.z);\n}\n\nfunction createConstraint$4(params, initialValue) {\n    return new PointNdConstraint({\n        assembly: Point3dAssembly,\n        components: [\n            createDimensionConstraint(Object.assign(Object.assign({}, params), params.x), initialValue.x),\n            createDimensionConstraint(Object.assign(Object.assign({}, params), params.y), initialValue.y),\n            createDimensionConstraint(Object.assign(Object.assign({}, params), params.z), initialValue.z),\n        ],\n    });\n}\ncreatePlugin({\n    id: 'input-point3d',\n    type: 'input',\n    accept: (value, params) => {\n        if (!Point3d.isObject(value)) {\n            return null;\n        }\n        const result = parseRecord(params, (p) => (Object.assign(Object.assign({}, createPointDimensionParser(p)), { readonly: p.optional.constant(false), x: p.optional.custom(parsePointDimensionParams), y: p.optional.custom(parsePointDimensionParams), z: p.optional.custom(parsePointDimensionParams) })));\n        return result\n            ? {\n                initialValue: value,\n                params: result,\n            }\n            : null;\n    },\n    binding: {\n        reader: (_args) => point3dFromUnknown,\n        constraint: (args) => createConstraint$4(args.params, args.initialValue),\n        equals: Point3d.equals,\n        writer: (_args) => writePoint3d,\n    },\n    controller: (args) => {\n        const value = args.value;\n        const c = args.constraint;\n        const dParams = [args.params.x, args.params.y, args.params.z];\n        return new PointNdTextController(args.document, {\n            assembly: Point3dAssembly,\n            axes: value.rawValue.getComponents().map((comp, i) => {\n                var _a;\n                return createPointAxis({\n                    constraint: c.components[i],\n                    initialValue: comp,\n                    params: deepMerge(args.params, ((_a = dParams[i]) !== null && _a !== void 0 ? _a : {})),\n                });\n            }),\n            parser: parseNumber,\n            value: value,\n            viewProps: args.viewProps,\n        });\n    },\n});\n\nclass Point4d {\n    constructor(x = 0, y = 0, z = 0, w = 0) {\n        this.x = x;\n        this.y = y;\n        this.z = z;\n        this.w = w;\n    }\n    getComponents() {\n        return [this.x, this.y, this.z, this.w];\n    }\n    static isObject(obj) {\n        if (isEmpty(obj)) {\n            return false;\n        }\n        const x = obj.x;\n        const y = obj.y;\n        const z = obj.z;\n        const w = obj.w;\n        if (typeof x !== 'number' ||\n            typeof y !== 'number' ||\n            typeof z !== 'number' ||\n            typeof w !== 'number') {\n            return false;\n        }\n        return true;\n    }\n    static equals(v1, v2) {\n        return v1.x === v2.x && v1.y === v2.y && v1.z === v2.z && v1.w === v2.w;\n    }\n    toObject() {\n        return {\n            x: this.x,\n            y: this.y,\n            z: this.z,\n            w: this.w,\n        };\n    }\n}\nconst Point4dAssembly = {\n    toComponents: (p) => p.getComponents(),\n    fromComponents: (comps) => new Point4d(...comps),\n};\n\nfunction point4dFromUnknown(value) {\n    return Point4d.isObject(value)\n        ? new Point4d(value.x, value.y, value.z, value.w)\n        : new Point4d();\n}\nfunction writePoint4d(target, value) {\n    target.writeProperty('x', value.x);\n    target.writeProperty('y', value.y);\n    target.writeProperty('z', value.z);\n    target.writeProperty('w', value.w);\n}\n\nfunction createConstraint$3(params, initialValue) {\n    return new PointNdConstraint({\n        assembly: Point4dAssembly,\n        components: [\n            createDimensionConstraint(Object.assign(Object.assign({}, params), params.x), initialValue.x),\n            createDimensionConstraint(Object.assign(Object.assign({}, params), params.y), initialValue.y),\n            createDimensionConstraint(Object.assign(Object.assign({}, params), params.z), initialValue.z),\n            createDimensionConstraint(Object.assign(Object.assign({}, params), params.w), initialValue.w),\n        ],\n    });\n}\ncreatePlugin({\n    id: 'input-point4d',\n    type: 'input',\n    accept: (value, params) => {\n        if (!Point4d.isObject(value)) {\n            return null;\n        }\n        const result = parseRecord(params, (p) => (Object.assign(Object.assign({}, createPointDimensionParser(p)), { readonly: p.optional.constant(false), w: p.optional.custom(parsePointDimensionParams), x: p.optional.custom(parsePointDimensionParams), y: p.optional.custom(parsePointDimensionParams), z: p.optional.custom(parsePointDimensionParams) })));\n        return result\n            ? {\n                initialValue: value,\n                params: result,\n            }\n            : null;\n    },\n    binding: {\n        reader: (_args) => point4dFromUnknown,\n        constraint: (args) => createConstraint$3(args.params, args.initialValue),\n        equals: Point4d.equals,\n        writer: (_args) => writePoint4d,\n    },\n    controller: (args) => {\n        const value = args.value;\n        const c = args.constraint;\n        const dParams = [\n            args.params.x,\n            args.params.y,\n            args.params.z,\n            args.params.w,\n        ];\n        return new PointNdTextController(args.document, {\n            assembly: Point4dAssembly,\n            axes: value.rawValue.getComponents().map((comp, i) => {\n                var _a;\n                return createPointAxis({\n                    constraint: c.components[i],\n                    initialValue: comp,\n                    params: deepMerge(args.params, ((_a = dParams[i]) !== null && _a !== void 0 ? _a : {})),\n                });\n            }),\n            parser: parseNumber,\n            value: value,\n            viewProps: args.viewProps,\n        });\n    },\n});\n\nfunction createConstraint$2(params) {\n    const constraints = [];\n    const lc = createListConstraint(params.options);\n    if (lc) {\n        constraints.push(lc);\n    }\n    return new CompositeConstraint(constraints);\n}\ncreatePlugin({\n    id: 'input-string',\n    type: 'input',\n    accept: (value, params) => {\n        if (typeof value !== 'string') {\n            return null;\n        }\n        const result = parseRecord(params, (p) => ({\n            readonly: p.optional.constant(false),\n            options: p.optional.custom(parseListOptions),\n        }));\n        return result\n            ? {\n                initialValue: value,\n                params: result,\n            }\n            : null;\n    },\n    binding: {\n        reader: (_args) => stringFromUnknown,\n        constraint: (args) => createConstraint$2(args.params),\n        writer: (_args) => writePrimitive,\n    },\n    controller: (args) => {\n        const doc = args.document;\n        const value = args.value;\n        const c = args.constraint;\n        const lc = c && findConstraint(c, ListConstraint);\n        if (lc) {\n            return new ListController(doc, {\n                props: new ValueMap({\n                    options: lc.values.value('options'),\n                }),\n                value: value,\n                viewProps: args.viewProps,\n            });\n        }\n        return new TextController(doc, {\n            parser: (v) => v,\n            props: ValueMap.fromObject({\n                formatter: formatString,\n            }),\n            value: value,\n            viewProps: args.viewProps,\n        });\n    },\n    api(args) {\n        if (typeof args.controller.value.rawValue !== 'string') {\n            return null;\n        }\n        if (args.controller.valueController instanceof ListController) {\n            return new ListInputBindingApi(args.controller);\n        }\n        return null;\n    },\n});\n\nconst Constants = {\n    monitor: {\n        defaultInterval: 200,\n        defaultRows: 3,\n    },\n};\n\nconst cn$2 = ClassName('mll');\nclass MultiLogView {\n    constructor(doc, config) {\n        this.onValueUpdate_ = this.onValueUpdate_.bind(this);\n        this.formatter_ = config.formatter;\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$2());\n        config.viewProps.bindClassModifiers(this.element);\n        const textareaElem = doc.createElement('textarea');\n        textareaElem.classList.add(cn$2('i'));\n        textareaElem.style.height = `calc(var(${getCssVar('containerUnitSize')}) * ${config.rows})`;\n        textareaElem.readOnly = true;\n        config.viewProps.bindDisabled(textareaElem);\n        this.element.appendChild(textareaElem);\n        this.textareaElem_ = textareaElem;\n        config.value.emitter.on('change', this.onValueUpdate_);\n        this.value = config.value;\n        this.update_();\n    }\n    update_() {\n        const elem = this.textareaElem_;\n        const shouldScroll = elem.scrollTop === elem.scrollHeight - elem.clientHeight;\n        const lines = [];\n        this.value.rawValue.forEach((value) => {\n            if (value !== undefined) {\n                lines.push(this.formatter_(value));\n            }\n        });\n        elem.textContent = lines.join('\\n');\n        if (shouldScroll) {\n            elem.scrollTop = elem.scrollHeight;\n        }\n    }\n    onValueUpdate_() {\n        this.update_();\n    }\n}\n\nclass MultiLogController {\n    constructor(doc, config) {\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.view = new MultiLogView(doc, {\n            formatter: config.formatter,\n            rows: config.rows,\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n    }\n}\n\nconst cn$1 = ClassName('sgl');\nclass SingleLogView {\n    constructor(doc, config) {\n        this.onValueUpdate_ = this.onValueUpdate_.bind(this);\n        this.formatter_ = config.formatter;\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$1());\n        config.viewProps.bindClassModifiers(this.element);\n        const inputElem = doc.createElement('input');\n        inputElem.classList.add(cn$1('i'));\n        inputElem.readOnly = true;\n        inputElem.type = 'text';\n        config.viewProps.bindDisabled(inputElem);\n        this.element.appendChild(inputElem);\n        this.inputElement = inputElem;\n        config.value.emitter.on('change', this.onValueUpdate_);\n        this.value = config.value;\n        this.update_();\n    }\n    update_() {\n        const values = this.value.rawValue;\n        const lastValue = values[values.length - 1];\n        this.inputElement.value =\n            lastValue !== undefined ? this.formatter_(lastValue) : '';\n    }\n    onValueUpdate_() {\n        this.update_();\n    }\n}\n\nclass SingleLogController {\n    constructor(doc, config) {\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.view = new SingleLogView(doc, {\n            formatter: config.formatter,\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n    }\n}\n\ncreatePlugin({\n    id: 'monitor-bool',\n    type: 'monitor',\n    accept: (value, params) => {\n        if (typeof value !== 'boolean') {\n            return null;\n        }\n        const result = parseRecord(params, (p) => ({\n            readonly: p.required.constant(true),\n            rows: p.optional.number,\n        }));\n        return result\n            ? {\n                initialValue: value,\n                params: result,\n            }\n            : null;\n    },\n    binding: {\n        reader: (_args) => boolFromUnknown,\n    },\n    controller: (args) => {\n        var _a;\n        if (args.value.rawValue.length === 1) {\n            return new SingleLogController(args.document, {\n                formatter: BooleanFormatter,\n                value: args.value,\n                viewProps: args.viewProps,\n            });\n        }\n        return new MultiLogController(args.document, {\n            formatter: BooleanFormatter,\n            rows: (_a = args.params.rows) !== null && _a !== void 0 ? _a : Constants.monitor.defaultRows,\n            value: args.value,\n            viewProps: args.viewProps,\n        });\n    },\n});\n\nclass GraphLogMonitorBindingApi extends BindingApi {\n    get max() {\n        return this.controller.valueController.props.get('max');\n    }\n    set max(max) {\n        this.controller.valueController.props.set('max', max);\n    }\n    get min() {\n        return this.controller.valueController.props.get('min');\n    }\n    set min(min) {\n        this.controller.valueController.props.set('min', min);\n    }\n}\n\nconst cn = ClassName('grl');\nclass GraphLogView {\n    constructor(doc, config) {\n        this.onCursorChange_ = this.onCursorChange_.bind(this);\n        this.onValueUpdate_ = this.onValueUpdate_.bind(this);\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn());\n        config.viewProps.bindClassModifiers(this.element);\n        this.formatter_ = config.formatter;\n        this.props_ = config.props;\n        this.cursor_ = config.cursor;\n        this.cursor_.emitter.on('change', this.onCursorChange_);\n        const svgElem = doc.createElementNS(SVG_NS, 'svg');\n        svgElem.classList.add(cn('g'));\n        svgElem.style.height = `calc(var(${getCssVar('containerUnitSize')}) * ${config.rows})`;\n        this.element.appendChild(svgElem);\n        this.svgElem_ = svgElem;\n        const lineElem = doc.createElementNS(SVG_NS, 'polyline');\n        this.svgElem_.appendChild(lineElem);\n        this.lineElem_ = lineElem;\n        const tooltipElem = doc.createElement('div');\n        tooltipElem.classList.add(cn('t'), ClassName('tt')());\n        this.element.appendChild(tooltipElem);\n        this.tooltipElem_ = tooltipElem;\n        config.value.emitter.on('change', this.onValueUpdate_);\n        this.value = config.value;\n        this.update_();\n    }\n    get graphElement() {\n        return this.svgElem_;\n    }\n    update_() {\n        const bounds = this.svgElem_.getBoundingClientRect();\n        const maxIndex = this.value.rawValue.length - 1;\n        const min = this.props_.get('min');\n        const max = this.props_.get('max');\n        const points = [];\n        this.value.rawValue.forEach((v, index) => {\n            if (v === undefined) {\n                return;\n            }\n            const x = mapRange(index, 0, maxIndex, 0, bounds.width);\n            const y = mapRange(v, min, max, bounds.height, 0);\n            points.push([x, y].join(','));\n        });\n        this.lineElem_.setAttributeNS(null, 'points', points.join(' '));\n        const tooltipElem = this.tooltipElem_;\n        const value = this.value.rawValue[this.cursor_.rawValue];\n        if (value === undefined) {\n            tooltipElem.classList.remove(cn('t', 'a'));\n            return;\n        }\n        const tx = mapRange(this.cursor_.rawValue, 0, maxIndex, 0, bounds.width);\n        const ty = mapRange(value, min, max, bounds.height, 0);\n        tooltipElem.style.left = `${tx}px`;\n        tooltipElem.style.top = `${ty}px`;\n        tooltipElem.textContent = `${this.formatter_(value)}`;\n        if (!tooltipElem.classList.contains(cn('t', 'a'))) {\n            tooltipElem.classList.add(cn('t', 'a'), cn('t', 'in'));\n            forceReflow(tooltipElem);\n            tooltipElem.classList.remove(cn('t', 'in'));\n        }\n    }\n    onValueUpdate_() {\n        this.update_();\n    }\n    onCursorChange_() {\n        this.update_();\n    }\n}\n\nclass GraphLogController {\n    constructor(doc, config) {\n        this.onGraphMouseMove_ = this.onGraphMouseMove_.bind(this);\n        this.onGraphMouseLeave_ = this.onGraphMouseLeave_.bind(this);\n        this.onGraphPointerDown_ = this.onGraphPointerDown_.bind(this);\n        this.onGraphPointerMove_ = this.onGraphPointerMove_.bind(this);\n        this.onGraphPointerUp_ = this.onGraphPointerUp_.bind(this);\n        this.props = config.props;\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.cursor_ = createValue(-1);\n        this.view = new GraphLogView(doc, {\n            cursor: this.cursor_,\n            formatter: config.formatter,\n            rows: config.rows,\n            props: this.props,\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        if (!supportsTouch(doc)) {\n            this.view.element.addEventListener('mousemove', this.onGraphMouseMove_);\n            this.view.element.addEventListener('mouseleave', this.onGraphMouseLeave_);\n        }\n        else {\n            const ph = new PointerHandler(this.view.element);\n            ph.emitter.on('down', this.onGraphPointerDown_);\n            ph.emitter.on('move', this.onGraphPointerMove_);\n            ph.emitter.on('up', this.onGraphPointerUp_);\n        }\n    }\n    importProps(state) {\n        return importBladeState(state, null, (p) => ({\n            max: p.required.number,\n            min: p.required.number,\n        }), (result) => {\n            this.props.set('max', result.max);\n            this.props.set('min', result.min);\n            return true;\n        });\n    }\n    exportProps() {\n        return exportBladeState(null, {\n            max: this.props.get('max'),\n            min: this.props.get('min'),\n        });\n    }\n    onGraphMouseLeave_() {\n        this.cursor_.rawValue = -1;\n    }\n    onGraphMouseMove_(ev) {\n        const bounds = this.view.element.getBoundingClientRect();\n        this.cursor_.rawValue = Math.floor(mapRange(ev.offsetX, 0, bounds.width, 0, this.value.rawValue.length));\n    }\n    onGraphPointerDown_(ev) {\n        this.onGraphPointerMove_(ev);\n    }\n    onGraphPointerMove_(ev) {\n        if (!ev.data.point) {\n            this.cursor_.rawValue = -1;\n            return;\n        }\n        this.cursor_.rawValue = Math.floor(mapRange(ev.data.point.x, 0, ev.data.bounds.width, 0, this.value.rawValue.length));\n    }\n    onGraphPointerUp_() {\n        this.cursor_.rawValue = -1;\n    }\n}\n\nfunction createFormatter(params) {\n    return !isEmpty(params.format) ? params.format : createNumberFormatter(2);\n}\nfunction createTextMonitor(args) {\n    var _a;\n    if (args.value.rawValue.length === 1) {\n        return new SingleLogController(args.document, {\n            formatter: createFormatter(args.params),\n            value: args.value,\n            viewProps: args.viewProps,\n        });\n    }\n    return new MultiLogController(args.document, {\n        formatter: createFormatter(args.params),\n        rows: (_a = args.params.rows) !== null && _a !== void 0 ? _a : Constants.monitor.defaultRows,\n        value: args.value,\n        viewProps: args.viewProps,\n    });\n}\nfunction createGraphMonitor(args) {\n    var _a, _b, _c;\n    return new GraphLogController(args.document, {\n        formatter: createFormatter(args.params),\n        rows: (_a = args.params.rows) !== null && _a !== void 0 ? _a : Constants.monitor.defaultRows,\n        props: ValueMap.fromObject({\n            max: (_b = args.params.max) !== null && _b !== void 0 ? _b : 100,\n            min: (_c = args.params.min) !== null && _c !== void 0 ? _c : 0,\n        }),\n        value: args.value,\n        viewProps: args.viewProps,\n    });\n}\nfunction shouldShowGraph(params) {\n    return params.view === 'graph';\n}\ncreatePlugin({\n    id: 'monitor-number',\n    type: 'monitor',\n    accept: (value, params) => {\n        if (typeof value !== 'number') {\n            return null;\n        }\n        const result = parseRecord(params, (p) => ({\n            format: p.optional.function,\n            max: p.optional.number,\n            min: p.optional.number,\n            readonly: p.required.constant(true),\n            rows: p.optional.number,\n            view: p.optional.string,\n        }));\n        return result\n            ? {\n                initialValue: value,\n                params: result,\n            }\n            : null;\n    },\n    binding: {\n        defaultBufferSize: (params) => (shouldShowGraph(params) ? 64 : 1),\n        reader: (_args) => numberFromUnknown,\n    },\n    controller: (args) => {\n        if (shouldShowGraph(args.params)) {\n            return createGraphMonitor(args);\n        }\n        return createTextMonitor(args);\n    },\n    api: (args) => {\n        if (args.controller.valueController instanceof GraphLogController) {\n            return new GraphLogMonitorBindingApi(args.controller);\n        }\n        return null;\n    },\n});\n\ncreatePlugin({\n    id: 'monitor-string',\n    type: 'monitor',\n    accept: (value, params) => {\n        if (typeof value !== 'string') {\n            return null;\n        }\n        const result = parseRecord(params, (p) => ({\n            multiline: p.optional.boolean,\n            readonly: p.required.constant(true),\n            rows: p.optional.number,\n        }));\n        return result\n            ? {\n                initialValue: value,\n                params: result,\n            }\n            : null;\n    },\n    binding: {\n        reader: (_args) => stringFromUnknown,\n    },\n    controller: (args) => {\n        var _a;\n        const value = args.value;\n        const multiline = value.rawValue.length > 1 || args.params.multiline;\n        if (multiline) {\n            return new MultiLogController(args.document, {\n                formatter: formatString,\n                rows: (_a = args.params.rows) !== null && _a !== void 0 ? _a : Constants.monitor.defaultRows,\n                value: value,\n                viewProps: args.viewProps,\n            });\n        }\n        return new SingleLogController(args.document, {\n            formatter: formatString,\n            value: value,\n            viewProps: args.viewProps,\n        });\n    },\n});\n\nclass ButtonCellApi {\n    constructor(controller) {\n        this.controller_ = controller;\n    }\n    get disabled() {\n        return this.controller_.viewProps.get('disabled');\n    }\n    set disabled(disabled) {\n        this.controller_.viewProps.set('disabled', disabled);\n    }\n    get title() {\n        var _a;\n        return (_a = this.controller_.props.get('title')) !== null && _a !== void 0 ? _a : '';\n    }\n    set title(title) {\n        this.controller_.props.set('title', title);\n    }\n    on(eventName, handler) {\n        const bh = handler.bind(this);\n        const emitter = this.controller_.emitter;\n        emitter.on(eventName, () => {\n            bh(new TpEvent(this));\n        });\n        return this;\n    }\n}\n\nclass TpButtonGridEvent extends TpEvent {\n    constructor(target, cell, index) {\n        super(target);\n        this.cell = cell;\n        this.index = index;\n    }\n}\n\nclass ButtonGridApi extends BladeApi {\n    constructor(controller) {\n        super(controller);\n        this.cellToApiMap_ = new Map();\n        this.emitter_ = new Emitter();\n        const gc = this.controller.valueController;\n        gc.cellControllers.forEach((cc, i) => {\n            const api = new ButtonCellApi(cc);\n            this.cellToApiMap_.set(cc, api);\n            cc.emitter.on('click', () => {\n                const x = i % gc.size[0];\n                const y = Math.floor(i / gc.size[0]);\n                this.emitter_.emit('click', {\n                    event: new TpButtonGridEvent(this, api, [x, y]),\n                });\n            });\n        });\n    }\n    cell(x, y) {\n        const gc = this.controller.valueController;\n        const cc = gc.cellControllers[y * gc.size[0] + x];\n        return this.cellToApiMap_.get(cc);\n    }\n    on(eventName, handler) {\n        const bh = handler.bind(this);\n        this.emitter_.on(eventName, (ev) => {\n            bh(ev.event);\n        });\n        return this;\n    }\n}\n\nclass ButtonGridController {\n    constructor(doc, config) {\n        this.size = config.size;\n        const [w, h] = this.size;\n        const bcs = [];\n        for (let y = 0; y < h; y++) {\n            for (let x = 0; x < w; x++) {\n                const bc = new ButtonController(doc, {\n                    props: ValueMap.fromObject(Object.assign({}, config.cellConfig(x, y))),\n                    viewProps: ViewProps.create(),\n                });\n                bcs.push(bc);\n            }\n        }\n        this.cellCs_ = bcs;\n        this.viewProps = ViewProps.create();\n        this.viewProps.handleDispose(() => {\n            this.cellCs_.forEach((c) => {\n                c.viewProps.set('disposed', true);\n            });\n        });\n        this.view = new PlainView(doc, {\n            viewProps: this.viewProps,\n            viewName: 'btngrid',\n        });\n        this.view.element.style.gridTemplateColumns = `repeat(${w}, 1fr)`;\n        this.cellCs_.forEach((bc) => {\n            this.view.element.appendChild(bc.view.element);\n        });\n    }\n    get cellControllers() {\n        return this.cellCs_;\n    }\n}\n\nclass ButtonGridBladeController extends BladeController {\n    constructor(doc, config) {\n        const bc = config.valueController;\n        const lc = new LabelController(doc, {\n            blade: config.blade,\n            props: config.labelProps,\n            valueController: bc,\n        });\n        super({\n            blade: config.blade,\n            view: lc.view,\n            viewProps: bc.viewProps,\n        });\n        this.valueController = bc;\n        this.labelController = lc;\n    }\n}\n\nconst ButtonGridBladePlugin = createPlugin({\n    id: 'buttongrid',\n    type: 'blade',\n    accept(params) {\n        const result = parseRecord(params, (p) => ({\n            cells: p.required.function,\n            size: p.required.array(p.required.number),\n            view: p.required.constant('buttongrid'),\n            label: p.optional.string,\n        }));\n        return result ? { params: result } : null;\n    },\n    controller(args) {\n        return new ButtonGridBladeController(args.document, {\n            blade: args.blade,\n            labelProps: ValueMap.fromObject({\n                label: args.params.label,\n            }),\n            valueController: new ButtonGridController(args.document, {\n                cellConfig: args.params.cells,\n                size: args.params.size,\n            }),\n        });\n    },\n    api(args) {\n        if (args.controller instanceof ButtonGridBladeController) {\n            return new ButtonGridApi(args.controller);\n        }\n        return null;\n    },\n});\n\nclass CubicBezierApi extends BladeApi {\n    get label() {\n        return this.controller.labelController.props.get('label');\n    }\n    set label(label) {\n        this.controller.labelController.props.set('label', label);\n    }\n    get value() {\n        return this.controller.valueController.value.rawValue;\n    }\n    set value(value) {\n        this.controller.valueController.value.rawValue = value;\n    }\n    on(eventName, handler) {\n        const bh = handler.bind(this);\n        this.controller.valueController.value.emitter.on(eventName, (ev) => {\n            bh(new TpChangeEvent(this, ev.rawValue, ev.options.last));\n        });\n        return this;\n    }\n}\n\nfunction interpolate(x1, x2, t) {\n    return x1 * (1 - t) + x2 * t;\n}\nconst MAX_ITERATION = 20;\nconst X_DELTA = 0.001;\nconst CACHE_RESOLUTION = 100;\nfunction y(cb, x) {\n    let dt = 0.25;\n    let t = 0.5;\n    let y = -1;\n    for (let i = 0; i < MAX_ITERATION; i++) {\n        const [tx, ty] = cb.curve(t);\n        t += dt * (tx < x ? +1 : -1);\n        y = ty;\n        dt *= 0.5;\n        if (Math.abs(x - tx) < X_DELTA) {\n            break;\n        }\n    }\n    return y;\n}\nclass CubicBezier {\n    constructor(x1 = 0, y1 = 0, x2 = 1, y2 = 1) {\n        this.cache_ = [];\n        this.comps_ = [x1, y1, x2, y2];\n    }\n    get x1() {\n        return this.comps_[0];\n    }\n    get y1() {\n        return this.comps_[1];\n    }\n    get x2() {\n        return this.comps_[2];\n    }\n    get y2() {\n        return this.comps_[3];\n    }\n    static isObject(obj) {\n        if (isEmpty(obj)) {\n            return false;\n        }\n        if (!Array.isArray(obj)) {\n            return false;\n        }\n        return (typeof obj[0] === 'number' &&\n            typeof obj[1] === 'number' &&\n            typeof obj[2] === 'number' &&\n            typeof obj[3] === 'number');\n    }\n    static equals(v1, v2) {\n        return (v1.x1 === v2.x1 && v1.y1 === v2.y1 && v1.x2 === v2.x2 && v1.y2 === v2.y2);\n    }\n    curve(t) {\n        const x01 = interpolate(0, this.x1, t);\n        const y01 = interpolate(0, this.y1, t);\n        const x12 = interpolate(this.x1, this.x2, t);\n        const y12 = interpolate(this.y1, this.y2, t);\n        const x23 = interpolate(this.x2, 1, t);\n        const y23 = interpolate(this.y2, 1, t);\n        const xr0 = interpolate(x01, x12, t);\n        const yr0 = interpolate(y01, y12, t);\n        const xr1 = interpolate(x12, x23, t);\n        const yr1 = interpolate(y12, y23, t);\n        return [interpolate(xr0, xr1, t), interpolate(yr0, yr1, t)];\n    }\n    y(x) {\n        if (this.cache_.length === 0) {\n            const cache = [];\n            for (let i = 0; i < CACHE_RESOLUTION; i++) {\n                cache.push(y(this, mapRange(i, 0, CACHE_RESOLUTION - 1, 0, 1)));\n            }\n            this.cache_ = cache;\n        }\n        return this.cache_[Math.round(mapRange(constrainRange(x, 0, 1), 0, 1, 0, CACHE_RESOLUTION - 1))];\n    }\n    toObject() {\n        return [this.comps_[0], this.comps_[1], this.comps_[2], this.comps_[3]];\n    }\n}\nconst CubicBezierAssembly = {\n    toComponents: (p) => p.toObject(),\n    fromComponents: (comps) => new CubicBezier(...comps),\n};\n\nfunction cubicBezierToString(cb) {\n    const formatter = createNumberFormatter(2);\n    const comps = cb.toObject().map((c) => formatter(c));\n    return `cubic-bezier(${comps.join(', ')})`;\n}\nconst COMPS_EMPTY = [0, 0.5, 0.5, 1];\nfunction cubicBezierFromString(text) {\n    const m = text.match(/^cubic-bezier\\s*\\(\\s*([0-9.]+)\\s*,\\s*([0-9.]+)\\s*,\\s*([0-9.]+)\\s*,\\s*([0-9.]+)\\s*\\)$/);\n    if (!m) {\n        return new CubicBezier(...COMPS_EMPTY);\n    }\n    const comps = [m[1], m[2], m[3], m[4]].reduce((comps, comp) => {\n        if (!comps) {\n            return null;\n        }\n        const n = Number(comp);\n        if (isNaN(n)) {\n            return null;\n        }\n        return [...comps, n];\n    }, []);\n    return new CubicBezier(...(comps !== null && comps !== void 0 ? comps : COMPS_EMPTY));\n}\n\nconst className$7 = ClassName('cbz');\nclass CubicBezierView {\n    constructor(doc, config) {\n        this.element = doc.createElement('div');\n        this.element.classList.add(className$7());\n        config.viewProps.bindClassModifiers(this.element);\n        config.foldable.bindExpandedClass(this.element, className$7(undefined, 'expanded'));\n        bindValueMap(config.foldable, 'completed', valueToClassName(this.element, className$7(undefined, 'cpl')));\n        const headElem = doc.createElement('div');\n        headElem.classList.add(className$7('h'));\n        this.element.appendChild(headElem);\n        const buttonElem = doc.createElement('button');\n        buttonElem.classList.add(className$7('b'));\n        config.viewProps.bindDisabled(buttonElem);\n        const iconElem = doc.createElementNS(SVG_NS, 'svg');\n        iconElem.innerHTML = '<path d=\"M2 13C8 13 8 3 14 3\"/>';\n        buttonElem.appendChild(iconElem);\n        headElem.appendChild(buttonElem);\n        this.buttonElement = buttonElem;\n        const textElem = doc.createElement('div');\n        textElem.classList.add(className$7('t'));\n        headElem.appendChild(textElem);\n        this.textElement = textElem;\n        if (config.pickerLayout === 'inline') {\n            const pickerElem = doc.createElement('div');\n            pickerElem.classList.add(className$7('p'));\n            this.element.appendChild(pickerElem);\n            this.pickerElement = pickerElem;\n        }\n        else {\n            this.pickerElement = null;\n        }\n    }\n}\n\nconst className$6 = ClassName('cbzp');\nclass CubicBezierPickerView {\n    constructor(doc, config) {\n        this.element = doc.createElement('div');\n        this.element.classList.add(className$6());\n        config.viewProps.bindClassModifiers(this.element);\n        const graphElem = doc.createElement('div');\n        graphElem.classList.add(className$6('g'));\n        this.element.appendChild(graphElem);\n        this.graphElement = graphElem;\n        const textElem = doc.createElement('div');\n        textElem.classList.add(className$6('t'));\n        this.element.appendChild(textElem);\n        this.textElement = textElem;\n    }\n}\n\nfunction waitToBeAddedToDom(elem, callback) {\n    const ob = new MutationObserver((ml) => {\n        for (const m of ml) {\n            if (m.type !== 'childList') {\n                continue;\n            }\n            m.addedNodes.forEach((elem) => {\n                if (!elem.contains(elem)) {\n                    return;\n                }\n                callback();\n                ob.disconnect();\n            });\n        }\n    });\n    const doc = elem.ownerDocument;\n    ob.observe(doc.body, {\n        attributes: true,\n        childList: true,\n        subtree: true,\n    });\n}\n\nconst className$5 = ClassName('cbzg');\n// TODO: Apply to core\nfunction compose(h1, h2) {\n    return (input) => h2(h1(input));\n}\nclass CubicBezierGraphView {\n    constructor(doc, config) {\n        this.element = doc.createElement('div');\n        this.element.classList.add(className$5());\n        config.viewProps.bindClassModifiers(this.element);\n        config.viewProps.bindTabIndex(this.element);\n        const previewElem = doc.createElement('div');\n        previewElem.classList.add(className$5('p'));\n        this.element.appendChild(previewElem);\n        this.previewElement = previewElem;\n        const svgElem = doc.createElementNS(SVG_NS, 'svg');\n        svgElem.classList.add(className$5('g'));\n        this.element.appendChild(svgElem);\n        this.svgElem_ = svgElem;\n        const guideElem = doc.createElementNS(SVG_NS, 'path');\n        guideElem.classList.add(className$5('u'));\n        this.svgElem_.appendChild(guideElem);\n        this.guideElem_ = guideElem;\n        const lineElem = doc.createElementNS(SVG_NS, 'polyline');\n        lineElem.classList.add(className$5('l'));\n        this.svgElem_.appendChild(lineElem);\n        this.lineElem_ = lineElem;\n        this.handleElems_ = [doc.createElement('div'), doc.createElement('div')];\n        this.handleElems_.forEach((elem) => {\n            elem.classList.add(className$5('h'));\n            this.element.appendChild(elem);\n        });\n        this.vectorElems_ = [\n            doc.createElementNS(SVG_NS, 'line'),\n            doc.createElementNS(SVG_NS, 'line'),\n        ];\n        this.vectorElems_.forEach((elem) => {\n            elem.classList.add(className$5('v'));\n            this.svgElem_.appendChild(elem);\n        });\n        this.value_ = config.value;\n        this.value_.emitter.on('change', this.onValueChange_.bind(this));\n        this.sel_ = config.selection;\n        this.handleElems_.forEach((elem, index) => {\n            bindValue(this.sel_, compose((selection) => selection === index, valueToClassName(elem, className$5('h', 'sel'))));\n        });\n        waitToBeAddedToDom(this.element, () => {\n            this.refresh();\n        });\n    }\n    getVertMargin_(h) {\n        return h * 0.25;\n    }\n    valueToPosition(x, y) {\n        const { clientWidth: w, clientHeight: h } = this.element;\n        const vm = this.getVertMargin_(h);\n        return {\n            x: mapRange(x, 0, 1, 0, w),\n            y: mapRange(y, 0, 1, h - vm, vm),\n        };\n    }\n    positionToValue(x, y) {\n        const bounds = this.element.getBoundingClientRect();\n        const w = bounds.width;\n        const h = bounds.height;\n        const vm = this.getVertMargin_(h);\n        return {\n            x: constrainRange(mapRange(x, 0, w, 0, 1), 0, 1),\n            y: mapRange(y, h - vm, vm, 0, 1),\n        };\n    }\n    refresh() {\n        this.guideElem_.setAttributeNS(null, 'd', [0, 1]\n            .map((index) => {\n            const p1 = this.valueToPosition(0, index);\n            const p2 = this.valueToPosition(1, index);\n            return [`M ${p1.x},${p1.y}`, `L ${p2.x},${p2.y}`].join(' ');\n        })\n            .join(' '));\n        const bezier = this.value_.rawValue;\n        const points = [];\n        let t = 0;\n        for (;;) {\n            const p = this.valueToPosition(...bezier.curve(t));\n            points.push([p.x, p.y].join(','));\n            if (t >= 1) {\n                break;\n            }\n            t = Math.min(t + 0.05, 1);\n        }\n        this.lineElem_.setAttributeNS(null, 'points', points.join(' '));\n        const obj = bezier.toObject();\n        [0, 1].forEach((index) => {\n            const p1 = this.valueToPosition(index, index);\n            const p2 = this.valueToPosition(obj[index * 2], obj[index * 2 + 1]);\n            const vElem = this.vectorElems_[index];\n            vElem.setAttributeNS(null, 'x1', String(p1.x));\n            vElem.setAttributeNS(null, 'y1', String(p1.y));\n            vElem.setAttributeNS(null, 'x2', String(p2.x));\n            vElem.setAttributeNS(null, 'y2', String(p2.y));\n            const hElem = this.handleElems_[index];\n            hElem.style.left = `${p2.x}px`;\n            hElem.style.top = `${p2.y}px`;\n        });\n    }\n    onValueChange_() {\n        this.refresh();\n    }\n}\n\nconst TICK_COUNT = 24;\nconst PREVIEW_DELAY = 400;\nconst PREVIEW_DURATION = 1000;\nconst className$4 = ClassName('cbzprv');\nclass CubicBezierPreviewView {\n    constructor(doc, config) {\n        this.stopped_ = true;\n        this.startTime_ = -1;\n        this.onDispose_ = this.onDispose_.bind(this);\n        this.onTimer_ = this.onTimer_.bind(this);\n        this.onValueChange_ = this.onValueChange_.bind(this);\n        this.element = doc.createElement('div');\n        this.element.classList.add(className$4());\n        config.viewProps.bindClassModifiers(this.element);\n        const svgElem = doc.createElementNS(SVG_NS, 'svg');\n        svgElem.classList.add(className$4('g'));\n        this.element.appendChild(svgElem);\n        this.svgElem_ = svgElem;\n        const ticksElem = doc.createElementNS(SVG_NS, 'path');\n        ticksElem.classList.add(className$4('t'));\n        this.svgElem_.appendChild(ticksElem);\n        this.ticksElem_ = ticksElem;\n        const markerElem = doc.createElement('div');\n        markerElem.classList.add(className$4('m'));\n        this.element.appendChild(markerElem);\n        this.markerElem_ = markerElem;\n        this.value_ = config.value;\n        this.value_.emitter.on('change', this.onValueChange_);\n        config.viewProps.handleDispose(this.onDispose_);\n        waitToBeAddedToDom(this.element, () => {\n            this.refresh();\n        });\n    }\n    play() {\n        this.stop();\n        this.updateMarker_(0);\n        this.markerElem_.classList.add(className$4('m', 'a'));\n        this.startTime_ = new Date().getTime() + PREVIEW_DELAY;\n        this.stopped_ = false;\n        requestAnimationFrame(this.onTimer_);\n    }\n    stop() {\n        this.stopped_ = true;\n        this.markerElem_.classList.remove(className$4('m', 'a'));\n    }\n    onDispose_() {\n        this.stop();\n    }\n    updateMarker_(progress) {\n        const p = this.value_.rawValue.y(constrainRange(progress, 0, 1));\n        this.markerElem_.style.left = `${p * 100}%`;\n    }\n    refresh() {\n        const { clientWidth: w, clientHeight: h } = this.svgElem_;\n        const ds = [];\n        const bezier = this.value_.rawValue;\n        for (let i = 0; i < TICK_COUNT; i++) {\n            const px = mapRange(i, 0, TICK_COUNT - 1, 0, 1);\n            const x = mapRange(bezier.y(px), 0, 1, 0, w);\n            ds.push(`M ${x},0 v${h}`);\n        }\n        this.ticksElem_.setAttributeNS(null, 'd', ds.join(' '));\n    }\n    onTimer_() {\n        if (this.startTime_ === null) {\n            return;\n        }\n        const dt = new Date().getTime() - this.startTime_;\n        const p = dt / PREVIEW_DURATION;\n        this.updateMarker_(p);\n        if (dt > PREVIEW_DURATION + PREVIEW_DELAY) {\n            this.stop();\n        }\n        if (!this.stopped_) {\n            requestAnimationFrame(this.onTimer_);\n        }\n    }\n    onValueChange_() {\n        this.refresh();\n        this.play();\n    }\n}\n\nfunction getDistance(x1, y1, x2, y2) {\n    const dx = x2 - x1;\n    const dy = y2 - y1;\n    return Math.sqrt(dx * dx + dy * dy);\n}\nfunction lockAngle(x1, y1, x2, y2) {\n    const d = getDistance(x1, y1, x2, y2);\n    const a = Math.atan2(y2 - y1, x2 - x1);\n    const la = (Math.round(a / (Math.PI / 4)) * Math.PI) / 4;\n    return {\n        x: x1 + Math.cos(la) * d,\n        y: y1 + Math.sin(la) * d,\n    };\n}\nclass CubicBezierGraphController {\n    constructor(doc, config) {\n        this.onKeyDown_ = this.onKeyDown_.bind(this);\n        this.onKeyUp_ = this.onKeyUp_.bind(this);\n        this.onPointerDown_ = this.onPointerDown_.bind(this);\n        this.onPointerMove_ = this.onPointerMove_.bind(this);\n        this.onPointerUp_ = this.onPointerUp_.bind(this);\n        this.keyScale_ = config.keyScale;\n        this.value = config.value;\n        this.sel_ = createValue(0);\n        this.viewProps = config.viewProps;\n        this.view = new CubicBezierGraphView(doc, {\n            selection: this.sel_,\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        this.view.element.addEventListener('keydown', this.onKeyDown_);\n        this.view.element.addEventListener('keyup', this.onKeyUp_);\n        this.prevView_ = new CubicBezierPreviewView(doc, {\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        this.prevView_.element.addEventListener('mousedown', (ev) => {\n            ev.stopImmediatePropagation();\n            ev.preventDefault();\n            this.prevView_.play();\n        });\n        this.view.previewElement.appendChild(this.prevView_.element);\n        const ptHandler = new PointerHandler(this.view.element);\n        ptHandler.emitter.on('down', this.onPointerDown_);\n        ptHandler.emitter.on('move', this.onPointerMove_);\n        ptHandler.emitter.on('up', this.onPointerUp_);\n    }\n    refresh() {\n        this.view.refresh();\n        this.prevView_.refresh();\n        this.prevView_.play();\n    }\n    updateValue_(point, locksAngle, opts) {\n        const index = this.sel_.rawValue;\n        const comps = this.value.rawValue.toObject();\n        const vp = this.view.positionToValue(point.x, point.y);\n        const v = locksAngle ? lockAngle(index, index, vp.x, vp.y) : vp;\n        comps[index * 2] = v.x;\n        comps[index * 2 + 1] = v.y;\n        this.value.setRawValue(new CubicBezier(...comps), opts);\n    }\n    onPointerDown_(ev) {\n        const data = ev.data;\n        if (!data.point) {\n            return;\n        }\n        const bezier = this.value.rawValue;\n        const p1 = this.view.valueToPosition(bezier.x1, bezier.y1);\n        const d1 = getDistance(data.point.x, data.point.y, p1.x, p1.y);\n        const p2 = this.view.valueToPosition(bezier.x2, bezier.y2);\n        const d2 = getDistance(data.point.x, data.point.y, p2.x, p2.y);\n        this.sel_.rawValue = d1 <= d2 ? 0 : 1;\n        this.updateValue_(data.point, ev.shiftKey, {\n            forceEmit: false,\n            last: false,\n        });\n    }\n    onPointerMove_(ev) {\n        const data = ev.data;\n        if (!data.point) {\n            return;\n        }\n        this.updateValue_(data.point, ev.shiftKey, {\n            forceEmit: false,\n            last: false,\n        });\n    }\n    onPointerUp_(ev) {\n        const data = ev.data;\n        if (!data.point) {\n            return;\n        }\n        this.updateValue_(data.point, ev.shiftKey, {\n            forceEmit: true,\n            last: true,\n        });\n    }\n    onKeyDown_(ev) {\n        if (isArrowKey(ev.key)) {\n            ev.preventDefault();\n        }\n        const index = this.sel_.rawValue;\n        const comps = this.value.rawValue.toObject();\n        const keyScale = this.keyScale_.rawValue;\n        comps[index * 2] += getStepForKey(keyScale, getHorizontalStepKeys(ev));\n        comps[index * 2 + 1] += getStepForKey(keyScale, getVerticalStepKeys(ev));\n        this.value.setRawValue(new CubicBezier(...comps), {\n            forceEmit: false,\n            last: false,\n        });\n    }\n    onKeyUp_(ev) {\n        if (isArrowKey(ev.key)) {\n            ev.preventDefault();\n        }\n        const keyScale = this.keyScale_.rawValue;\n        const xStep = getStepForKey(keyScale, getHorizontalStepKeys(ev));\n        const yStep = getStepForKey(keyScale, getVerticalStepKeys(ev));\n        if (xStep === 0 && yStep === 0) {\n            return;\n        }\n        this.value.setRawValue(this.value.rawValue, {\n            forceEmit: true,\n            last: true,\n        });\n    }\n}\n\nclass CubicBezierPickerController {\n    constructor(doc, config) {\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.view = new CubicBezierPickerView(doc, {\n            viewProps: this.viewProps,\n        });\n        this.gc_ = new CubicBezierGraphController(doc, {\n            keyScale: config.axis.textProps.value('keyScale'),\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        this.view.graphElement.appendChild(this.gc_.view.element);\n        const xAxis = Object.assign(Object.assign({}, config.axis), { constraint: new RangeConstraint({ max: 1, min: 0 }) });\n        const yAxis = Object.assign(Object.assign({}, config.axis), { constraint: undefined });\n        this.tc_ = new PointNdTextController(doc, {\n            assembly: CubicBezierAssembly,\n            axes: [xAxis, yAxis, xAxis, yAxis],\n            parser: parseNumber,\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        this.view.textElement.appendChild(this.tc_.view.element);\n    }\n    get allFocusableElements() {\n        return [\n            this.gc_.view.element,\n            ...this.tc_.view.textViews.map((v) => v.inputElement),\n        ];\n    }\n    refresh() {\n        this.gc_.refresh();\n    }\n}\n\nclass CubicBezierController {\n    constructor(doc, config) {\n        this.onButtonBlur_ = this.onButtonBlur_.bind(this);\n        this.onButtonClick_ = this.onButtonClick_.bind(this);\n        this.onPopupChildBlur_ = this.onPopupChildBlur_.bind(this);\n        this.onPopupChildKeydown_ = this.onPopupChildKeydown_.bind(this);\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.foldable_ = Foldable.create(config.expanded);\n        this.view = new CubicBezierView(doc, {\n            foldable: this.foldable_,\n            pickerLayout: config.pickerLayout,\n            viewProps: this.viewProps,\n        });\n        this.view.buttonElement.addEventListener('blur', this.onButtonBlur_);\n        this.view.buttonElement.addEventListener('click', this.onButtonClick_);\n        this.tc_ = new TextController(doc, {\n            parser: cubicBezierFromString,\n            props: ValueMap.fromObject({\n                formatter: cubicBezierToString,\n            }),\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        this.view.textElement.appendChild(this.tc_.view.element);\n        this.popC_ =\n            config.pickerLayout === 'popup'\n                ? new PopupController(doc, {\n                    viewProps: this.viewProps,\n                })\n                : null;\n        const pickerC = new CubicBezierPickerController(doc, {\n            axis: config.axis,\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        pickerC.allFocusableElements.forEach((elem) => {\n            elem.addEventListener('blur', this.onPopupChildBlur_);\n            elem.addEventListener('keydown', this.onPopupChildKeydown_);\n        });\n        this.pickerC_ = pickerC;\n        if (this.popC_) {\n            this.view.element.appendChild(this.popC_.view.element);\n            this.popC_.view.element.appendChild(this.pickerC_.view.element);\n            bindValue(this.popC_.shows, (shows) => {\n                if (shows) {\n                    pickerC.refresh();\n                }\n            });\n            connectValues({\n                primary: this.foldable_.value('expanded'),\n                secondary: this.popC_.shows,\n                forward: (p) => p,\n                backward: (_, s) => s,\n            });\n        }\n        else if (this.view.pickerElement) {\n            this.view.pickerElement.appendChild(this.pickerC_.view.element);\n            bindFoldable(this.foldable_, this.view.pickerElement);\n        }\n    }\n    onButtonBlur_(ev) {\n        if (!this.popC_) {\n            return;\n        }\n        const nextTarget = forceCast(ev.relatedTarget);\n        if (!nextTarget || !this.popC_.view.element.contains(nextTarget)) {\n            this.popC_.shows.rawValue = false;\n        }\n    }\n    onButtonClick_() {\n        this.foldable_.set('expanded', !this.foldable_.get('expanded'));\n        if (this.foldable_.get('expanded')) {\n            this.pickerC_.allFocusableElements[0].focus();\n        }\n    }\n    onPopupChildBlur_(ev) {\n        if (!this.popC_) {\n            return;\n        }\n        const elem = this.popC_.view.element;\n        const nextTarget = findNextTarget(ev);\n        if (nextTarget && elem.contains(nextTarget)) {\n            // Next target is in the popup\n            return;\n        }\n        if (nextTarget &&\n            nextTarget === this.view.buttonElement &&\n            !supportsTouch(elem.ownerDocument)) {\n            // Next target is the trigger button\n            return;\n        }\n        this.popC_.shows.rawValue = false;\n    }\n    onPopupChildKeydown_(ev) {\n        if (!this.popC_) {\n            return;\n        }\n        if (ev.key === 'Escape') {\n            this.popC_.shows.rawValue = false;\n        }\n    }\n}\n\nfunction createConstraint$1() {\n    return new PointNdConstraint({\n        assembly: CubicBezierAssembly,\n        components: [0, 1, 2, 3].map((index) => index % 2 === 0\n            ? new RangeConstraint({\n                min: 0,\n                max: 1,\n            })\n            : undefined),\n    });\n}\nconst CubicBezierBladePlugin = createPlugin({\n    id: 'cubicbezier',\n    type: 'blade',\n    accept(params) {\n        const result = parseRecord(params, (p) => ({\n            value: p.required.array(p.required.number),\n            view: p.required.constant('cubicbezier'),\n            expanded: p.optional.boolean,\n            label: p.optional.string,\n            picker: p.optional.custom((v) => {\n                return v === 'inline' || v === 'popup' ? v : undefined;\n            }),\n        }));\n        return result ? { params: result } : null;\n    },\n    controller(args) {\n        var _a, _b;\n        const rv = new CubicBezier(...args.params.value);\n        const v = createValue(rv, {\n            constraint: createConstraint$1(),\n            equals: CubicBezier.equals,\n        });\n        const vc = new CubicBezierController(args.document, {\n            axis: {\n                textProps: ValueMap.fromObject({\n                    keyScale: 0.1,\n                    pointerScale: 0.01,\n                    formatter: createNumberFormatter(2),\n                }),\n            },\n            expanded: (_a = args.params.expanded) !== null && _a !== void 0 ? _a : false,\n            pickerLayout: (_b = args.params.picker) !== null && _b !== void 0 ? _b : 'popup',\n            value: v,\n            viewProps: args.viewProps,\n        });\n        return new LabeledValueBladeController(args.document, {\n            blade: args.blade,\n            props: ValueMap.fromObject({\n                label: args.params.label,\n            }),\n            value: v,\n            valueController: vc,\n        });\n    },\n    api(args) {\n        if (!(args.controller instanceof LabeledValueBladeController)) {\n            return null;\n        }\n        if (!(args.controller.valueController instanceof CubicBezierController)) {\n            return null;\n        }\n        return new CubicBezierApi(args.controller);\n    },\n});\n\nclass FpsGraphBladeApi extends BladeApi {\n    get fps() {\n        return this.controller.valueController.fps;\n    }\n    get max() {\n        return this.controller.valueController.props.get('max');\n    }\n    set max(max) {\n        this.controller.valueController.props.set('max', max);\n    }\n    get min() {\n        return this.controller.valueController.props.get('min');\n    }\n    set min(min) {\n        this.controller.valueController.props.set('min', min);\n    }\n    begin() {\n        this.controller.valueController.begin();\n    }\n    end() {\n        this.controller.valueController.end();\n    }\n    on(eventName, handler) {\n        const bh = handler.bind(this);\n        const emitter = this.controller.valueController.ticker.emitter;\n        emitter.on(eventName, () => {\n            bh(new TpEvent(this));\n        });\n        return this;\n    }\n}\n\nconst MAX_TIMESTAMPS = 20;\nclass Fpswatch {\n    constructor() {\n        this.start_ = null;\n        this.duration_ = 0;\n        this.fps_ = null;\n        this.frameCount_ = 0;\n        this.timestamps_ = [];\n    }\n    get duration() {\n        return this.duration_;\n    }\n    get fps() {\n        return this.fps_;\n    }\n    begin(now) {\n        this.start_ = now.getTime();\n    }\n    calculateFps_(nowTime) {\n        if (this.timestamps_.length === 0) {\n            return null;\n        }\n        const ts = this.timestamps_[0];\n        return (1000 * (this.frameCount_ - ts.frameCount)) / (nowTime - ts.time);\n    }\n    compactTimestamps_() {\n        if (this.timestamps_.length <= MAX_TIMESTAMPS) {\n            return;\n        }\n        const len = this.timestamps_.length - MAX_TIMESTAMPS;\n        this.timestamps_.splice(0, len);\n        const df = this.timestamps_[0].frameCount;\n        this.timestamps_.forEach((ts) => {\n            ts.frameCount -= df;\n        });\n        this.frameCount_ -= df;\n    }\n    end(now) {\n        if (this.start_ === null) {\n            return;\n        }\n        const t = now.getTime();\n        this.duration_ = t - this.start_;\n        this.start_ = null;\n        this.fps_ = this.calculateFps_(t);\n        this.timestamps_.push({\n            frameCount: this.frameCount_,\n            time: t,\n        });\n        ++this.frameCount_;\n        this.compactTimestamps_();\n    }\n}\n\nconst className$3 = ClassName('fps');\nclass FpsView {\n    constructor(doc, config) {\n        this.element = doc.createElement('div');\n        this.element.classList.add(className$3());\n        config.viewProps.bindClassModifiers(this.element);\n        this.graphElement = doc.createElement('div');\n        this.graphElement.classList.add(className$3('g'));\n        this.element.appendChild(this.graphElement);\n        const labelElement = doc.createElement('div');\n        labelElement.classList.add(className$3('l'));\n        this.element.appendChild(labelElement);\n        const valueElement = doc.createElement('span');\n        valueElement.classList.add(className$3('v'));\n        valueElement.textContent = '--';\n        labelElement.appendChild(valueElement);\n        this.valueElement = valueElement;\n        const unitElement = doc.createElement('span');\n        unitElement.classList.add(className$3('u'));\n        unitElement.textContent = 'FPS';\n        labelElement.appendChild(unitElement);\n    }\n}\n\nclass FpsGraphController {\n    constructor(doc, config) {\n        this.stopwatch_ = new Fpswatch();\n        this.onTick_ = this.onTick_.bind(this);\n        this.ticker = config.ticker;\n        this.ticker.emitter.on('tick', this.onTick_);\n        this.props = config.props;\n        this.value_ = config.value;\n        this.viewProps = config.viewProps;\n        this.view = new FpsView(doc, {\n            viewProps: this.viewProps,\n        });\n        this.graphC_ = new GraphLogController(doc, {\n            formatter: createNumberFormatter(0),\n            props: this.props,\n            rows: config.rows,\n            value: this.value_,\n            viewProps: this.viewProps,\n        });\n        this.view.graphElement.appendChild(this.graphC_.view.element);\n        this.viewProps.handleDispose(() => {\n            this.graphC_.viewProps.set('disposed', true);\n            this.ticker.dispose();\n        });\n    }\n    get fps() {\n        return this.stopwatch_.fps;\n    }\n    begin() {\n        this.stopwatch_.begin(new Date());\n    }\n    end() {\n        this.stopwatch_.end(new Date());\n    }\n    onTick_() {\n        const fps = this.fps;\n        if (fps !== null) {\n            const buffer = this.value_.rawValue;\n            this.value_.rawValue = createPushedBuffer(buffer, fps);\n            this.view.valueElement.textContent = fps.toFixed(0);\n        }\n    }\n}\n\nclass FpsGraphBladeController extends BladeController {\n    constructor(doc, config) {\n        const fc = config.valueController;\n        const lc = new LabelController(doc, {\n            blade: config.blade,\n            props: config.labelProps,\n            valueController: fc,\n        });\n        super({\n            blade: config.blade,\n            view: lc.view,\n            viewProps: fc.viewProps,\n        });\n        this.valueController = fc;\n        this.labelController = lc;\n    }\n}\n\nfunction createTicker(document, interval) {\n    return interval === 0\n        ? new ManualTicker()\n        : new IntervalTicker(document, interval !== null && interval !== void 0 ? interval : Constants.monitor.defaultInterval);\n}\nconst FpsGraphBladePlugin = createPlugin({\n    id: 'fpsgraph',\n    type: 'blade',\n    accept(params) {\n        const result = parseRecord(params, (p) => ({\n            view: p.required.constant('fpsgraph'),\n            interval: p.optional.number,\n            label: p.optional.string,\n            rows: p.optional.number,\n            max: p.optional.number,\n            min: p.optional.number,\n        }));\n        return result ? { params: result } : null;\n    },\n    controller(args) {\n        var _a, _b, _c, _d;\n        const interval = (_a = args.params.interval) !== null && _a !== void 0 ? _a : 500;\n        return new FpsGraphBladeController(args.document, {\n            blade: args.blade,\n            labelProps: ValueMap.fromObject({\n                label: args.params.label,\n            }),\n            valueController: new FpsGraphController(args.document, {\n                props: ValueMap.fromObject({\n                    max: (_b = args.params.max) !== null && _b !== void 0 ? _b : 90,\n                    min: (_c = args.params.min) !== null && _c !== void 0 ? _c : 0,\n                }),\n                rows: (_d = args.params.rows) !== null && _d !== void 0 ? _d : 2,\n                ticker: createTicker(args.document, interval),\n                value: createValue(initializeBuffer(80)),\n                viewProps: args.viewProps,\n            }),\n        });\n    },\n    api(args) {\n        if (!(args.controller instanceof FpsGraphBladeController)) {\n            return null;\n        }\n        return new FpsGraphBladeApi(args.controller);\n    },\n});\n\nclass Interval {\n    constructor(min, max) {\n        this.min = min;\n        this.max = max;\n    }\n    static isObject(obj) {\n        if (typeof obj !== 'object' || obj === null) {\n            return false;\n        }\n        const min = obj.min;\n        const max = obj.max;\n        if (typeof min !== 'number' || typeof max !== 'number') {\n            return false;\n        }\n        return true;\n    }\n    static equals(v1, v2) {\n        return v1.min === v2.min && v1.max === v2.max;\n    }\n    get length() {\n        return this.max - this.min;\n    }\n    toObject() {\n        return {\n            min: this.min,\n            max: this.max,\n        };\n    }\n}\nconst IntervalAssembly = {\n    fromComponents: (comps) => new Interval(comps[0], comps[1]),\n    toComponents: (p) => [p.min, p.max],\n};\n\nclass IntervalConstraint {\n    constructor(edge) {\n        this.edge = edge;\n    }\n    constrain(value) {\n        var _a, _b, _c, _d, _e, _f, _g, _h;\n        if (value.min <= value.max) {\n            return new Interval((_b = (_a = this.edge) === null || _a === void 0 ? void 0 : _a.constrain(value.min)) !== null && _b !== void 0 ? _b : value.min, (_d = (_c = this.edge) === null || _c === void 0 ? void 0 : _c.constrain(value.max)) !== null && _d !== void 0 ? _d : value.max);\n        }\n        const c = (value.min + value.max) / 2;\n        return new Interval((_f = (_e = this.edge) === null || _e === void 0 ? void 0 : _e.constrain(c)) !== null && _f !== void 0 ? _f : c, (_h = (_g = this.edge) === null || _g === void 0 ? void 0 : _g.constrain(c)) !== null && _h !== void 0 ? _h : c);\n    }\n}\n\nconst className$2 = ClassName('rsltxt');\nclass RangeSliderTextView {\n    constructor(doc, config) {\n        this.sliderView_ = config.sliderView;\n        this.textView_ = config.textView;\n        this.element = doc.createElement('div');\n        this.element.classList.add(className$2());\n        const sliderElem = doc.createElement('div');\n        sliderElem.classList.add(className$2('s'));\n        sliderElem.appendChild(this.sliderView_.element);\n        this.element.appendChild(sliderElem);\n        const textElem = doc.createElement('div');\n        textElem.classList.add(className$2('t'));\n        textElem.appendChild(this.textView_.element);\n        this.element.appendChild(textElem);\n    }\n}\n\nconst className$1 = ClassName('rsl');\nclass RangeSliderView {\n    constructor(doc, config) {\n        this.onSliderPropsChange_ = this.onSliderPropsChange_.bind(this);\n        this.onValueChange_ = this.onValueChange_.bind(this);\n        this.sliderProps_ = config.sliderProps;\n        this.sliderProps_.emitter.on('change', this.onSliderPropsChange_);\n        this.element = doc.createElement('div');\n        this.element.classList.add(className$1());\n        config.viewProps.bindClassModifiers(this.element);\n        this.value_ = config.value;\n        this.value_.emitter.on('change', this.onValueChange_);\n        const trackElem = doc.createElement('div');\n        trackElem.classList.add(className$1('t'));\n        this.element.appendChild(trackElem);\n        this.trackElement = trackElem;\n        const barElem = doc.createElement('div');\n        barElem.classList.add(className$1('b'));\n        trackElem.appendChild(barElem);\n        this.barElement = barElem;\n        const knobElems = ['min', 'max'].map((modifier) => {\n            const elem = doc.createElement('div');\n            elem.classList.add(className$1('k'), className$1('k', modifier));\n            trackElem.appendChild(elem);\n            return elem;\n        });\n        this.knobElements = [knobElems[0], knobElems[1]];\n        this.update_();\n    }\n    valueToX_(value) {\n        const min = this.sliderProps_.get('min');\n        const max = this.sliderProps_.get('max');\n        return constrainRange(mapRange(value, min, max, 0, 1), 0, 1) * 100;\n    }\n    update_() {\n        const v = this.value_.rawValue;\n        if (v.length === 0) {\n            this.element.classList.add(className$1(undefined, 'zero'));\n        }\n        else {\n            this.element.classList.remove(className$1(undefined, 'zero'));\n        }\n        const xs = [this.valueToX_(v.min), this.valueToX_(v.max)];\n        this.barElement.style.left = `${xs[0]}%`;\n        this.barElement.style.right = `${100 - xs[1]}%`;\n        this.knobElements.forEach((elem, index) => {\n            elem.style.left = `${xs[index]}%`;\n        });\n    }\n    onSliderPropsChange_() {\n        this.update_();\n    }\n    onValueChange_() {\n        this.update_();\n    }\n}\n\nclass RangeSliderController {\n    constructor(doc, config) {\n        this.grabbing_ = null;\n        this.grabOffset_ = 0;\n        this.onPointerDown_ = this.onPointerDown_.bind(this);\n        this.onPointerMove_ = this.onPointerMove_.bind(this);\n        this.onPointerUp_ = this.onPointerUp_.bind(this);\n        this.sliderProps = config.sliderProps;\n        this.viewProps = config.viewProps;\n        this.value = config.value;\n        this.view = new RangeSliderView(doc, {\n            sliderProps: this.sliderProps,\n            value: this.value,\n            viewProps: config.viewProps,\n        });\n        const ptHandler = new PointerHandler(this.view.trackElement);\n        ptHandler.emitter.on('down', this.onPointerDown_);\n        ptHandler.emitter.on('move', this.onPointerMove_);\n        ptHandler.emitter.on('up', this.onPointerUp_);\n    }\n    ofs_() {\n        if (this.grabbing_ === 'min') {\n            return this.view.knobElements[0].getBoundingClientRect().width / 2;\n        }\n        if (this.grabbing_ === 'max') {\n            return -this.view.knobElements[1].getBoundingClientRect().width / 2;\n        }\n        return 0;\n    }\n    valueFromData_(data) {\n        if (!data.point) {\n            return null;\n        }\n        const p = (data.point.x + this.ofs_()) / data.bounds.width;\n        const min = this.sliderProps.get('min');\n        const max = this.sliderProps.get('max');\n        return mapRange(p, 0, 1, min, max);\n    }\n    onPointerDown_(ev) {\n        if (!ev.data.point) {\n            return;\n        }\n        const p = ev.data.point.x / ev.data.bounds.width;\n        const v = this.value.rawValue;\n        const min = this.sliderProps.get('min');\n        const max = this.sliderProps.get('max');\n        const pmin = mapRange(v.min, min, max, 0, 1);\n        const pmax = mapRange(v.max, min, max, 0, 1);\n        if (Math.abs(pmax - p) <= 0.025) {\n            this.grabbing_ = 'max';\n        }\n        else if (Math.abs(pmin - p) <= 0.025) {\n            this.grabbing_ = 'min';\n        }\n        else if (p >= pmin && p <= pmax) {\n            this.grabbing_ = 'length';\n            this.grabOffset_ = mapRange(p - pmin, 0, 1, 0, max - min);\n        }\n        else if (p < pmin) {\n            this.grabbing_ = 'min';\n            this.onPointerMove_(ev);\n        }\n        else if (p > pmax) {\n            this.grabbing_ = 'max';\n            this.onPointerMove_(ev);\n        }\n    }\n    applyPointToValue_(data, opts) {\n        const v = this.valueFromData_(data);\n        if (v === null) {\n            return;\n        }\n        const rmin = this.sliderProps.get('min');\n        const rmax = this.sliderProps.get('max');\n        if (this.grabbing_ === 'min') {\n            this.value.setRawValue(new Interval(v, this.value.rawValue.max), opts);\n        }\n        else if (this.grabbing_ === 'max') {\n            this.value.setRawValue(new Interval(this.value.rawValue.min, v), opts);\n        }\n        else if (this.grabbing_ === 'length') {\n            const len = this.value.rawValue.length;\n            let min = v - this.grabOffset_;\n            let max = min + len;\n            if (min < rmin) {\n                min = rmin;\n                max = rmin + len;\n            }\n            else if (max > rmax) {\n                min = rmax - len;\n                max = rmax;\n            }\n            this.value.setRawValue(new Interval(min, max), opts);\n        }\n    }\n    onPointerMove_(ev) {\n        this.applyPointToValue_(ev.data, {\n            forceEmit: false,\n            last: false,\n        });\n    }\n    onPointerUp_(ev) {\n        this.applyPointToValue_(ev.data, {\n            forceEmit: true,\n            last: true,\n        });\n        this.grabbing_ = null;\n    }\n}\n\nclass RangeSliderTextController {\n    constructor(doc, config) {\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.sc_ = new RangeSliderController(doc, config);\n        const axis = {\n            constraint: config.constraint,\n            textProps: config.textProps,\n        };\n        this.tc_ = new PointNdTextController(doc, {\n            assembly: IntervalAssembly,\n            axes: [axis, axis],\n            parser: config.parser,\n            value: this.value,\n            viewProps: config.viewProps,\n        });\n        this.view = new RangeSliderTextView(doc, {\n            sliderView: this.sc_.view,\n            textView: this.tc_.view,\n        });\n    }\n    get textController() {\n        return this.tc_;\n    }\n}\n\nfunction intervalFromUnknown(value) {\n    return Interval.isObject(value)\n        ? new Interval(value.min, value.max)\n        : new Interval(0, 0);\n}\nfunction writeInterval(target, value) {\n    target.writeProperty('max', value.max);\n    target.writeProperty('min', value.min);\n}\n\nfunction createConstraint(params) {\n    const constraints = [];\n    const rc = createRangeConstraint(params);\n    if (rc) {\n        constraints.push(rc);\n    }\n    const sc = createStepConstraint(params);\n    if (sc) {\n        constraints.push(sc);\n    }\n    return new IntervalConstraint(new CompositeConstraint(constraints));\n}\nconst IntervalInputPlugin = createPlugin({\n    id: 'input-interval',\n    type: 'input',\n    accept: (exValue, params) => {\n        if (!Interval.isObject(exValue)) {\n            return null;\n        }\n        const result = parseRecord(params, (p) => (Object.assign(Object.assign({}, createNumberTextInputParamsParser(p)), { readonly: p.optional.constant(false) })));\n        return result\n            ? {\n                initialValue: new Interval(exValue.min, exValue.max),\n                params: result,\n            }\n            : null;\n    },\n    binding: {\n        reader: (_args) => intervalFromUnknown,\n        constraint: (args) => createConstraint(args.params),\n        equals: Interval.equals,\n        writer: (_args) => writeInterval,\n    },\n    controller(args) {\n        const v = args.value;\n        const c = args.constraint;\n        if (!(c instanceof IntervalConstraint)) {\n            throw TpError.shouldNeverHappen();\n        }\n        const midValue = (v.rawValue.min + v.rawValue.max) / 2;\n        const textProps = ValueMap.fromObject(createNumberTextPropsObject(args.params, midValue));\n        const drc = c.edge && findConstraint(c.edge, DefiniteRangeConstraint);\n        if (drc) {\n            return new RangeSliderTextController(args.document, {\n                constraint: c.edge,\n                parser: parseNumber,\n                sliderProps: new ValueMap({\n                    keyScale: textProps.value('keyScale'),\n                    max: drc.values.value('max'),\n                    min: drc.values.value('min'),\n                }),\n                textProps: textProps,\n                value: v,\n                viewProps: args.viewProps,\n            });\n        }\n        const axis = {\n            constraint: c.edge,\n            textProps: textProps,\n        };\n        return new PointNdTextController(args.document, {\n            assembly: IntervalAssembly,\n            axes: [axis, axis],\n            parser: parseNumber,\n            value: v,\n            viewProps: args.viewProps,\n        });\n    },\n});\n\nclass RadioCellApi {\n    constructor(controller) {\n        this.controller_ = controller;\n    }\n    get disabled() {\n        return this.controller_.viewProps.get('disabled');\n    }\n    set disabled(disabled) {\n        this.controller_.viewProps.set('disabled', disabled);\n    }\n    get title() {\n        var _a;\n        return (_a = this.controller_.props.get('title')) !== null && _a !== void 0 ? _a : '';\n    }\n    set title(title) {\n        this.controller_.props.set('title', title);\n    }\n}\n\nclass TpRadioGridChangeEvent extends TpChangeEvent {\n    constructor(target, cell, index, value, last) {\n        super(target, value, last);\n        this.cell = cell;\n        this.index = index;\n    }\n}\n\nclass RadioGridApi extends BladeApi {\n    constructor(controller) {\n        super(controller);\n        this.cellToApiMap_ = new Map();\n        const gc = this.controller.valueController;\n        gc.cellControllers.forEach((cc) => {\n            const api = new RadioCellApi(cc);\n            this.cellToApiMap_.set(cc, api);\n        });\n    }\n    get value() {\n        return this.controller.value;\n    }\n    cell(x, y) {\n        const gc = this.controller.valueController;\n        const cc = gc.cellControllers[y * gc.size[0] + x];\n        return this.cellToApiMap_.get(cc);\n    }\n    on(eventName, handler) {\n        const bh = handler.bind(this);\n        this.controller.value.emitter.on(eventName, (ev) => {\n            const gc = this.controller.valueController;\n            const cc = gc.findCellByValue(ev.rawValue);\n            if (!cc) {\n                return;\n            }\n            const capi = this.cellToApiMap_.get(cc);\n            if (!capi) {\n                return;\n            }\n            const i = gc.cellControllers.indexOf(cc);\n            bh(new TpRadioGridChangeEvent(this, capi, [i % gc.size[0], Math.floor(i / gc.size[0])], ev.rawValue));\n        });\n    }\n}\n\nconst className = ClassName('rad');\nclass RadioView {\n    constructor(doc, config) {\n        this.element = doc.createElement('div');\n        this.element.classList.add(className());\n        config.viewProps.bindClassModifiers(this.element);\n        const labelElem = doc.createElement('label');\n        labelElem.classList.add(className('l'));\n        this.element.appendChild(labelElem);\n        const inputElem = doc.createElement('input');\n        inputElem.classList.add(className('i'));\n        inputElem.name = config.name;\n        inputElem.type = 'radio';\n        config.viewProps.bindDisabled(inputElem);\n        labelElem.appendChild(inputElem);\n        this.inputElement = inputElem;\n        const bodyElem = doc.createElement('div');\n        bodyElem.classList.add(className('b'));\n        labelElem.appendChild(bodyElem);\n        const titleElem = doc.createElement('div');\n        titleElem.classList.add(className('t'));\n        bodyElem.appendChild(titleElem);\n        bindValueMap(config.props, 'title', (title) => {\n            titleElem.textContent = title;\n        });\n    }\n}\n\nclass RadioController {\n    constructor(doc, config) {\n        this.props = config.props;\n        this.viewProps = config.viewProps;\n        this.view = new RadioView(doc, {\n            name: config.name,\n            props: this.props,\n            viewProps: this.viewProps,\n        });\n    }\n}\n\nclass RadioGridController {\n    constructor(doc, config) {\n        this.cellCs_ = [];\n        this.cellValues_ = [];\n        this.onCellInputChange_ = this.onCellInputChange_.bind(this);\n        this.size = config.size;\n        const [w, h] = this.size;\n        for (let y = 0; y < h; y++) {\n            for (let x = 0; x < w; x++) {\n                const bc = new RadioController(doc, {\n                    name: config.groupName,\n                    props: ValueMap.fromObject(Object.assign({}, config.cellConfig(x, y))),\n                    viewProps: ViewProps.create(),\n                });\n                this.cellCs_.push(bc);\n                this.cellValues_.push(config.cellConfig(x, y).value);\n            }\n        }\n        this.value = config.value;\n        bindValue(this.value, (value) => {\n            const cc = this.findCellByValue(value);\n            if (!cc) {\n                return;\n            }\n            cc.view.inputElement.checked = true;\n        });\n        this.viewProps = ViewProps.create();\n        this.view = new PlainView(doc, {\n            viewProps: this.viewProps,\n            viewName: 'radgrid',\n        });\n        this.view.element.style.gridTemplateColumns = `repeat(${w}, 1fr)`;\n        this.cellCs_.forEach((bc) => {\n            bc.view.inputElement.addEventListener('change', this.onCellInputChange_);\n            this.view.element.appendChild(bc.view.element);\n        });\n    }\n    get cellControllers() {\n        return this.cellCs_;\n    }\n    findCellByValue(value) {\n        const index = this.cellValues_.findIndex((v) => v === value);\n        if (index < 0) {\n            return null;\n        }\n        return this.cellCs_[index];\n    }\n    onCellInputChange_(ev) {\n        const inputElem = ev.currentTarget;\n        const index = this.cellCs_.findIndex((c) => c.view.inputElement === inputElem);\n        if (index < 0) {\n            return;\n        }\n        this.value.rawValue = this.cellValues_[index];\n    }\n}\n\nconst RadioGridBladePlugin = (function () {\n    return createPlugin({\n        id: 'radiogrid',\n        type: 'blade',\n        accept(params) {\n            const result = parseRecord(params, (p) => ({\n                cells: p.required.function,\n                groupName: p.required.string,\n                size: p.required.array(p.required.number),\n                value: p.required.raw,\n                view: p.required.constant('radiogrid'),\n                label: p.optional.string,\n            }));\n            return result ? { params: result } : null;\n        },\n        controller(args) {\n            const value = createValue(args.params.value);\n            return new LabeledValueBladeController(args.document, {\n                blade: args.blade,\n                props: ValueMap.fromObject({\n                    label: args.params.label,\n                }),\n                value: value,\n                valueController: new RadioGridController(args.document, {\n                    groupName: args.params.groupName,\n                    cellConfig: args.params.cells,\n                    size: args.params.size,\n                    value: value,\n                }),\n            });\n        },\n        api(args) {\n            if (!(args.controller instanceof LabeledValueBladeController)) {\n                return null;\n            }\n            if (!(args.controller.valueController instanceof RadioGridController)) {\n                return null;\n            }\n            return new RadioGridApi(args.controller);\n        },\n    });\n})();\n\nfunction createRadioGridInputPlugin(config) {\n    return createPlugin({\n        id: 'input-radiogrid',\n        type: 'input',\n        accept(value, params) {\n            if (!config.isType(value)) {\n                return null;\n            }\n            const result = parseRecord(params, (p) => ({\n                cells: p.required.function,\n                groupName: p.required.string,\n                size: p.required.array(p.required.number),\n                view: p.required.constant('radiogrid'),\n            }));\n            return result\n                ? {\n                    initialValue: value,\n                    params: result,\n                }\n                : null;\n        },\n        binding: config.binding,\n        controller: (args) => {\n            return new RadioGridController(args.document, {\n                cellConfig: args.params.cells,\n                groupName: args.params.groupName,\n                size: args.params.size,\n                value: args.value,\n            });\n        },\n    });\n}\nconst RadioGruidNumberInputPlugin = createRadioGridInputPlugin({\n    isType: (value) => {\n        return typeof value === 'number';\n    },\n    binding: {\n        reader: (_args) => numberFromUnknown,\n        writer: (_args) => writePrimitive,\n    },\n});\nconst RadioGruidStringInputPlugin = createRadioGridInputPlugin({\n    isType: (value) => {\n        return typeof value === 'string';\n    },\n    binding: {\n        reader: (_args) => stringFromUnknown,\n        writer: (_args) => writePrimitive,\n    },\n});\nconst RadioGruidBooleanInputPlugin = createRadioGridInputPlugin({\n    isType: (value) => {\n        return typeof value === 'boolean';\n    },\n    binding: {\n        reader: (_args) => boolFromUnknown,\n        writer: (_args) => writePrimitive,\n    },\n});\n\nconst id = 'essentials';\nconst css = '.tp-cbzgv,.tp-radv_b,.tp-rslv_k,.tp-cbzv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:rgba(0,0,0,0);border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-radv_b,.tp-rslv_k,.tp-cbzv_b{background-color:var(--btn-bg);border-radius:var(--bld-br);color:var(--btn-fg);cursor:pointer;display:block;font-weight:bold;height:var(--cnt-usz);line-height:var(--cnt-usz);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-radv_b:hover,.tp-rslv_k:hover,.tp-cbzv_b:hover{background-color:var(--btn-bg-h)}.tp-radv_b:focus,.tp-rslv_k:focus,.tp-cbzv_b:focus{background-color:var(--btn-bg-f)}.tp-radv_b:active,.tp-rslv_k:active,.tp-cbzv_b:active{background-color:var(--btn-bg-a)}.tp-radv_b:disabled,.tp-rslv_k:disabled,.tp-cbzv_b:disabled{opacity:.5}.tp-cbzgv{background-color:var(--in-bg);border-radius:var(--bld-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--cnt-usz);line-height:var(--cnt-usz);min-width:0;width:100%}.tp-cbzgv:hover{background-color:var(--in-bg-h)}.tp-cbzgv:focus{background-color:var(--in-bg-f)}.tp-cbzgv:active{background-color:var(--in-bg-a)}.tp-cbzgv:disabled{opacity:.5}.tp-btngridv{border-radius:var(--bld-br);display:grid;overflow:hidden;gap:2px}.tp-btngridv.tp-v-disabled{opacity:.5}.tp-btngridv .tp-btnv_b:disabled{opacity:1}.tp-btngridv .tp-btnv_b:disabled .tp-btnv_t{opacity:.5}.tp-btngridv .tp-btnv_b{border-radius:0}.tp-cbzv{position:relative}.tp-cbzv_h{display:flex}.tp-cbzv_b{margin-right:4px;position:relative;width:var(--cnt-usz)}.tp-cbzv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-cbzv_b svg path{stroke:var(--bs-bg);stroke-width:2}.tp-cbzv_t{flex:1}.tp-cbzv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-cbzv.tp-cbzv-expanded .tp-cbzv_p{margin-top:var(--cnt-usp);opacity:1}.tp-cbzv.tp-cbzv-cpl .tp-cbzv_p{overflow:visible}.tp-cbzv .tp-popv{left:calc(-1 * var(--cnt-hp));position:absolute;right:calc(-1 * var(--cnt-hp));top:var(--cnt-usz)}.tp-cbzpv_t{margin-top:var(--cnt-usp)}.tp-cbzgv{height:auto;overflow:hidden;position:relative}.tp-cbzgv.tp-v-disabled{opacity:.5}.tp-cbzgv_p{left:16px;position:absolute;right:16px;top:0}.tp-cbzgv_g{cursor:pointer;display:block;height:calc(var(--cnt-usz) * 5);width:100%}.tp-cbzgv_u{opacity:.1;stroke:var(--in-fg);stroke-dasharray:1}.tp-cbzgv_l{fill:rgba(0,0,0,0);stroke:var(--in-fg)}.tp-cbzgv_v{opacity:.5;stroke:var(--in-fg);stroke-dasharray:1}.tp-cbzgv_h{border:var(--in-fg) solid 1px;border-radius:50%;box-sizing:border-box;height:4px;margin-left:-2px;margin-top:-2px;pointer-events:none;position:absolute;width:4px}.tp-cbzgv:focus .tp-cbzgv_h-sel{background-color:var(--in-fg);border-width:0}.tp-cbzprvv{cursor:pointer;height:4px;padding:4px 0;position:relative}.tp-cbzprvv_g{display:block;height:100%;overflow:visible;width:100%}.tp-cbzprvv_t{opacity:.5;stroke:var(--mo-fg)}.tp-cbzprvv_m{background-color:var(--mo-fg);border-radius:50%;height:4px;margin-left:-2px;margin-top:-2px;opacity:0;position:absolute;top:50%;transition:opacity .2s ease-out;width:4px}.tp-cbzprvv_m.tp-cbzprvv_m-a{opacity:1}.tp-fpsv{position:relative}.tp-fpsv_l{bottom:4px;color:var(--mo-fg);line-height:1;right:4px;pointer-events:none;position:absolute}.tp-fpsv_u{margin-left:.2em;opacity:.7}.tp-rslv{cursor:pointer;padding-left:8px;padding-right:8px}.tp-rslv.tp-v-disabled{opacity:.5}.tp-rslv_t{height:calc(var(--cnt-usz));position:relative}.tp-rslv_t::before{background-color:var(--in-bg);border-radius:1px;content:\"\";height:2px;margin-top:-1px;position:absolute;top:50%;left:-4px;right:-4px}.tp-rslv_b{bottom:0;top:0;position:absolute}.tp-rslv_b::before{background-color:var(--in-fg);content:\"\";height:2px;margin-top:-1px;position:absolute;top:50%;left:0;right:0}.tp-rslv_k{height:calc(var(--cnt-usz) - 8px);margin-top:calc((var(--cnt-usz) - 8px)/-2);position:absolute;top:50%;width:8px}.tp-rslv_k.tp-rslv_k-min{margin-left:-8px}.tp-rslv_k.tp-rslv_k-max{margin-left:0}.tp-rslv.tp-rslv-zero .tp-rslv_k.tp-rslv_k-min{border-bottom-right-radius:0;border-top-right-radius:0}.tp-rslv.tp-rslv-zero .tp-rslv_k.tp-rslv_k-max{border-bottom-left-radius:0;border-top-left-radius:0}.tp-rsltxtv{display:flex}.tp-rsltxtv_s{flex:1}.tp-rsltxtv_t{flex:1;margin-left:4px}.tp-radv_l{display:block;position:relative}.tp-radv_i{left:0;opacity:0;position:absolute;top:0}.tp-radv_b{opacity:.5}.tp-radv_i:hover+.tp-radv_b{background-color:var(--btn-bg-h)}.tp-radv_i:focus+.tp-radv_b{background-color:var(--btn-bg-f)}.tp-radv_i:active+.tp-radv_b{background-color:var(--btn-bg-a)}.tp-radv_i:checked+.tp-radv_b{opacity:1}.tp-radv_t{bottom:0;color:inherit;left:0;overflow:hidden;position:absolute;right:0;text-align:center;text-overflow:ellipsis;top:0}.tp-radv_i:disabled+.tp-radv_b>.tp-radv_t{opacity:.5}.tp-radgridv{border-radius:var(--bld-br);display:grid;overflow:hidden;gap:2px}.tp-radgridv.tp-v-disabled{opacity:.5}.tp-radgridv .tp-radv_b{border-radius:0}';\nconst plugins = [\n    ButtonGridBladePlugin,\n    CubicBezierBladePlugin,\n    FpsGraphBladePlugin,\n    IntervalInputPlugin,\n    RadioGridBladePlugin,\n    RadioGruidBooleanInputPlugin,\n    RadioGruidNumberInputPlugin,\n    RadioGruidStringInputPlugin,\n];\n\nexport { ButtonCellApi, ButtonGridApi, ButtonGridController, CubicBezier, CubicBezierApi, CubicBezierAssembly, CubicBezierController, CubicBezierGraphController, CubicBezierGraphView, CubicBezierPickerController, CubicBezierPickerView, CubicBezierPreviewView, CubicBezierView, FpsGraphBladeApi, FpsGraphController, FpsView, Fpswatch, Interval, IntervalAssembly, IntervalConstraint, RadioCellApi, RadioController, RadioGridApi, RadioGridController, RadioView, RangeSliderController, RangeSliderTextController, RangeSliderTextView, RangeSliderView, TpRadioGridChangeEvent, css, id, plugins };\n","import { BladeController, FolderApi, View } from '@tweakpane/core';\r\nimport { Pane, BladeApi } from 'tweakpane';\r\nimport * as EssentialsPlugin from '@tweakpane/plugin-essentials';\r\nimport config from './config';\r\n\r\n\r\nclass TweakPanel {\r\n\r\n    private pane: Pane;\r\n\r\n    private main: FolderApi;\r\n    private fpsGraph: any;\r\n    private config: typeof config;\r\n\r\n    private onChangeHandler: (config: typeof this.config) => any;\r\n\r\n    /**\r\n     * This tweak panel modify original config object\r\n     * @param configObj \r\n     */\r\n    public init(configObj: typeof config) {\r\n\r\n        this.config = configObj;\r\n\r\n        this.pane = new Pane();\r\n        this.pane.registerPlugin(EssentialsPlugin);\r\n\r\n        this.main = this.pane.addFolder({\r\n            title: 'Parameters',\r\n            expanded: true,\r\n        });\r\n\r\n\r\n        this.fpsGraph = this.main.addBlade({\r\n            view: 'fpsgraph',\r\n            label: 'fps',\r\n            rows: 2,\r\n        });\r\n\r\n        this.main.on('change', (ev) => {\r\n            if (this.onChangeHandler) {\r\n                this.onChangeHandler(this.config);\r\n            }\r\n        });\r\n\r\n\r\n        this.addBindings();\r\n    }\r\n\r\n    onChange(onChangeHandlerArg: (config: typeof this.config) => any) {\r\n        this.onChangeHandler = onChangeHandlerArg;\r\n    }\r\n\r\n\r\n    addBindings() {\r\n        this.main.addBinding(this.config, 'speed', {\r\n            min: -2,\r\n            max: 2,\r\n            step: 0.1,\r\n        });\r\n\r\n        this.main.addBinding(this.config, 'noiseForce', {\r\n            min: -2,\r\n            max: 2,\r\n            step: 0.1,\r\n        });\r\n\r\n        this.main.addBinding(this.config, 'noiseScale', {\r\n            min: 0.001,\r\n            max: 1,\r\n        });\r\n    }\r\n\r\n    tickStart() {\r\n        this.fpsGraph.begin();\r\n    }\r\n\r\n    tickEnd() {\r\n        this.fpsGraph.end();\r\n    }\r\n\r\n}\r\n\r\nexport default TweakPanel;","import { Renderer, Program, Color, Orbit, Mesh, Camera, Vec3, Transform, Plane, Sphere, Box, Geometry, OGLRenderingContext, Texture } from 'ogl-typescript';\r\nimport vertex from '../shaders/vert.glsl';\r\nimport fragment from '../shaders/frag.glsl';\r\n\r\nimport noiseImgSrc from '../assets/T_Noise_03.png';\r\n\r\nimport TweakPanel from './TweakPanel';\r\nimport config from './config';\r\n\r\nenum AppStatus{\r\n    INIT,\r\n    READY,\r\n}\r\n\r\nclass App {\r\n    public renderer: Renderer;\r\n    public gl: OGLRenderingContext;\r\n\r\n    public camera: Camera;\r\n    public orbitControls: any;\r\n\r\n    public sphereShader?: Program;\r\n    public scene: Transform;\r\n\r\n    public noiseTex: Texture;\r\n\r\n    private tweakPanel: TweakPanel;\r\n\r\n    private status: AppStatus = AppStatus.INIT;\r\n\r\n    async init() {\r\n        this.renderer = new Renderer({dpr: 3});\r\n\r\n        this.gl = this.renderer.gl;\r\n        document.body.appendChild(this.gl.canvas);\r\n        this.gl.clearColor(0, 0, 0, 0);\r\n\r\n        this.initCamera();\r\n\r\n        window.addEventListener('resize', this.onResize.bind(this), false);\r\n        this.onResize();\r\n\r\n        this.scene = new Transform();\r\n\r\n        this.noiseTex = await this.createTexture( noiseImgSrc );\r\n\r\n        const sphere = this.createSphere();\r\n\r\n        sphere.setParent(this.scene);\r\n\r\n        this.tweakPanel = new TweakPanel();\r\n        this.tweakPanel.init(config);\r\n\r\n        this.updateConfigUniforms = this.updateConfigUniforms.bind(this);\r\n\r\n        this.tweakPanel.onChange(this.updateConfigUniforms)\r\n\r\n        this.status = AppStatus.READY;\r\n    }\r\n\r\n    public updateConfigUniforms(){\r\n        if(!this.sphereShader){\r\n            return;\r\n        }\r\n\r\n        this.sphereShader.uniforms.speed.value = config['speed'];\r\n        this.sphereShader.uniforms.noiseForce.value = config['noiseForce'];\r\n        this.sphereShader.uniforms.noiseScale.value = config['noiseScale'];\r\n    }\r\n\r\n    public initCamera() {\r\n        this.camera = new Camera(this.gl, { fov: 35 });\r\n        this.camera.position.set(0, 1, 7);\r\n        this.camera.lookAt([0, 0, 0]);\r\n\r\n        // @ts-ignore\r\n        this.orbitControls = new Orbit(this.camera, {\r\n            element: this.gl.canvas,\r\n            target: new Vec3(0, 0, 0),\r\n        });\r\n    }\r\n\r\n    public onResize() {\r\n        this.renderer.setSize(window.innerWidth, window.innerHeight);\r\n        this.camera.perspective({ aspect: this.gl.canvas.width / this.gl.canvas.height });\r\n    }\r\n\r\n    public createSphereShader() {\r\n        return new Program(this.gl, {\r\n            vertex,\r\n            fragment,\r\n            transparent: true,\r\n            uniforms: {\r\n                uTime: { value: 0 },\r\n\r\n                // conifg params\r\n                speed: { value: config['speed'] },\r\n                noiseForce: { value: config['noiseForce'] },\r\n                noiseScale: { value: config['noiseScale'] },\r\n\r\n                nTex: { value: this.noiseTex }\r\n            },\r\n        });\r\n    }\r\n\r\n    public update(t: number) {\r\n        if(this.status === AppStatus.INIT || !this.sphereShader){\r\n            return;\r\n        }\r\n        \r\n        this.tweakPanel.tickStart();\r\n\r\n        this.orbitControls.update();\r\n\r\n        this.renderer.render({\r\n            scene: this.scene,\r\n            camera: this.camera\r\n        });\r\n\r\n        this.sphereShader.uniforms.uTime.value = t * 0.001;\r\n\r\n\r\n        this.tweakPanel.tickEnd();\r\n    }\r\n\r\n    public createTexture(src: string){\r\n        const texture = new Texture(this.gl);\r\n        const img = new Image();\r\n        const res = new Promise<Texture>(res => {\r\n            img.onload = () => {\r\n                texture.image = img;\r\n                res(texture);\r\n            };\r\n        });\r\n        img.src = src;\r\n        \r\n        return res;\r\n    }\r\n\r\n    public createSphere() {\r\n        if (!this.sphereShader) {\r\n            this.sphereShader = this.createSphereShader();\r\n        }\r\n\r\n        const N = 50000;\r\n\r\n        const inc = Math.PI * (3 - Math.sqrt(5))\r\n        const off = 2 / N\r\n\r\n        const vertexList = [];\r\n\r\n        for (let i = 0; i < N; i++) {\r\n            const y = i * off - 1 + (off / 2);\r\n            const r2 = 1 - y * y;\r\n\r\n            const r = Math.sqrt(r2);\r\n            const phi = i * inc;\r\n\r\n            const z = Math.sin(phi) * r;\r\n\r\n            if (z < 0) {\r\n                continue;\r\n            }\r\n\r\n            vertexList.push(\r\n                Math.cos(phi) * r,\r\n                y,\r\n                Math.sin(phi) * r\r\n            );\r\n        }\r\n\r\n        const vertexArray = new Float32Array(vertexList.length);\r\n        vertexList.forEach((val: number, index: number) => vertexArray[index] = val);\r\n\r\n        const geometry = new Geometry(this.gl, {\r\n            position: { size: 3, data: vertexArray },\r\n        });\r\n        const geometryMesh = new Mesh(this.gl, {\r\n            mode: this.gl.POINTS,\r\n            geometry,\r\n            program: this.sphereShader\r\n        });\r\n\r\n        return geometryMesh;\r\n    }\r\n}\r\n\r\nexport default App;","export const config = { \r\n    speed: 0.2,\r\n    noiseForce: 0.5,\r\n    noiseScale: 0.3,\r\n}\r\n\r\nexport default config;","import App from './App';\n\nconst app = new App();\napp.init();\n\nrequestAnimationFrame(update);\nfunction update(t: number){\n    requestAnimationFrame(update);\n    app.update(t);\n}","attribute vec3 position;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nvarying vec3 pos3;\nuniform float uTime;\n\nuniform float speed; // 0.3\nuniform float noiseForce; // 0.5\nuniform float noiseScale; // 0.3\n\n\nuniform sampler2D nTex;\nuniform sampler2D nTex2;\n\n\nvoid main() {\n    pos3 = position;\n\n    vec2 uvNoise = pos3.xy * noiseScale;\n    uvNoise.x += uTime * speed;\n    pos3.z += texture2D(nTex, mod(uvNoise,1.0)).r * noiseForce;\n\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(pos3, 1.0);\n    gl_PointSize = 3.0;\n}","precision highp float;\nuniform float uTime;\nvarying vec3 pos3;\n\nvoid main() {\n    gl_FragColor.rgb = vec3(0.98,0.965,0.941);\n    gl_FragColor.a = 1.0;\n}"],"names":["$18c11f3350a906ea$export$6503ec6e8aabbaf","$18c11f3350a906ea$export$f7ad0328861e2f03","$18c11f3350a906ea$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$a11720482cd5d068$export$2060d2db72cce88f","out","a","b","a00","a01","a02","a03","a10","a11","a12","a13","a20","a21","a22","a23","a30","a31","a32","a33","b0","b1","b2","b3","$a11720482cd5d068$export$71dc54d92bd04b57","mat","m11","m12","m13","m21","m22","m23","m31","m32","m33","Math","hypot","$a11720482cd5d068$export$df3937d3b537df0a","temp","scaling","is1","is2","is3","sm11","sm12","sm13","sm21","sm22","sm23","sm31","sm32","sm33","trace","S","sqrt","$8291583d87739520$export$21c0e3d5e995d7e1","Array","constructor","m00","m01","m02","m03","m10","m20","m30","super","this","x","y","z","w","v","set","copy","$a11720482cd5d068$export$adaa4cf7ef1b65be","translate","m","$a11720482cd5d068$export$d73ee8ef04f5226a","rotate","axis","rad","s","c","t","b00","b01","b02","b10","b11","b12","b20","b21","b22","len","abs","sin","cos","$a11720482cd5d068$export$bb628a54ab399bc9","scale","$a11720482cd5d068$export$dcdf75081b88279d","multiply","ma","mb","identity","fromPerspective","fov","aspect","near","far","fovy","f","tan","nf","$a11720482cd5d068$export$541149539f3a4684","fromOrthogonal","left","right","bottom","top","lr","bt","$a11720482cd5d068$export$4f2167e613cfc87b","fromQuaternion","q","x2","y2","z2","xx","yx","yy","zx","zy","zz","wx","wy","wz","$a11720482cd5d068$export$2ff2bbe382249af7","setPosition","inverse","b03","b04","b05","b06","b07","b08","b09","det","$a11720482cd5d068$export$6897c284b6f9f4dc","compose","pos","xy","xz","yz","sx","sy","sz","$a11720482cd5d068$export$ddf9c55c9f2be172","getRotation","getTranslation","getScaling","getMaxScaleOnAxis","max","$a11720482cd5d068$export$6276f53cd18ff805","lookAt","eye","target","up","eyex","eyey","eyez","upx","upy","upz","z0","z1","x0","x1","$a11720482cd5d068$export$aa67782f4dc9e52c","determinant","$a11720482cd5d068$export$a04698f914c55ed9","fromArray","o","toArray","$afbbf97e2fddd51b$export$f24224f1c91d8156","$afbbf97e2fddd51b$export$784d13d8ee351f07","$afbbf97e2fddd51b$export$e16d8520af44a096","$afbbf97e2fddd51b$export$4e2d2ead65e5f7e3","$afbbf97e2fddd51b$export$dcdf75081b88279d","$afbbf97e2fddd51b$export$ab44e1323ffc8376","$afbbf97e2fddd51b$export$a3295358bff77e","$afbbf97e2fddd51b$export$94132a0e348806d4","$afbbf97e2fddd51b$export$bb646b20bb93d339","ax","ay","az","bx","by","bz","$afbbf97e2fddd51b$export$944b09d2ad10b378","tempA","tempB","cosine","PI","acos","$e8fa21b087737aa2$export$a18e4df5400e23f6","node","draw","$1c8ffda627740a27$export$838423f3adec30fa","$afbbf97e2fddd51b$export$adaa4cf7ef1b65be","add","va","vb","sub","divide","distance","$afbbf97e2fddd51b$export$9f17032d917177de","squaredLen","squaredDistance","$afbbf97e2fddd51b$export$88e6ebb4fe54f538","negate","cross","normalize","dot","equals","applyMatrix4","mat4","$afbbf97e2fddd51b$export$5ffbd13800309d59","scaleRotateMatrix4","$afbbf97e2fddd51b$export$58ce737ad0c12bc2","applyQuaternion","qx","qy","qz","uvx","uvy","uvz","uuvx","uuvy","uuvz","w2","$afbbf97e2fddd51b$export$c32adef9e939ce85","angle","lerp","$afbbf97e2fddd51b$export$3a89f8d6f6bf6c9f","clone","transformDirection","$b0f74cf56705c3fc$export$2060d2db72cce88f","aw","bw","$b0f74cf56705c3fc$export$784d13d8ee351f07","$b0f74cf56705c3fc$export$adaa4cf7ef1b65be","$b0f74cf56705c3fc$export$94132a0e348806d4","$b0f74cf56705c3fc$export$a3295358bff77e","$ba8448d6211cb6b2$export$5edfe12bb88684c8","onChange","rotateX","$b0f74cf56705c3fc$export$a59c8716592e09af","rotateY","$b0f74cf56705c3fc$export$cf71e4d4ca4d1cfd","rotateZ","$b0f74cf56705c3fc$export$ea6eae3365de5b9c","a0","a1","a2","a3","invDot","$b0f74cf56705c3fc$export$6897c284b6f9f4dc","conjugate","qA","qB","fromMatrix3","matrix3","fRoot","fTrace","j","k","$b0f74cf56705c3fc$export$272a1eb8e5a4b55b","fromEuler","euler","order","cx","cy","cz","$b0f74cf56705c3fc$export$7a404a587ea85af","fromAxisAngle","$b0f74cf56705c3fc$export$4286ddefc8f49512","slerp","omega","cosom","sinom","scale0","scale1","$b0f74cf56705c3fc$export$1544d9bc2995de08","$2b599cd98115798e$var$tmpMat4","$2b599cd98115798e$export$d93cc409a0768c5f","reorder","fromRotationMatrix","asin","min","atan2","$91a8dc2d4ae6764b$export$48889b85f55f068c","$5e0c2da1bd5ef070$export$563a914cafbdc389","parent","children","visible","matrix","worldMatrix","matrixAutoUpdate","position","quaternion","rotation","setParent","notifyParent","removeChild","addChild","child","notifyChild","indexOf","push","splice","updateMatrixWorld","force","updateMatrix","worldMatrixNeedsUpdate","l","traverse","callback","decompose","invert","$c67e4d34026bd0c4$var$tempMat4","$c67e4d34026bd0c4$var$tempVec3a","$c67e4d34026bd0c4$var$tempVec3b","$c67e4d34026bd0c4$export$79f141de891a5fed","gl","zoom","assign","projectionMatrix","viewMatrix","projectionViewMatrix","worldPosition","type","orthographic","perspective","project","unproject","updateFrustum","frustum","constant","invLen","frustumIntersectsMesh","geometry","attributes","bounds","radius","Infinity","computeBoundingSphere","center","frustumIntersectsSphere","normal","plane","$11670b8801033933$var$tempVec3","$11670b8801033933$var$ID","$11670b8801033933$var$ATTR_ID","$11670b8801033933$var$isBoundsWarned","$11670b8801033933$export$2db6c17465f94a2","raycast","canvas","console","error","VAOs","drawRange","start","count","instancedCount","renderer","bindVertexArray","currentGeometry","glState","state","key","addAttribute","attr","size","data","Float32Array","FLOAT","Uint16Array","UNSIGNED_SHORT","UNSIGNED_INT","ELEMENT_ARRAY_BUFFER","ARRAY_BUFFER","normalized","stride","offset","byteLength","divisor","instanced","needsUpdate","buffer","createBuffer","updateAttribute","isInstanced","warn","index","boundBuffer","bindBuffer","bufferData","STATIC_DRAW","setIndex","value","setDrawRange","setInstancedCount","createVAO","program","attributeOrder","createVertexArray","bindAttributes","attributeLocations","forEach","location","name","numLoc","vertexAttribPointer","enableVertexAttribArray","vertexAttribDivisor","mode","TRIANGLES","drawElementsInstanced","drawArraysInstanced","drawElements","drawArrays","getPosition","computeBoundingBox","array","maxRadiusSq","computeVertexNormals","positionAttribute","normalAttribute","fill","pA","pB","pC","nA","nB","nC","cb","ab","indexAttribute","iA","iB","iC","il","normalizeNormals","normals","remove","deleteBuffer","$24e2fd5d40500cae$export$2060d2db72cce88f","$d232c6b4dc9a8ecf$export$83f4edd572c84121","$24e2fd5d40500cae$export$adaa4cf7ef1b65be","$24e2fd5d40500cae$export$d73ee8ef04f5226a","$24e2fd5d40500cae$export$bb628a54ab399bc9","$24e2fd5d40500cae$export$dcdf75081b88279d","fromMatrix4","$24e2fd5d40500cae$export$2ff2bbe382249af7","fromBasis","vec3a","vec3b","vec3c","$24e2fd5d40500cae$export$6897c284b6f9f4dc","getNormalMatrix","$24e2fd5d40500cae$export$966b25ab6dc1b1f9","$c6d01c6f7c49e6b4$var$ID","$c6d01c6f7c49e6b4$export$e176487c05830cc5","frustumCulled","renderOrder","hit","modelViewMatrix","normalMatrix","beforeRenderCallbacks","afterRenderCallbacks","onBeforeRender","onAfterRender","camera","mesh","uniforms","modelMatrix","cameraPosition","flipFaces","cullFace","use","$cf298348795856e2$export$e16d8520af44a096","$cf298348795856e2$export$4e2d2ead65e5f7e3","$cf298348795856e2$export$dcdf75081b88279d","$cf298348795856e2$export$f24224f1c91d8156","$cf298348795856e2$export$bb646b20bb93d339","$644493e685c1926f$export$ac4bca90992eed1","$cf298348795856e2$export$adaa4cf7ef1b65be","$cf298348795856e2$export$ab44e1323ffc8376","applyMatrix3","mat3","$cf298348795856e2$export$5ffbd13800309d59","$cf298348795856e2$export$3a89f8d6f6bf6c9f","$4eb4af5075e9af6c$var$STATE","$4eb4af5075e9af6c$var$tempVec3","$4eb4af5075e9af6c$var$tempVec2a","$4eb4af5075e9af6c$var$tempVec2b","$4eb4af5075e9af6c$export$439358b35042ae9f","object","element","document","body","enabled","ease","inertia","enableRotate","rotateSpeed","autoRotate","autoRotateSpeed","enableZoom","zoomSpeed","enablePan","panSpeed","minPolarAngle","maxPolarAngle","minAzimuthAngle","maxAzimuthAngle","minDistance","maxDistance","sphericalDelta","phi","theta","sphericalTarget","spherical","panDelta","update","handleAutoRotate","sinPhiRadius","forcePosition","rotateStart","panStart","dollyStart","getZoomScale","pow","mouseButtons","ORBIT","ZOOM","PAN","pan","deltaX","deltaY","targetDistance","clientHeight","panUp","dolly","dollyScale","handleMoveRotate","handleMovePan","onMouseDown","e","button","clientX","clientY","window","addEventListener","onMouseMove","onMouseUp","handleMouseMoveDolly","removeEventListener","onMouseWheel","stopPropagation","preventDefault","onTouchStart","touches","pageX","pageY","dx","dy","handleTouchStartDollyPan","onTouchMove","handleTouchMoveDollyPan","onTouchEnd","onContextMenu","passive","$4fe1ee2d850c82f5$var$ID","$4fe1ee2d850c82f5$var$arrayCacheF32","$4fe1ee2d850c82f5$export$b6c59b989905b650","vertex","fragment","transparent","BACK","frontFace","CCW","depthTest","depthWrite","depthFunc","LESS","blendFunc","blendEquation","src","premultipliedAlpha","setBlendFunc","ONE","ONE_MINUS_SRC_ALPHA","SRC_ALPHA","vertexShader","createShader","VERTEX_SHADER","shaderSource","compileShader","getShaderInfoLog","$4fe1ee2d850c82f5$var$addLineNumbers","fragmentShader","FRAGMENT_SHADER","createProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","deleteShader","uniformLocations","Map","numUniforms","ACTIVE_UNIFORMS","uIndex","uniform","getActiveUniform","getUniformLocation","split","match","uniformName","isStructArray","structIndex","Number","structProperty","isNaN","isStruct","locations","numAttribs","ACTIVE_ATTRIBUTES","aIndex","attribute","getActiveAttrib","getAttribLocation","join","dst","srcAlpha","dstAlpha","setBlendEquation","modeRGB","modeAlpha","applyState","enable","DEPTH_TEST","disable","CULL_FACE","BLEND","setCullFace","setFrontFace","setDepthMask","setDepthFunc","textureUnit","currentProgram","useProgram","activeUniform","$4fe1ee2d850c82f5$var$warn","undefined","texture","$4fe1ee2d850c82f5$var$setUniform","textureUnits","CW","deleteProgram","arrayLen","valueLen","$4fe1ee2d850c82f5$var$flatten","setValue","get","slice","$4fe1ee2d850c82f5$var$arraysEqual","$4fe1ee2d850c82f5$var$setArray","uniform1fv","uniform1f","uniform2fv","uniform3fv","uniform4fv","uniform1iv","uniform1i","uniform2iv","uniform3iv","uniform4iv","uniformMatrix2fv","uniformMatrix3fv","uniformMatrix4fv","string","lines","$4fe1ee2d850c82f5$var$warnCount","message","$4bd4e43460ce2b0a$var$tempVec3","$4bd4e43460ce2b0a$var$ID","$4bd4e43460ce2b0a$export$88530751e3977073","createElement","width","height","dpr","alpha","depth","stencil","antialias","preserveDrawingBuffer","powerPreference","autoClear","webgl","color","_id","getContext","isWebgl2","setSize","ZERO","FUNC_ADD","depthMask","premultiplyAlpha","flipY","unpackAlignment","framebuffer","viewport","activeTextureUnit","extensions","getExtension","deleteVertexArray","drawBuffers","parameters","maxTextureUnits","getParameter","MAX_COMBINED_TEXTURE_IMAGE_UNITS","maxAnisotropy","MAX_TEXTURE_MAX_ANISOTROPY_EXT","style","setViewport","blendFuncSeparate","blendEquationSeparate","activeTexture","TEXTURE0","bindFramebuffer","FRAMEBUFFER","extension","webgl2Func","extFunc","bind","sortOpaque","zDepth","sortTransparent","sortUI","getRenderList","scene","frustumCull","sort","renderList","opaque","ui","concat","render","clear","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","STENCIL_BUFFER_BIT","$4c10ee684c34cd30$var$emptyPixel","Uint8Array","$4c10ee684c34cd30$var$isPowerOf2","$4c10ee684c34cd30$var$ID","$4c10ee684c34cd30$export$5431306cf43de24a","image","TEXTURE_2D","UNSIGNED_BYTE","format","RGBA","internalFormat","wrapS","CLAMP_TO_EDGE","wrapT","generateMipmaps","minFilter","NEAREST_MIPMAP_LINEAR","LINEAR","magFilter","anisotropy","level","createTexture","store","REPEAT","bindTexture","pixelStorei","UNPACK_FLIP_Y_WEBGL","UNPACK_PREMULTIPLY_ALPHA_WEBGL","UNPACK_ALIGNMENT","texParameteri","TEXTURE_MIN_FILTER","TEXTURE_MAG_FILTER","TEXTURE_WRAP_S","TEXTURE_WRAP_T","texParameterf","TEXTURE_MAX_ANISOTROPY_EXT","TEXTURE_CUBE_MAP","texImage2D","TEXTURE_CUBE_MAP_POSITIVE_X","ArrayBuffer","isView","isCompressedTexture","compressedTexImage2D","generateMipmap","onUpdate","$c398a0ea03e027b6$var$isEmpty","$c398a0ea03e027b6$var$isObject$1","$c398a0ea03e027b6$var$isRecord","$c398a0ea03e027b6$var$deepEqualsArray","$c398a0ea03e027b6$var$deepMerge","r1","r2","from","Set","reduce","result","v1","v2","$c398a0ea03e027b6$var$isBinding","$116cdd84a9478b9c$exports","URL","resolve","import","meta","url","toString","$c398a0ea03e027b6$var$CREATE_MESSAGE_MAP","alreadydisposed","invalidparams","context","nomatchingcontroller","nomatchingview","stringify","params","notbindable","notcompatible","propertynotfound","shouldneverhappen","$c398a0ea03e027b6$var$TpError","static","bundleId","config","_a","stack","$c398a0ea03e027b6$var$BindingTarget","obj","obj_","read","write","writeProperty","valueObj","isBindable","notBindable","propertyNotFound","$c398a0ea03e027b6$var$Emitter","observers_","on","eventName","handler","opt_options","observers","off","filter","observer","emit","event","$c398a0ea03e027b6$var$ComplexValue","initialValue","constraint_","constraint","equals_","emitter","rawValue_","rawValue","setRawValue","forceEmit","last","options","opts","constrainedValue","constrain","prevValue","sender","previousRawValue","$c398a0ea03e027b6$var$PrimitiveValue","value_","$c398a0ea03e027b6$var$ReadonlyPrimitiveValue","onValueBeforeChange_","onValueChange_","ev","$c398a0ea03e027b6$var$createValue","$c398a0ea03e027b6$var$ValueMap","valueMap","valMap_","core","createCore","$c398a0ea03e027b6$var$DefiniteRangeConstraint","values","fromObject","$c398a0ea03e027b6$var$RangeConstraint","$c398a0ea03e027b6$var$StepConstraint","step","origin","round","$c398a0ea03e027b6$var$NumberLiteralNode","text","evaluate","$c398a0ea03e027b6$var$BINARY_OPERATION_MAP","$c398a0ea03e027b6$var$BinaryOperationNode","operator","op","$c398a0ea03e027b6$var$UNARY_OPERATION_MAP","$c398a0ea03e027b6$var$UnaryOperationNode","expr","expression","$c398a0ea03e027b6$var$combineReader","parsers","cursor","$c398a0ea03e027b6$var$readWhitespace","substr","$c398a0ea03e027b6$var$readDecimalDigits","$c398a0ea03e027b6$var$readExponentPart","toLowerCase","si","ds","sign","sds","$c398a0ea03e027b6$var$readSignedInteger","$c398a0ea03e027b6$var$readDecimalIntegerLiteral","ch","nzd","$c398a0ea03e027b6$var$readNonZeroDigit","$c398a0ea03e027b6$var$readDecimalLiteral","dil","dds","$c398a0ea03e027b6$var$readNonDecimalIntegerLiteral","prefix","bds","$c398a0ea03e027b6$var$parseBinaryDigits","ods","$c398a0ea03e027b6$var$readOctalDigits","hds","$c398a0ea03e027b6$var$readHexDigits","$c398a0ea03e027b6$var$readNumericLiteral","$c398a0ea03e027b6$var$parsePrimaryExpression","num","evaluable","$c398a0ea03e027b6$var$parseLiteral","$c398a0ea03e027b6$var$parseExpression","cl","$c398a0ea03e027b6$var$parseParenthesizedExpression","$c398a0ea03e027b6$var$readBinaryOperator","ops","startsWith","$c398a0ea03e027b6$var$parseBinaryOperationExpression","parser","exprParser","firstExpr","nextExpr","$c398a0ea03e027b6$var$createBinaryOperationExpressionParser","$c398a0ea03e027b6$var$parseUnaryExpression","$c398a0ea03e027b6$var$parseNumber","r","$c398a0ea03e027b6$var$parseEcmaNumberExpression","$c398a0ea03e027b6$var$numberFromUnknown","pv","$c398a0ea03e027b6$var$numberToString","String","$c398a0ea03e027b6$var$createNumberFormatter","digits","toFixed","$c398a0ea03e027b6$var$mapRange","start1","end1","start2","end2","$c398a0ea03e027b6$var$getDecimalDigits","replace","$c398a0ea03e027b6$var$constrainRange","$c398a0ea03e027b6$var$loopRange","$c398a0ea03e027b6$var$getSuitableDecimalDigits","$c398a0ea03e027b6$var$getSuitableKeyScale","$c398a0ea03e027b6$var$getSuitablePointerScale","base","floor","log10","$c398a0ea03e027b6$var$createStepConstraint","$c398a0ea03e027b6$var$createRangeConstraint","$c398a0ea03e027b6$var$createNumberTextPropsObject","_b","_c","formatter","keyScale","pointerScale","$c398a0ea03e027b6$var$createNumberTextInputParamsParser","p","optional","function","number","$c398a0ea03e027b6$var$createPointAxis","textProps","$c398a0ea03e027b6$export$248680fe6a940b95","controller","view","disabled","viewProps","hidden","dispose","importState","exportState","$c398a0ea03e027b6$var$TpEvent","$c398a0ea03e027b6$export$684748b171755c8d","$c398a0ea03e027b6$var$TpFoldEvent","expanded","$c398a0ea03e027b6$var$TpTabSelectEvent","$c398a0ea03e027b6$var$TpMouseEvent","nativeEvent","native","$c398a0ea03e027b6$var$BindingApi","emitter_","label","labelController","props","binding","tag","bh","refresh","fetch","$c398a0ea03e027b6$var$InputBindingValue","$c398a0ea03e027b6$var$createMicroParserBuilder","succeeded","$c398a0ea03e027b6$var$createMicroParserBuilders","custom","boolean","raw","keyToParserMap","tmp","$c398a0ea03e027b6$var$parseObject","itemParser","parseItem","isArray","item","$c398a0ea03e027b6$var$MicroParsers","required","$c398a0ea03e027b6$var$parseRecord","map","$c398a0ea03e027b6$var$importBladeState","superImport","$c398a0ea03e027b6$var$exportBladeState","superExport","thisState","$c398a0ea03e027b6$var$isValueBladeController","bc","$c398a0ea03e027b6$var$isBindingValue","$c398a0ea03e027b6$var$SVG_NS","$c398a0ea03e027b6$var$forceReflow","offsetHeight","$c398a0ea03e027b6$var$supportsTouch","doc","ontouchstart","$c398a0ea03e027b6$var$getWindowDocument","globalThis","$c398a0ea03e027b6$var$ICON_ID_TO_INNER_HTML_MAP","check","dropdown","p2dpad","$c398a0ea03e027b6$var$createSvgIconElement","iconId","elem","createElementNS","innerHTML","$c398a0ea03e027b6$var$insertElementAt","parentElement","insertBefore","$c398a0ea03e027b6$var$removeElement","$c398a0ea03e027b6$var$removeChildElements","$c398a0ea03e027b6$var$findNextTarget","relatedTarget","explicitOriginalTarget","$c398a0ea03e027b6$var$bindValue","applyValue","$c398a0ea03e027b6$var$bindValueMap","$c398a0ea03e027b6$var$PREFIX","$c398a0ea03e027b6$var$ClassName","viewName","opt_elementName","opt_modifier","$c398a0ea03e027b6$var$cn$r","$c398a0ea03e027b6$var$LabelView","classList","bindClassModifiers","labelElem","childNodes","$c398a0ea03e027b6$var$removeChildNodes","appendChild","frag","createDocumentFragment","line","createTextNode","lineNode","$c398a0ea03e027b6$var$createLabelNode","labelElement","valueElem","valueElement","$c398a0ea03e027b6$var$LabelController","valueController","importProps","exportProps","$c398a0ea03e027b6$var$cn$q","$c398a0ea03e027b6$var$POS_TO_CLASS_NAME_MAP","veryfirst","first","verylast","$c398a0ea03e027b6$var$BladeController","parent_","blade","handleDispose","$c398a0ea03e027b6$var$LabeledValueBladeController","shouldNeverHappen","lc","call","$c398a0ea03e027b6$var$excludeValue","$c398a0ea03e027b6$var$BindingController","_s","$c398a0ea03e027b6$var$InputBindingController","inject","$c398a0ea03e027b6$var$isInputBindingController","$c398a0ea03e027b6$var$isInputBindingValue","$c398a0ea03e027b6$var$fillBuffer","bufferSize","$c398a0ea03e027b6$var$createTrimmedBuffer","$c398a0ea03e027b6$var$MonitorBindingValue","onTick_","$c398a0ea03e027b6$var$initializeBuffer","ticker","newValue","newBuffer","$c398a0ea03e027b6$var$createPushedBuffer","$c398a0ea03e027b6$var$MonitorBindingController","readonly","$c398a0ea03e027b6$var$isMonitorBindingController","$c398a0ea03e027b6$var$isMonitorBindingValue","$c398a0ea03e027b6$export$ab4d760fe715e733","title","buttonController","$c398a0ea03e027b6$var$valueToClassName","className","active","$c398a0ea03e027b6$var$applyClass","$c398a0ea03e027b6$var$bindValueToTextContent","textContent","$c398a0ea03e027b6$var$cn$p","$c398a0ea03e027b6$var$ButtonView","buttonElem","bindDisabled","buttonElement","titleElem","$c398a0ea03e027b6$var$ButtonController","onClick_","$c398a0ea03e027b6$var$ButtonBladeController","buttonProps","labelProps","$c398a0ea03e027b6$export$10303f3d0f41e8b2","prerelease","coreComps","major","parseInt","minor","patch","$c398a0ea03e027b6$var$VERSION$1","$c398a0ea03e027b6$var$createPlugin","plugin","$c398a0ea03e027b6$var$ButtonBladePlugin","accept","args","api","$c398a0ea03e027b6$var$RackApi","pool","onRackValueChange_","controller_","pool_","rack","createApi","addBinding","opt_params","ownerDocument","createBinding","$c398a0ea03e027b6$var$createBindingTarget","createBindingApi","addFolder","addBlade","$c398a0ea03e027b6$var$addFolderAsBlade","addButton","$c398a0ea03e027b6$var$addButtonAsBlade","addTab","$c398a0ea03e027b6$var$addTabAsBlade","opt_index","createBlade","bladeController","$c398a0ea03e027b6$var$ContainerBladeApi","rackApi_","rackController","$c398a0ea03e027b6$var$ContainerBladeController","every","$c398a0ea03e027b6$var$isContainerBladeController","$c398a0ea03e027b6$var$NestedOrderedSet","extract","items_","cache_","onSubListAdd_","onSubListRemove_","extract_","items","allItems","find","includes","has","subList","root","delete","$c398a0ea03e027b6$var$findSubBladeControllerSet","$c398a0ea03e027b6$var$Rack","onBladePositionsChange_","onSetAdd_","onSetRemove_","onChildDispose_","onChildPositionsChange_","onChildValueChange_","onChildViewPropsChange_","onRackLayout_","blade_","bcSet_","finder","updatePositions_","visibleItems","firstVisibleItem","lastVisibleItem","ps","_ev","bcs","$c398a0ea03e027b6$var$findValueBladeController","alreadyDisposed","_","$c398a0ea03e027b6$var$RackController","onRackAdd_","onRackRemove_","$c398a0ea03e027b6$var$createBlade","positions","$c398a0ea03e027b6$var$Foldable","coreObj","completed","expandedHeight","shouldFixHeight","temporaryExpanded","styleExpanded","styleHeight","exHeight","bindExpandedClass","expandedClassName","onExpand","cleanUpTransition","$c398a0ea03e027b6$var$applyHeight","foldable","$c398a0ea03e027b6$var$bindFoldable","h","folder","containerElement","transition","$c398a0ea03e027b6$var$disableTransitionTemporarily","$c398a0ea03e027b6$var$computeExpandedFolderHeight","propertyName","$c398a0ea03e027b6$export$c37d4c4ec53b1dee","$c398a0ea03e027b6$var$bladeContainerClassName","$c398a0ea03e027b6$var$FolderView","className_","foldable_","indentElem","titleElement","markElem","containerElem","$c398a0ea03e027b6$var$FolderController","create","onTitleClick_","$c398a0ea03e027b6$var$FolderBladePlugin","$c398a0ea03e027b6$var$cn$o","$c398a0ea03e027b6$var$valueToModifier","modifier","$c398a0ea03e027b6$var$ViewProps","onDisabledChange_","onParentChange_","onParentGlobalDisabledChange_","globalDisabled_","setGlobalDisabled_","getGlobalDisabled_","globalDisabled","opt_initialValue","disposed","bindTabIndex","tabIndex","updateGlobalDisabled_","prevParent","$c398a0ea03e027b6$var$cn$n","$c398a0ea03e027b6$var$TabPageView","$c398a0ea03e027b6$var$cn$m","$c398a0ea03e027b6$var$TabItemView","selected","$c398a0ea03e027b6$var$TabItemController","$c398a0ea03e027b6$var$TabPageController","onItemClick_","ic_","itemProps","itemController","$c398a0ea03e027b6$export$34b4d752825097c","onSelect_","tab","selectedIndex","pages","addPage","pc","papi","removePage","$c398a0ea03e027b6$export$cf85417e6b917352","$c398a0ea03e027b6$var$Tab","onItemSelectedChange_","empty","keepSelection_","firstSelIndex","findIndex","$c398a0ea03e027b6$var$cn$l","$c398a0ea03e027b6$var$TabView","itemsElement","contentsElem","contentsElement","$c398a0ea03e027b6$var$TabController","$c398a0ea03e027b6$var$TabBladePlugin","$c398a0ea03e027b6$export$fa8cb86ba0150173","$c398a0ea03e027b6$var$ManualTicker","tick","$c398a0ea03e027b6$var$IntervalTicker","interval","disabled_","timerId_","doc_","interval_","setTimer_","inactive","clearTimer_","win","defaultView","clearInterval","setInterval","$c398a0ea03e027b6$var$CompositeConstraint","constraints","$c398a0ea03e027b6$var$findConstraint","constraintClass","tmpResult","sc","$c398a0ea03e027b6$var$ListConstraint","$c398a0ea03e027b6$var$parseListOptions","$c398a0ea03e027b6$var$normalizeListOptions","$c398a0ea03e027b6$var$createListConstraint","$c398a0ea03e027b6$var$cn$k","$c398a0ea03e027b6$var$ListView","props_","selectElem","selectElement","optionElem","update_","$c398a0ea03e027b6$var$ListController","onSelectChange_","currentTarget","$c398a0ea03e027b6$var$cn$j","$c398a0ea03e027b6$var$PopupView","shows","$c398a0ea03e027b6$var$PopupController","$c398a0ea03e027b6$var$cn$i","$c398a0ea03e027b6$var$TextView","onChange_","inputElem","inputElement","$c398a0ea03e027b6$var$TextController","onInputChange_","parser_","parsedValue","$c398a0ea03e027b6$var$boolFromUnknown","$c398a0ea03e027b6$var$BooleanFormatter","$c398a0ea03e027b6$var$boolToString","$c398a0ea03e027b6$var$innerFormatter","$c398a0ea03e027b6$var$formatPercentage","$c398a0ea03e027b6$var$stringFromUnknown","$c398a0ea03e027b6$var$formatString","$c398a0ea03e027b6$var$connectValues","primary","secondary","forward","backward","changing","preventFeedback","$c398a0ea03e027b6$var$getStepForKey","altKey","shiftKey","upKey","downKey","$c398a0ea03e027b6$var$getVerticalStepKeys","$c398a0ea03e027b6$var$getHorizontalStepKeys","$c398a0ea03e027b6$var$isArrowKey","$c398a0ea03e027b6$var$isVerticalArrowKey","$c398a0ea03e027b6$var$computeOffset$1","rect","getBoundingClientRect","scrollX","scrollY","$c398a0ea03e027b6$var$PointerHandler","lastTouch_","onDocumentMouseMove_","onDocumentMouseUp_","onMouseDown_","onTouchEnd_","onTouchMove_","onTouchStart_","elem_","computePosition_","point","focus","touch","targetTouches","$c398a0ea03e027b6$var$cn$h","$c398a0ea03e027b6$var$NumberTextView","arrayPosition","onDraggingChange_","dragging_","dragging","knobElem","knobElement","guideElem","bodyElem","guideBodyElem_","headElem","guideHeadElem_","tooltipElem","tooltipElem_","aox","adx","setAttributeNS","$c398a0ea03e027b6$var$NumberTextController","originRawValue_","onInputKeyDown_","onInputKeyUp_","onPointerDown_","onPointerMove_","onPointerUp_","sliderProps_","sliderProps","ph","constrainValue_","computeDraggingValue_","$c398a0ea03e027b6$var$cn$g","$c398a0ea03e027b6$var$SliderView","trackElem","trackElement","$c398a0ea03e027b6$var$SliderController","onKeyDown_","onKeyUp_","onPointerDownOrMove_","ptHandler_","handlePointerEvent_","d","$c398a0ea03e027b6$var$cn$f","$c398a0ea03e027b6$var$SliderTextView","sliderElem","sliderView_","sliderView","textElem","textView_","textView","$c398a0ea03e027b6$var$SliderTextController","sliderC_","textC_","sliderController","textController","$c398a0ea03e027b6$var$createSliderTextProps","$c398a0ea03e027b6$var$CSS_VAR_MAP","containerUnitSize","$c398a0ea03e027b6$var$getCssVar","$c398a0ea03e027b6$var$createPointDimensionParser","$c398a0ea03e027b6$var$parsePointDimensionParams","$c398a0ea03e027b6$var$createDimensionConstraint","cs","rs","$c398a0ea03e027b6$var$parsePickerLayout","$c398a0ea03e027b6$var$writePrimitive","$c398a0ea03e027b6$var$cn$e","$c398a0ea03e027b6$var$CheckboxView","wrapperElem","checked","$c398a0ea03e027b6$var$CheckboxController","onLabelMouseDown_","$c398a0ea03e027b6$var$BooleanInputPlugin","reader","_args","$c398a0ea03e027b6$var$createConstraint$6","writer","$c398a0ea03e027b6$var$cn$d","$c398a0ea03e027b6$var$ColorView","swatchElem","swatchElement","textElement","pickerLayout","pickerElem","pickerElement","$c398a0ea03e027b6$var$hsvToRgbInt","hp","sp","vp","rp","gp","bp","$c398a0ea03e027b6$var$removeAlphaComponent","comps","$c398a0ea03e027b6$var$appendAlphaComponent","$c398a0ea03e027b6$var$MODE_CONVERTER_MAP","hsl","hsv","sd","rgb","lp","g","cmax","cmin","$c398a0ea03e027b6$var$getColorMaxComponents","$c398a0ea03e027b6$var$constrainColorComponents","components","ms","hue","$c398a0ea03e027b6$var$convertColorType","to","fms","tms","$c398a0ea03e027b6$var$convertColor","intComps","$c398a0ea03e027b6$var$IntColor","comps_","getComponents","opt_mode","toRgbaObject","rgbComps","$c398a0ea03e027b6$var$cn$c","$c398a0ea03e027b6$var$ColorPickerView","alphaViews_","hsvElem","svElem","svPaletteView_","svPaletteView","hElem","hPaletteView_","hPaletteView","rgbElem","textsView_","textsView","alphaViews","palette","aElem","apElem","atElem","allFocusableElements","elems","modeSelectElement","inputViews","$c398a0ea03e027b6$var$parseColorType","$c398a0ea03e027b6$var$parseColorInputParams","picker","$c398a0ea03e027b6$var$getKeyScaleForColor","forAlpha","$c398a0ea03e027b6$var$extractColorType","$c398a0ea03e027b6$var$FloatColor","$c398a0ea03e027b6$var$TYPE_TO_CONSTRUCTOR_MAP","int","float","$c398a0ea03e027b6$var$createColor","$c398a0ea03e027b6$var$mapColorType","$c398a0ea03e027b6$var$isIntColor","ci","$c398a0ea03e027b6$var$convertIntToFloat","$c398a0ea03e027b6$var$isFloatColor","cf","$c398a0ea03e027b6$var$convertFloatToInt","$c398a0ea03e027b6$var$parseCssNumberOrPercentage","parseFloat","$c398a0ea03e027b6$var$ANGLE_TO_DEG_MAP","deg","grad","turn","$c398a0ea03e027b6$var$parseCssNumberOrAngle","unit","$c398a0ea03e027b6$var$parseFunctionalRgbColorComponents","$c398a0ea03e027b6$var$parseFunctionalRgbColor","$c398a0ea03e027b6$var$parseFunctionalRgbaColorComponents","$c398a0ea03e027b6$var$parseFunctionalRgbaColor","$c398a0ea03e027b6$var$parseFunctionalHslColorComponents","$c398a0ea03e027b6$var$parseFunctionalHslColor","$c398a0ea03e027b6$var$parseHslaColorComponents","$c398a0ea03e027b6$var$parseFunctionalHslaColor","$c398a0ea03e027b6$var$parseHexRgbColorComponents","mRgb","mRrggbb","$c398a0ea03e027b6$var$parseHexRgbColor","$c398a0ea03e027b6$var$parseHexRgbaColorComponents","$c398a0ea03e027b6$var$parseHexRgbaColor","$c398a0ea03e027b6$var$parseObjectRgbColorComponents","$c398a0ea03e027b6$var$createObjectRgbColorParser","$c398a0ea03e027b6$var$parseObjectRgbaColorComponents","$c398a0ea03e027b6$var$createObjectRgbaColorParser","$c398a0ea03e027b6$var$PARSER_AND_RESULT","notation","$c398a0ea03e027b6$var$detectStringColorFormat","prev","detection","$c398a0ea03e027b6$var$detectStringColor","$c398a0ea03e027b6$var$createColorStringParser","$c398a0ea03e027b6$var$composeParsers","$c398a0ea03e027b6$var$readIntColorString","black","$c398a0ea03e027b6$var$zerofill","comp","hex","$c398a0ea03e027b6$var$colorToHexRgbString","$c398a0ea03e027b6$var$colorToHexRgbaString","rgbaComps","$c398a0ea03e027b6$var$colorToFunctionalRgbString","$c398a0ea03e027b6$var$colorToFunctionalRgbaString","aFormatter","rgbFormatter","$c398a0ea03e027b6$var$colorToObjectRgbString","names","$c398a0ea03e027b6$var$createObjectRgbColorFormatter","$c398a0ea03e027b6$var$colorToObjectRgbaString","$c398a0ea03e027b6$var$createObjectRgbaColorFormatter","$c398a0ea03e027b6$var$FORMAT_AND_STRINGIFIERS","stringifier","formatters","$c398a0ea03e027b6$var$findColorStringifier","fas","f1","f2","$c398a0ea03e027b6$var$cn$b","$c398a0ea03e027b6$var$APaletteView","barElem","colorElem","colorElem_","markerElem","markerElem_","previewElem","previewElem_","leftColor","rightColor","gradientComps","background","backgroundColor","$c398a0ea03e027b6$var$APaletteController","$c398a0ea03e027b6$var$cn$a","$c398a0ea03e027b6$var$ColorTextsView","modeElem","modeElem_","optElem","$c398a0ea03e027b6$var$createModeSelectElement","modeMarkerElem","inputsElem","inputsElem_","inputViews_","applyInputViews_","compElem","$c398a0ea03e027b6$var$createConstraint$5","$c398a0ea03e027b6$var$createComponentControllers","cc","colorMode","colorType","$c398a0ea03e027b6$var$createComponentController","pickedMode","$c398a0ea03e027b6$var$ColorTextsController","onModeSelectChange_","colorType_","ccs_","createComponentControllers_","$c398a0ea03e027b6$var$isColorMode","$c398a0ea03e027b6$var$createHexController","$c398a0ea03e027b6$var$cn$9","$c398a0ea03e027b6$var$HPaletteView","$c398a0ea03e027b6$var$HPaletteController","$c398a0ea03e027b6$var$cn$8","$c398a0ea03e027b6$var$SvPaletteView","canvasElem","canvasElement","ctx","willReadFrequently","$c398a0ea03e027b6$var$getCanvasContext","hsvComps","imgData","getImageData","iy","ix","putImageData","$c398a0ea03e027b6$var$SvPaletteController","saturation","dv","$c398a0ea03e027b6$var$ColorPickerController","hPaletteC_","svPaletteC_","alphaIcs_","supportsAlpha","textsC_","textsController","$c398a0ea03e027b6$var$cn$7","$c398a0ea03e027b6$var$ColorSwatchView","swatchElem_","$c398a0ea03e027b6$var$ColorSwatchController","$c398a0ea03e027b6$var$ColorController","onButtonBlur_","onButtonClick_","onPopupChildBlur_","onPopupChildKeydown_","swatchC_","popC_","pickerC","pickerC_","nextTarget","contains","$c398a0ea03e027b6$var$colorToRgbNumber","$c398a0ea03e027b6$var$colorToRgbaNumber","$c398a0ea03e027b6$var$colorFromRgbNumber","$c398a0ea03e027b6$var$colorFromRgbaNumber","$c398a0ea03e027b6$var$isRgbColorComponent","$c398a0ea03e027b6$var$isRgbColorObject","$c398a0ea03e027b6$var$isRgbaColorObject","$c398a0ea03e027b6$var$isColorObject","$c398a0ea03e027b6$var$equalsColor","comps1","comps2","$c398a0ea03e027b6$var$createColorComponentsFromRgbObject","$c398a0ea03e027b6$var$createColorObjectWriter","inValue","$c398a0ea03e027b6$var$writeRgbaColorObject","$c398a0ea03e027b6$var$writeRgbColorObject","$c398a0ea03e027b6$var$NumberColorInputPlugin","$c398a0ea03e027b6$var$isForColor","inputParams","colorToNumber","$c398a0ea03e027b6$var$createColorNumberWriter","$c398a0ea03e027b6$var$createColorObjectBindingReader","$c398a0ea03e027b6$var$colorFromObject","$c398a0ea03e027b6$var$createColorObjectFormatter","$c398a0ea03e027b6$var$ObjectColorInputPlugin","$c398a0ea03e027b6$var$StringColorInputPlugin","$c398a0ea03e027b6$var$createColorStringWriter","$c398a0ea03e027b6$var$PointNdConstraint","asm_","assembly","toComponents","fromComponents","$c398a0ea03e027b6$var$cn$6","$c398a0ea03e027b6$var$PointNdTextView","textViews","axisElem","$c398a0ea03e027b6$var$PointNdTextController","acs_","axes","$c398a0ea03e027b6$var$createAxisController","ac","textControllers","$c398a0ea03e027b6$export$3625dc7394defb1","$c398a0ea03e027b6$var$NumberInputPlugin","rc","$c398a0ea03e027b6$var$createConstraint$4","textPropsObj","drc","$c398a0ea03e027b6$var$Point2d","toObject","$c398a0ea03e027b6$var$Point2dAssembly","$c398a0ea03e027b6$var$cn$5","$c398a0ea03e027b6$var$Point2dView","$c398a0ea03e027b6$var$cn$4","$c398a0ea03e027b6$var$Point2dPickerView","onFoldableChange_","onPropsChange_","layout","padElem","padElement","svgElem","svgElem_","xAxisElem","yAxisElem","lineElem","lineElem_","px","py","ipy","$c398a0ea03e027b6$var$computeOffset","keyScales","invertsY","$c398a0ea03e027b6$var$Point2dPickerController","onPadKeyDown_","onPadKeyUp_","$c398a0ea03e027b6$var$Point2dController","onPadButtonBlur_","onPadButtonClick_","padC","xKeyScale","yKeyScale","$c398a0ea03e027b6$var$point2dFromUnknown","isObject","$c398a0ea03e027b6$var$writePoint2d","$c398a0ea03e027b6$var$getSuitableMaxDimensionValue","$c398a0ea03e027b6$var$getSuitableMax","xr","yr","$c398a0ea03e027b6$var$shouldInvertY","yParams","inverted","$c398a0ea03e027b6$var$Point2dInputPlugin","$c398a0ea03e027b6$var$createConstraint$3","dParams","$c398a0ea03e027b6$var$Point3d","$c398a0ea03e027b6$var$Point3dAssembly","$c398a0ea03e027b6$var$point3dFromUnknown","$c398a0ea03e027b6$var$writePoint3d","$c398a0ea03e027b6$var$Point3dInputPlugin","$c398a0ea03e027b6$var$createConstraint$2","$c398a0ea03e027b6$var$Point4d","$c398a0ea03e027b6$var$Point4dAssembly","$c398a0ea03e027b6$var$point4dFromUnknown","$c398a0ea03e027b6$var$writePoint4d","$c398a0ea03e027b6$var$Point4dInputPlugin","$c398a0ea03e027b6$var$createConstraint$1","$c398a0ea03e027b6$var$StringInputPlugin","$c398a0ea03e027b6$var$createConstraint","$c398a0ea03e027b6$var$Constants","defaultInterval","defaultRows","$c398a0ea03e027b6$var$cn$3","$c398a0ea03e027b6$var$MultiLogView","onValueUpdate_","formatter_","textareaElem","rows","readOnly","textareaElem_","shouldScroll","scrollTop","scrollHeight","$c398a0ea03e027b6$var$MultiLogController","$c398a0ea03e027b6$var$cn$2","$c398a0ea03e027b6$var$SingleLogView","lastValue","$c398a0ea03e027b6$var$SingleLogController","$c398a0ea03e027b6$var$BooleanMonitorPlugin","$c398a0ea03e027b6$var$GraphLogMonitorBindingApi","$c398a0ea03e027b6$var$cn$1","$c398a0ea03e027b6$var$GraphLogView","onCursorChange_","cursor_","graphElement","clientWidth","maxIndex","points","tx","ty","$c398a0ea03e027b6$var$GraphLogController","onGraphMouseMove_","onGraphMouseLeave_","onGraphPointerDown_","onGraphPointerMove_","onGraphPointerUp_","offsetX","$c398a0ea03e027b6$var$createFormatter","$c398a0ea03e027b6$var$shouldShowGraph","$c398a0ea03e027b6$var$NumberMonitorPlugin","defaultBufferSize","$c398a0ea03e027b6$var$createGraphMonitor","$c398a0ea03e027b6$var$createTextMonitor","$c398a0ea03e027b6$var$StringMonitorPlugin","multiline","$c398a0ea03e027b6$var$ReadWriteBinding","reader_","writer_","$c398a0ea03e027b6$var$ReadonlyBinding","$c398a0ea03e027b6$var$createTicker","$c398a0ea03e027b6$var$PluginPool","apiCache","pluginsMap_","blades","inputs","monitors","apiCache_","getAll","ver","notCompatible","unshift","createInput_","valueArgs","$c398a0ea03e027b6$var$createInputBindingController","createMonitor_","bindingArgs","$c398a0ea03e027b6$var$createMonitorBindingController","ic","mc","$c398a0ea03e027b6$var$createBladeController","createInputBindingApi_","createMonitorBindingApi_","$c398a0ea03e027b6$var$isBindingController","$c398a0ea03e027b6$var$sharedCache","map_","$c398a0ea03e027b6$export$ac60a85524f159aa","$c398a0ea03e027b6$export$1238ed6f25e8dd1d","$c398a0ea03e027b6$export$19e2a27d537c8530","$c398a0ea03e027b6$export$51e778ed12ba695a","$c398a0ea03e027b6$var$ListBladePlugin","$c398a0ea03e027b6$var$RootApi","$c398a0ea03e027b6$var$RootController","$c398a0ea03e027b6$var$cn","$c398a0ea03e027b6$var$SeparatorView","hrElem","$c398a0ea03e027b6$var$SeparatorController","$c398a0ea03e027b6$var$SeparatorBladePlugin","$c398a0ea03e027b6$var$SliderBladePlugin","vc","$c398a0ea03e027b6$var$TextBladePlugin","$c398a0ea03e027b6$export$fd2e1a4921eb839b","opt_config","$c398a0ea03e027b6$var$createDefaultPluginPool","containerElem_","container","$c398a0ea03e027b6$var$createDefaultWrapperElement","usesDefaultWrapper_","setUpDefaultPlugins_","parentElem","registerPlugin","bundle","css","querySelector","styleElem","dataset","tpStyle","head","$c398a0ea03e027b6$var$embedStyle","plugins","$2bd07cd386bdcc4b$var$isEmpty","$2bd07cd386bdcc4b$var$isObject$1","$2bd07cd386bdcc4b$var$isRecord","$2bd07cd386bdcc4b$var$deepEqualsArray","$2bd07cd386bdcc4b$var$deepMerge","$2bd07cd386bdcc4b$var$CREATE_MESSAGE_MAP","$2bd07cd386bdcc4b$var$TpError","$2bd07cd386bdcc4b$var$BindingTarget","$2bd07cd386bdcc4b$var$Emitter","$2bd07cd386bdcc4b$var$ComplexValue","$2bd07cd386bdcc4b$var$PrimitiveValue","$2bd07cd386bdcc4b$var$ReadonlyPrimitiveValue","$2bd07cd386bdcc4b$var$createValue","$2bd07cd386bdcc4b$var$ValueMap","$2bd07cd386bdcc4b$var$DefiniteRangeConstraint","$2bd07cd386bdcc4b$var$RangeConstraint","$2bd07cd386bdcc4b$var$StepConstraint","$2bd07cd386bdcc4b$var$NumberLiteralNode","$2bd07cd386bdcc4b$var$BINARY_OPERATION_MAP","$2bd07cd386bdcc4b$var$BinaryOperationNode","$2bd07cd386bdcc4b$var$UNARY_OPERATION_MAP","$2bd07cd386bdcc4b$var$UnaryOperationNode","$2bd07cd386bdcc4b$var$combineReader","$2bd07cd386bdcc4b$var$readWhitespace","$2bd07cd386bdcc4b$var$readDecimalDigits","$2bd07cd386bdcc4b$var$readExponentPart","$2bd07cd386bdcc4b$var$readSignedInteger","$2bd07cd386bdcc4b$var$readDecimalIntegerLiteral","$2bd07cd386bdcc4b$var$readNonZeroDigit","$2bd07cd386bdcc4b$var$readDecimalLiteral","$2bd07cd386bdcc4b$var$readNonDecimalIntegerLiteral","$2bd07cd386bdcc4b$var$parseBinaryDigits","$2bd07cd386bdcc4b$var$readOctalDigits","$2bd07cd386bdcc4b$var$readHexDigits","$2bd07cd386bdcc4b$var$readNumericLiteral","$2bd07cd386bdcc4b$var$parsePrimaryExpression","$2bd07cd386bdcc4b$var$parseLiteral","$2bd07cd386bdcc4b$var$parseExpression","$2bd07cd386bdcc4b$var$parseParenthesizedExpression","$2bd07cd386bdcc4b$var$readBinaryOperator","$2bd07cd386bdcc4b$var$parseBinaryOperationExpression","$2bd07cd386bdcc4b$var$createBinaryOperationExpressionParser","$2bd07cd386bdcc4b$var$parseUnaryExpression","$2bd07cd386bdcc4b$var$parseNumber","$2bd07cd386bdcc4b$var$parseEcmaNumberExpression","$2bd07cd386bdcc4b$var$numberFromUnknown","$2bd07cd386bdcc4b$var$createNumberFormatter","$2bd07cd386bdcc4b$var$mapRange","$2bd07cd386bdcc4b$var$getDecimalDigits","$2bd07cd386bdcc4b$var$constrainRange","$2bd07cd386bdcc4b$var$loopRange","$2bd07cd386bdcc4b$var$getSuitableDecimalDigits","$2bd07cd386bdcc4b$var$getSuitableKeyScale","$2bd07cd386bdcc4b$var$getSuitablePointerScale","$2bd07cd386bdcc4b$var$createStepConstraint","$2bd07cd386bdcc4b$var$createRangeConstraint","$2bd07cd386bdcc4b$var$createNumberTextPropsObject","$2bd07cd386bdcc4b$var$createNumberTextInputParamsParser","$2bd07cd386bdcc4b$var$createPointAxis","$2bd07cd386bdcc4b$var$BladeApi","$2bd07cd386bdcc4b$var$TpEvent","$2bd07cd386bdcc4b$var$TpChangeEvent","$2bd07cd386bdcc4b$var$TpFoldEvent","$2bd07cd386bdcc4b$var$TpTabSelectEvent","$2bd07cd386bdcc4b$var$BindingApi","$2bd07cd386bdcc4b$var$createMicroParserBuilder","$2bd07cd386bdcc4b$var$createMicroParserBuilders","$2bd07cd386bdcc4b$var$parseObject","$2bd07cd386bdcc4b$var$MicroParsers","$2bd07cd386bdcc4b$var$parseRecord","$2bd07cd386bdcc4b$var$importBladeState","$2bd07cd386bdcc4b$var$exportBladeState","$2bd07cd386bdcc4b$var$isValueBladeController","$2bd07cd386bdcc4b$var$isBindingValue","$2bd07cd386bdcc4b$var$SVG_NS","$2bd07cd386bdcc4b$var$forceReflow","$2bd07cd386bdcc4b$var$supportsTouch","$2bd07cd386bdcc4b$var$ICON_ID_TO_INNER_HTML_MAP","$2bd07cd386bdcc4b$var$createSvgIconElement","$2bd07cd386bdcc4b$var$insertElementAt","$2bd07cd386bdcc4b$var$removeElement","$2bd07cd386bdcc4b$var$removeChildElements","$2bd07cd386bdcc4b$var$findNextTarget","$2bd07cd386bdcc4b$var$bindValue","$2bd07cd386bdcc4b$var$bindValueMap","$2bd07cd386bdcc4b$var$PREFIX","$2bd07cd386bdcc4b$var$ClassName","$2bd07cd386bdcc4b$var$cn$q","$2bd07cd386bdcc4b$var$LabelView","$2bd07cd386bdcc4b$var$removeChildNodes","$2bd07cd386bdcc4b$var$createLabelNode","$2bd07cd386bdcc4b$var$LabelController","$2bd07cd386bdcc4b$var$cn$p","$2bd07cd386bdcc4b$var$POS_TO_CLASS_NAME_MAP","$2bd07cd386bdcc4b$var$BladeController","$2bd07cd386bdcc4b$var$LabeledValueBladeController","$2bd07cd386bdcc4b$var$fillBuffer","$2bd07cd386bdcc4b$var$initializeBuffer","$2bd07cd386bdcc4b$var$createTrimmedBuffer","$2bd07cd386bdcc4b$var$ButtonApi","$2bd07cd386bdcc4b$var$valueToClassName","$2bd07cd386bdcc4b$var$applyClass","$2bd07cd386bdcc4b$var$bindValueToTextContent","$2bd07cd386bdcc4b$var$cn$o","$2bd07cd386bdcc4b$var$ButtonView","$2bd07cd386bdcc4b$var$ButtonController","$2bd07cd386bdcc4b$var$ButtonBladeController","$2bd07cd386bdcc4b$var$VERSION","$2bd07cd386bdcc4b$var$createPlugin","$2bd07cd386bdcc4b$var$RackApi","$2bd07cd386bdcc4b$var$createBindingTarget","$2bd07cd386bdcc4b$var$addFolderAsBlade","$2bd07cd386bdcc4b$var$addButtonAsBlade","$2bd07cd386bdcc4b$var$addTabAsBlade","$2bd07cd386bdcc4b$var$ContainerBladeApi","$2bd07cd386bdcc4b$var$ContainerBladeController","$2bd07cd386bdcc4b$var$isContainerBladeController","$2bd07cd386bdcc4b$var$NestedOrderedSet","$2bd07cd386bdcc4b$var$findSubBladeControllerSet","$2bd07cd386bdcc4b$var$Rack","$2bd07cd386bdcc4b$var$findValueBladeController","$2bd07cd386bdcc4b$var$RackController","$2bd07cd386bdcc4b$var$createBlade","$2bd07cd386bdcc4b$var$Foldable","$2bd07cd386bdcc4b$var$applyHeight","$2bd07cd386bdcc4b$var$bindFoldable","$2bd07cd386bdcc4b$var$disableTransitionTemporarily","$2bd07cd386bdcc4b$var$computeExpandedFolderHeight","$2bd07cd386bdcc4b$var$FolderApi","$2bd07cd386bdcc4b$var$bladeContainerClassName","$2bd07cd386bdcc4b$var$FolderView","$2bd07cd386bdcc4b$var$FolderController","$2bd07cd386bdcc4b$var$cn$n","$2bd07cd386bdcc4b$var$valueToModifier","$2bd07cd386bdcc4b$var$ViewProps","$2bd07cd386bdcc4b$var$cn$m","$2bd07cd386bdcc4b$var$TabPageView","$2bd07cd386bdcc4b$var$cn$l","$2bd07cd386bdcc4b$var$TabItemView","$2bd07cd386bdcc4b$var$TabItemController","$2bd07cd386bdcc4b$var$TabPageController","$2bd07cd386bdcc4b$var$TabApi","$2bd07cd386bdcc4b$var$TabPageApi","$2bd07cd386bdcc4b$var$Tab","$2bd07cd386bdcc4b$var$cn$k","$2bd07cd386bdcc4b$var$TabView","$2bd07cd386bdcc4b$var$TabController","$2bd07cd386bdcc4b$var$ListInputBindingApi","$2bd07cd386bdcc4b$var$ManualTicker","$2bd07cd386bdcc4b$var$IntervalTicker","$2bd07cd386bdcc4b$var$CompositeConstraint","$2bd07cd386bdcc4b$var$findConstraint","$2bd07cd386bdcc4b$var$ListConstraint","$2bd07cd386bdcc4b$var$parseListOptions","$2bd07cd386bdcc4b$var$normalizeListOptions","$2bd07cd386bdcc4b$var$createListConstraint","$2bd07cd386bdcc4b$var$cn$j","$2bd07cd386bdcc4b$var$ListView","$2bd07cd386bdcc4b$var$ListController","$2bd07cd386bdcc4b$var$cn$i","$2bd07cd386bdcc4b$var$PopupView","$2bd07cd386bdcc4b$var$PopupController","$2bd07cd386bdcc4b$var$cn$h","$2bd07cd386bdcc4b$var$TextView","$2bd07cd386bdcc4b$var$TextController","$2bd07cd386bdcc4b$var$boolFromUnknown","$2bd07cd386bdcc4b$var$BooleanFormatter","$2bd07cd386bdcc4b$var$boolToString","$2bd07cd386bdcc4b$var$innerFormatter","$2bd07cd386bdcc4b$var$formatPercentage","$2bd07cd386bdcc4b$var$stringFromUnknown","$2bd07cd386bdcc4b$var$formatString","$2bd07cd386bdcc4b$var$connectValues","$2bd07cd386bdcc4b$var$getStepForKey","$2bd07cd386bdcc4b$var$getVerticalStepKeys","$2bd07cd386bdcc4b$var$getHorizontalStepKeys","$2bd07cd386bdcc4b$var$isArrowKey","$2bd07cd386bdcc4b$var$isVerticalArrowKey","$2bd07cd386bdcc4b$var$computeOffset$1","$2bd07cd386bdcc4b$var$PointerHandler","$2bd07cd386bdcc4b$var$cn$g","$2bd07cd386bdcc4b$var$NumberTextView","$2bd07cd386bdcc4b$var$NumberTextController","$2bd07cd386bdcc4b$var$cn$f","$2bd07cd386bdcc4b$var$SliderView","$2bd07cd386bdcc4b$var$SliderController","$2bd07cd386bdcc4b$var$cn$e","$2bd07cd386bdcc4b$var$SliderTextView","$2bd07cd386bdcc4b$var$SliderTextController","$2bd07cd386bdcc4b$var$CSS_VAR_MAP","$2bd07cd386bdcc4b$var$getCssVar","$2bd07cd386bdcc4b$var$PlainView","cn","$2bd07cd386bdcc4b$var$createPointDimensionParser","$2bd07cd386bdcc4b$var$parsePointDimensionParams","$2bd07cd386bdcc4b$var$createDimensionConstraint","$2bd07cd386bdcc4b$var$parsePickerLayout","$2bd07cd386bdcc4b$var$writePrimitive","$2bd07cd386bdcc4b$var$cn$d","$2bd07cd386bdcc4b$var$CheckboxView","$2bd07cd386bdcc4b$var$CheckboxController","$2bd07cd386bdcc4b$var$createConstraint$8","$2bd07cd386bdcc4b$var$cn$c","$2bd07cd386bdcc4b$var$ColorView","$2bd07cd386bdcc4b$var$hsvToRgbInt","$2bd07cd386bdcc4b$var$removeAlphaComponent","$2bd07cd386bdcc4b$var$appendAlphaComponent","$2bd07cd386bdcc4b$var$MODE_CONVERTER_MAP","$2bd07cd386bdcc4b$var$getColorMaxComponents","$2bd07cd386bdcc4b$var$constrainColorComponents","$2bd07cd386bdcc4b$var$convertColorType","$2bd07cd386bdcc4b$var$convertColor","$2bd07cd386bdcc4b$var$IntColor","$2bd07cd386bdcc4b$var$cn$b","$2bd07cd386bdcc4b$var$ColorPickerView","$2bd07cd386bdcc4b$var$parseColorType","$2bd07cd386bdcc4b$var$parseColorInputParams","$2bd07cd386bdcc4b$var$getKeyScaleForColor","$2bd07cd386bdcc4b$var$extractColorType","$2bd07cd386bdcc4b$var$FloatColor","$2bd07cd386bdcc4b$var$TYPE_TO_CONSTRUCTOR_MAP","$2bd07cd386bdcc4b$var$createColor","$2bd07cd386bdcc4b$var$mapColorType","$2bd07cd386bdcc4b$var$isIntColor","$2bd07cd386bdcc4b$var$convertIntToFloat","$2bd07cd386bdcc4b$var$isFloatColor","$2bd07cd386bdcc4b$var$convertFloatToInt","$2bd07cd386bdcc4b$var$parseCssNumberOrPercentage","$2bd07cd386bdcc4b$var$ANGLE_TO_DEG_MAP","$2bd07cd386bdcc4b$var$parseCssNumberOrAngle","$2bd07cd386bdcc4b$var$parseFunctionalRgbColorComponents","$2bd07cd386bdcc4b$var$parseFunctionalRgbColor","$2bd07cd386bdcc4b$var$parseFunctionalRgbaColorComponents","$2bd07cd386bdcc4b$var$parseFunctionalRgbaColor","$2bd07cd386bdcc4b$var$parseFunctionalHslColorComponents","$2bd07cd386bdcc4b$var$parseFunctionalHslColor","$2bd07cd386bdcc4b$var$parseHslaColorComponents","$2bd07cd386bdcc4b$var$parseFunctionalHslaColor","$2bd07cd386bdcc4b$var$parseHexRgbColorComponents","$2bd07cd386bdcc4b$var$parseHexRgbColor","$2bd07cd386bdcc4b$var$parseHexRgbaColorComponents","$2bd07cd386bdcc4b$var$parseHexRgbaColor","$2bd07cd386bdcc4b$var$parseObjectRgbColorComponents","$2bd07cd386bdcc4b$var$createObjectRgbColorParser","$2bd07cd386bdcc4b$var$parseObjectRgbaColorComponents","$2bd07cd386bdcc4b$var$createObjectRgbaColorParser","$2bd07cd386bdcc4b$var$PARSER_AND_RESULT","$2bd07cd386bdcc4b$var$detectStringColorFormat","$2bd07cd386bdcc4b$var$detectStringColor","$2bd07cd386bdcc4b$var$createColorStringParser","$2bd07cd386bdcc4b$var$composeParsers","$2bd07cd386bdcc4b$var$readIntColorString","$2bd07cd386bdcc4b$var$zerofill","$2bd07cd386bdcc4b$var$colorToHexRgbString","$2bd07cd386bdcc4b$var$colorToHexRgbaString","$2bd07cd386bdcc4b$var$colorToFunctionalRgbString","$2bd07cd386bdcc4b$var$colorToFunctionalRgbaString","$2bd07cd386bdcc4b$var$colorToObjectRgbString","$2bd07cd386bdcc4b$var$createObjectRgbColorFormatter","$2bd07cd386bdcc4b$var$colorToObjectRgbaString","$2bd07cd386bdcc4b$var$createObjectRgbaColorFormatter","$2bd07cd386bdcc4b$var$FORMAT_AND_STRINGIFIERS","$2bd07cd386bdcc4b$var$findColorStringifier","$2bd07cd386bdcc4b$var$cn$a","$2bd07cd386bdcc4b$var$APaletteView","$2bd07cd386bdcc4b$var$APaletteController","$2bd07cd386bdcc4b$var$cn$9","$2bd07cd386bdcc4b$var$ColorTextsView","$2bd07cd386bdcc4b$var$createModeSelectElement","$2bd07cd386bdcc4b$var$createConstraint$7","$2bd07cd386bdcc4b$var$createComponentControllers","$2bd07cd386bdcc4b$var$createComponentController","$2bd07cd386bdcc4b$var$ColorTextsController","$2bd07cd386bdcc4b$var$isColorMode","$2bd07cd386bdcc4b$var$createHexController","$2bd07cd386bdcc4b$var$cn$8","$2bd07cd386bdcc4b$var$HPaletteView","$2bd07cd386bdcc4b$var$HPaletteController","$2bd07cd386bdcc4b$var$cn$7","$2bd07cd386bdcc4b$var$SvPaletteView","$2bd07cd386bdcc4b$var$getCanvasContext","$2bd07cd386bdcc4b$var$SvPaletteController","$2bd07cd386bdcc4b$var$ColorPickerController","$2bd07cd386bdcc4b$var$cn$6","$2bd07cd386bdcc4b$var$ColorSwatchView","$2bd07cd386bdcc4b$var$ColorSwatchController","$2bd07cd386bdcc4b$var$ColorController","$2bd07cd386bdcc4b$var$colorToRgbNumber","$2bd07cd386bdcc4b$var$colorToRgbaNumber","$2bd07cd386bdcc4b$var$colorFromRgbNumber","$2bd07cd386bdcc4b$var$colorFromRgbaNumber","$2bd07cd386bdcc4b$var$isRgbColorComponent","$2bd07cd386bdcc4b$var$isRgbColorObject","$2bd07cd386bdcc4b$var$isRgbaColorObject","$2bd07cd386bdcc4b$var$isColorObject","$2bd07cd386bdcc4b$var$equalsColor","$2bd07cd386bdcc4b$var$createColorComponentsFromRgbObject","$2bd07cd386bdcc4b$var$createColorObjectWriter","$2bd07cd386bdcc4b$var$writeRgbaColorObject","$2bd07cd386bdcc4b$var$writeRgbColorObject","$2bd07cd386bdcc4b$var$createColorObjectBindingReader","$2bd07cd386bdcc4b$var$colorFromObject","$2bd07cd386bdcc4b$var$createColorObjectFormatter","$2bd07cd386bdcc4b$var$isForColor","$2bd07cd386bdcc4b$var$createColorNumberWriter","$2bd07cd386bdcc4b$var$createColorStringWriter","$2bd07cd386bdcc4b$var$PointNdConstraint","$2bd07cd386bdcc4b$var$cn$5","$2bd07cd386bdcc4b$var$PointNdTextView","$2bd07cd386bdcc4b$var$PointNdTextController","$2bd07cd386bdcc4b$var$createAxisController","$2bd07cd386bdcc4b$var$SliderInputBindingApi","$2bd07cd386bdcc4b$var$createConstraint$6","$2bd07cd386bdcc4b$var$Point2d","$2bd07cd386bdcc4b$var$Point2dAssembly","$2bd07cd386bdcc4b$var$cn$4","$2bd07cd386bdcc4b$var$Point2dView","$2bd07cd386bdcc4b$var$cn$3","$2bd07cd386bdcc4b$var$Point2dPickerView","$2bd07cd386bdcc4b$var$computeOffset","$2bd07cd386bdcc4b$var$Point2dPickerController","$2bd07cd386bdcc4b$var$Point2dController","$2bd07cd386bdcc4b$var$point2dFromUnknown","$2bd07cd386bdcc4b$var$writePoint2d","$2bd07cd386bdcc4b$var$getSuitableMaxDimensionValue","$2bd07cd386bdcc4b$var$getSuitableMax","$2bd07cd386bdcc4b$var$shouldInvertY","$2bd07cd386bdcc4b$var$createConstraint$5","$2bd07cd386bdcc4b$var$Point3d","$2bd07cd386bdcc4b$var$Point3dAssembly","$2bd07cd386bdcc4b$var$point3dFromUnknown","$2bd07cd386bdcc4b$var$writePoint3d","$2bd07cd386bdcc4b$var$createConstraint$4","$2bd07cd386bdcc4b$var$Point4d","$2bd07cd386bdcc4b$var$Point4dAssembly","$2bd07cd386bdcc4b$var$point4dFromUnknown","$2bd07cd386bdcc4b$var$writePoint4d","$2bd07cd386bdcc4b$var$createConstraint$3","$2bd07cd386bdcc4b$var$createConstraint$2","$2bd07cd386bdcc4b$var$Constants","$2bd07cd386bdcc4b$var$cn$2","$2bd07cd386bdcc4b$var$MultiLogView","$2bd07cd386bdcc4b$var$MultiLogController","$2bd07cd386bdcc4b$var$cn$1","$2bd07cd386bdcc4b$var$SingleLogView","$2bd07cd386bdcc4b$var$SingleLogController","$2bd07cd386bdcc4b$var$GraphLogMonitorBindingApi","$2bd07cd386bdcc4b$var$cn","$2bd07cd386bdcc4b$var$GraphLogView","$2bd07cd386bdcc4b$var$GraphLogController","$2bd07cd386bdcc4b$var$createFormatter","$2bd07cd386bdcc4b$var$shouldShowGraph","$2bd07cd386bdcc4b$var$createGraphMonitor","$2bd07cd386bdcc4b$var$createTextMonitor","$2bd07cd386bdcc4b$export$a648d9b70bedb870","$2bd07cd386bdcc4b$var$TpButtonGridEvent","cell","$2bd07cd386bdcc4b$export$af18fbf1282f6033","cellToApiMap_","gc","cellControllers","$2bd07cd386bdcc4b$export$135d75546505fc82","cellConfig","cellCs_","gridTemplateColumns","$2bd07cd386bdcc4b$var$ButtonGridBladeController","$2bd07cd386bdcc4b$var$ButtonGridBladePlugin","cells","$2bd07cd386bdcc4b$export$a77feaec5d1ec3e2","$2bd07cd386bdcc4b$var$interpolate","$2bd07cd386bdcc4b$var$y","dt","curve","$2bd07cd386bdcc4b$export$23906a695c829bf8","y1","x01","y01","x12","y12","x23","y23","xr0","yr0","xr1","yr1","cache","$2bd07cd386bdcc4b$var$CACHE_RESOLUTION","$2bd07cd386bdcc4b$export$396274a82691282b","$2bd07cd386bdcc4b$var$cubicBezierToString","$2bd07cd386bdcc4b$var$COMPS_EMPTY","$2bd07cd386bdcc4b$var$cubicBezierFromString","n","$2bd07cd386bdcc4b$var$className$7","$2bd07cd386bdcc4b$export$9cb2a937ef717ab9","iconElem","$2bd07cd386bdcc4b$var$className$6","$2bd07cd386bdcc4b$export$bc7a2e50e083d6ee","graphElem","$2bd07cd386bdcc4b$var$waitToBeAddedToDom","ob","MutationObserver","ml","addedNodes","disconnect","observe","childList","subtree","$2bd07cd386bdcc4b$var$className$5","$2bd07cd386bdcc4b$export$406f08ce6a569df7","previewElement","guideElem_","handleElems_","vectorElems_","sel_","selection","h1","h2","input","getVertMargin_","valueToPosition","vm","positionToValue","p1","p2","bezier","vElem","$2bd07cd386bdcc4b$var$className$4","$2bd07cd386bdcc4b$export$e9a9c9727e395f2c","stopped_","startTime_","onDispose_","onTimer_","ticksElem","ticksElem_","play","stop","updateMarker_","Date","getTime","requestAnimationFrame","progress","$2bd07cd386bdcc4b$var$TICK_COUNT","$2bd07cd386bdcc4b$var$PREVIEW_DURATION","$2bd07cd386bdcc4b$var$getDistance","$2bd07cd386bdcc4b$export$4bd7b80e4ce710ef","keyScale_","prevView_","stopImmediatePropagation","ptHandler","updateValue_","locksAngle","la","$2bd07cd386bdcc4b$var$lockAngle","d1","d2","xStep","yStep","$2bd07cd386bdcc4b$export$b7d31d55440712c5","gc_","xAxis","yAxis","tc_","$2bd07cd386bdcc4b$export$1be9bcbe377560cf","$2bd07cd386bdcc4b$var$CubicBezierBladePlugin","$2bd07cd386bdcc4b$export$ef2cdddf0808a531","fps","begin","end","$2bd07cd386bdcc4b$export$4c6a8ec12992863","start_","duration_","fps_","frameCount_","timestamps_","duration","now","calculateFps_","nowTime","ts","frameCount","time","compactTimestamps_","df","$2bd07cd386bdcc4b$var$className$3","$2bd07cd386bdcc4b$export$9ba5a88bd1bb2b10","unitElement","$2bd07cd386bdcc4b$export$9814e5178774a2d3","stopwatch_","graphC_","$2bd07cd386bdcc4b$var$createPushedBuffer","$2bd07cd386bdcc4b$var$FpsGraphBladeController","fc","$2bd07cd386bdcc4b$var$createTicker","$2bd07cd386bdcc4b$var$FpsGraphBladePlugin","_d","$2bd07cd386bdcc4b$export$e659c2681d58d45b","$2bd07cd386bdcc4b$export$d23f8d084fe2f1d","$2bd07cd386bdcc4b$export$19702da273a01423","edge","_e","_f","_g","_h","$2bd07cd386bdcc4b$var$className$2","$2bd07cd386bdcc4b$export$30352d5f63f951ba","$2bd07cd386bdcc4b$var$className$1","$2bd07cd386bdcc4b$export$d8b9eeac393aa947","onSliderPropsChange_","barElement","knobElems","knobElements","valueToX_","xs","$2bd07cd386bdcc4b$export$fb197d6a63681f9b","grabbing_","grabOffset_","ofs_","valueFromData_","pmin","pmax","applyPointToValue_","rmin","rmax","$2bd07cd386bdcc4b$export$219db40a4563a4b6","sc_","$2bd07cd386bdcc4b$var$intervalFromUnknown","$2bd07cd386bdcc4b$var$writeInterval","$2bd07cd386bdcc4b$var$IntervalInputPlugin","exValue","$2bd07cd386bdcc4b$var$createConstraint","midValue","$2bd07cd386bdcc4b$export$4dc8961e154ff92d","$2bd07cd386bdcc4b$export$645cae1bf7a0f188","$2bd07cd386bdcc4b$export$306e5cd166c47176","findCellByValue","capi","$2bd07cd386bdcc4b$var$className","$2bd07cd386bdcc4b$export$bf0779646dca957a","$2bd07cd386bdcc4b$export$f9ea915308ee1e58","$2bd07cd386bdcc4b$export$b85368309dcad59c","cellValues_","onCellInputChange_","groupName","$2bd07cd386bdcc4b$var$RadioGridBladePlugin","$2bd07cd386bdcc4b$var$createRadioGridInputPlugin","isType","$2bd07cd386bdcc4b$var$RadioGruidNumberInputPlugin","$2bd07cd386bdcc4b$var$RadioGruidStringInputPlugin","$2bd07cd386bdcc4b$var$RadioGruidBooleanInputPlugin","$2bd07cd386bdcc4b$export$d560c7e4a29451c2","$2bd07cd386bdcc4b$export$dbf350e5966cf602","$2bd07cd386bdcc4b$export$8b3ca321c77fdea6","$3360da19999d0066$export$2e2bcd8739ae039","init","configObj","pane","$2bd07cd386bdcc4b$exports","main","fpsGraph","onChangeHandler","addBindings","onChangeHandlerArg","tickStart","tickEnd","$af9097e7dee58cd5$var$AppStatus","AppStatus","$a7042bdb01814bb8$export$2e2bcd8739ae039","speed","noiseForce","noiseScale","$4b00d4943d47d067$var$app","status","INIT","async","clearColor","initCamera","onResize","noiseTex","$parcel$interopDefault","createSphere","tweakPanel","updateConfigUniforms","READY","sphereShader","orbitControls","innerWidth","innerHeight","createSphereShader","uTime","nTex","img","Image","res","Promise","onload","inc","vertexList","vertexArray","val","POINTS","$4b00d4943d47d067$var$update"],"version":3,"file":"index.4a2da6e8.js.map"}